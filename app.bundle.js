/*

ace
---
Copyright (c) 2010, Ajax.org B.V.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
    * Neither the name of Ajax.org B.V. nor the
      names of its contributors may be used to endorse or promote products
      derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY
DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.


buffer
---
The MIT License (MIT)

Copyright (c) Feross Aboukhadijeh, and other contributors.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.


Dexie.js
---
Copyright (c) 2014-2017 David Fahlander

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.


dot
---
Copyright (c) 2011 Laura Doktorova

Software includes portions from jQote2 Copyright (c) 2010 aefxx,
http://aefxx.com/ licensed under the MIT license.

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


isomorphic-git
---
Copyright 2017-2018 the 'isomorphic-git' authors

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


Jdenticon
---
MIT License

Copyright (c) 2014-2018 Daniel Mester Pirttijärvi

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.


jquery
---
Copyright 2014 jQuery Foundation and other contributors
http://jquery.com/

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


diff
---
Software License Agreement (BSD License)

Copyright (c) 2009-2015, Kevin Decker <kpdecker@gmail.com>

All rights reserved.

Redistribution and use of this software in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above
  copyright notice, this list of conditions and the
  following disclaimer.

* Redistributions in binary form must reproduce the above
  copyright notice, this list of conditions and the
  following disclaimer in the documentation and/or other
  materials provided with the distribution.

* Neither the name of Kevin Decker nor the names of its
  contributors may be used to endorse or promote products
  derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.


spck-module
---
The MIT License (MIT)
=====================

Copyright © `2018` `Zeb Zhao`

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the “Software”), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.


js-beautify
---
The MIT License (MIT)

Copyright (c) 2007-2018 Einar Lielmanis, Liam Newman, and contributors.

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


spck-ui
---
The MIT License (MIT)
=====================

Copyright © `2017` `Zeb Zhao`

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the “Software”), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.


uikit
---
The MIT License (MIT)

Copyright (c) YOOtheme GmbH

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


minimatch
---
The ISC License

Copyright (c) Isaac Z. Schlueter and Contributors

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted, provided that the above
copyright notice and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR
IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.


jaro-winkler
---
The MIT License (MIT)

Copyright (c) 2015 Jordan Thomas

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.


typescript
---

*****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
*****************************************************************************

----------------- TypeScript ThirdPartyNotices -------------------------------------------------------

The TypeScript software is based on or incorporates material and code from the projects listed below
(collectively "Third Party Code"). Microsoft is not the original author of the
Third Party Code. The original copyright notice and the license, under which
Microsoft received such Third Party Code, are set forth below. Such license and
notices are provided for informational purposes only. Microsoft licenses the Third
Party Code to you under the terms of the Apache 2.0 License.
All Third Party Code licensed by Microsoft under the Apache License, Version 2.0 (the "License"); you
may not use this file except in compliance with the License. You may obtain a copy
of the License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED WARRANTIES OR
CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE, MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions and
limitations under the License.
---------------------------------------------
Third Party Code Components
--------------------------------------------

------------------- DefinitelyTyped --------------------
This file is based on or incorporates material from the projects listed below (collectively "Third Party Code"). Microsoft is not the original author of the Third Party Code. The original copyright notice and the license, under which Microsoft received such Third Party Code, are set forth below. Such licenses and notices are provided for informational purposes only. Microsoft, not the third party, licenses the Third Party Code to you under the terms set forth in the EULA for the Microsoft Product. Microsoft reserves all other rights not expressly granted under this agreement, whether by implication, estoppel or otherwise.
DefinitelyTyped
This project is licensed under the MIT license.
Copyrights are respective of each contributor listed at the beginning of each definition file.
Provided for Informational Purposes Only

MIT License
Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the ""Software""), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
--------------------------------------------------------------------------------------

------------------- Unicode --------------------
UNICODE, INC. LICENSE AGREEMENT - DATA FILES AND SOFTWARE

Unicode Data Files include all data files under the directories
http://www.unicode.org/Public/, http://www.unicode.org/reports/,
http://www.unicode.org/cldr/data/, http://source.icu-project.org/repos/icu/, and
http://www.unicode.org/utility/trac/browser/.

Unicode Data Files do not include PDF online code charts under the
directory http://www.unicode.org/Public/.

Software includes any source code published in the Unicode Standard
or under the directories
http://www.unicode.org/Public/, http://www.unicode.org/reports/,
http://www.unicode.org/cldr/data/, http://source.icu-project.org/repos/icu/, and
http://www.unicode.org/utility/trac/browser/.

NOTICE TO USER: Carefully read the following legal agreement.
BY DOWNLOADING, INSTALLING, COPYING OR OTHERWISE USING UNICODE INC.'S
DATA FILES ("DATA FILES"), AND/OR SOFTWARE ("SOFTWARE"),
YOU UNEQUIVOCALLY ACCEPT, AND AGREE TO BE BOUND BY, ALL OF THE
TERMS AND CONDITIONS OF THIS AGREEMENT.
IF YOU DO NOT AGREE, DO NOT DOWNLOAD, INSTALL, COPY, DISTRIBUTE OR USE
THE DATA FILES OR SOFTWARE.

COPYRIGHT AND PERMISSION NOTICE

Copyright (c) 1991-2017 Unicode, Inc. All rights reserved.
Distributed under the Terms of Use in http://www.unicode.org/copyright.html.

Permission is hereby granted, free of charge, to any person obtaining
a copy of the Unicode data files and any associated documentation
(the "Data Files") or Unicode software and any associated documentation
(the "Software") to deal in the Data Files or Software
without restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, and/or sell copies of
the Data Files or Software, and to permit persons to whom the Data Files
or Software are furnished to do so, provided that either
(a) this copyright and permission notice appear with all copies
of the Data Files or Software, or
(b) this copyright and permission notice appear in associated
Documentation.

THE DATA FILES AND SOFTWARE ARE PROVIDED "AS IS", WITHOUT WARRANTY OF
ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT OF THIRD PARTY RIGHTS.
IN NO EVENT SHALL THE COPYRIGHT HOLDER OR HOLDERS INCLUDED IN THIS
NOTICE BE LIABLE FOR ANY CLAIM, OR ANY SPECIAL INDIRECT OR CONSEQUENTIAL
DAMAGES, OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE,
DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THE DATA FILES OR SOFTWARE.

Except as contained in this notice, the name of a copyright holder
shall not be used in advertising or otherwise to promote the sale,
use or other dealings in these Data Files or Software without prior
written authorization of the copyright holder.
--------------------------------------------------------------------------------------

------------- End of ThirdPartyNotices ---------------------------------------------------


vscode-css-languageservice, vscode-nls
---
The MIT License (MIT)

Copyright (c) Microsoft

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.


vscode-html-languageservice
---
The MIT License (MIT)

Copyright (c) Microsoft

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

THIRD-PARTY SOFTWARE NOTICES AND INFORMATION

vscode-html-languageservice incorporates third party material from the projects listed below. The original copyright
notice and the license under which Microsoft received such third party material are set forth below. Microsoft
reserves all other rights not expressly granted, whether by implication, estoppel or otherwise.

1. JS Beautifier (https://github.com/beautify-web/js-beautify)

The MIT License (MIT)

Copyright (c) 2007-2017 Einar Lielmanis, Liam Newman, and contributors.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

2.	HTML 5.1 W3C Working Draft version 08 October 2015 (http://www.w3.org/TR/2015/WD-html51-20151008/)

%% HTML 5.1 W3C Working Draft NOTICES AND INFORMATION BEGIN HERE
=========================================
Copyright © 2015 W3C® (MIT, ERCIM, Keio, Beihang). This software or document includes material copied
from or derived from HTML 5.1 W3C Working Draft (http://www.w3.org/TR/2015/WD-html51-20151008/.)

THIS DOCUMENT IS PROVIDED "AS IS," AND COPYRIGHT HOLDERS MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING, BUT
NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, NON-INFRINGEMENT, OR TITLE; THAT THE CONTENTS OF
THE DOCUMENT ARE SUITABLE FOR ANY PURPOSE; NOR THAT THE IMPLEMENTATION OF SUCH CONTENTS WILL NOT INFRINGE ANY THIRD PARTY
PATENTS, COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.

COPYRIGHT HOLDERS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF ANY USE OF THE
DOCUMENT OR THE PERFORMANCE OR IMPLEMENTATION OF THE CONTENTS THEREOF.

The name and trademarks of copyright holders may NOT be used in advertising or publicity pertaining to this document or its contents
without specific, written prior permission. Title to copyright in this document will at all times remain with copyright holders.
=========================================
END OF HTML 5.1 W3C Working Draft NOTICES AND INFORMATION

3. Ionic documentation version 1.2.4 (https://github.com/driftyco/ionic-site)

%% Ionic documentation NOTICES AND INFORMATION BEGIN HERE
=========================================
Copyright Drifty Co. http://drifty.com/.

Apache License

Version 2.0, January 2004

http://www.apache.org/licenses/

TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION

1. Definitions.

"License" shall mean the terms and conditions for use, reproduction, and distribution as defined by Sections 1 through 9 of this document.

"Licensor" shall mean the copyright owner or entity authorized by the copyright owner that is granting the License.

"Legal Entity" shall mean the union of the acting entity and all other entities that control, are controlled by, or are under common control with that entity. For the purposes of this definition, "control" means (i) the power, direct or indirect, to cause the direction or management of such entity, whether by contract or otherwise, or (ii) ownership of fifty percent (50%) or more of the outstanding shares, or (iii) beneficial ownership of such entity.

"You" (or "Your") shall mean an individual or Legal Entity exercising permissions granted by this License.

"Source" form shall mean the preferred form for making modifications, including but not limited to software source code, documentation source, and configuration files.

"Object" form shall mean any form resulting from mechanical transformation or translation of a Source form, including but not limited to compiled object code, generated documentation, and conversions to other media types.

"Work" shall mean the work of authorship, whether in Source or Object form, made available under the License, as indicated by a copyright notice that is included in or attached to the work (an example is provided in the Appendix below).

"Derivative Works" shall mean any work, whether in Source or Object form, that is based on (or derived from) the Work and for which the editorial revisions, annotations, elaborations, or other modifications represent, as a whole, an original work of authorship. For the purposes of this License, Derivative Works shall not include works that remain separable from, or merely link (or bind by name) to the interfaces of, the Work and Derivative Works thereof.

"Contribution" shall mean any work of authorship, including the original version of the Work and any modifications or additions to that Work or Derivative Works thereof, that is intentionally submitted to Licensor for inclusion in the Work by the copyright owner or by an individual or Legal Entity authorized to submit on behalf of the copyright owner. For the purposes of this definition, "submitted" means any form of electronic, verbal, or written communication sent to the Licensor or its representatives, including but not limited to communication on electronic mailing lists, source code control systems, and issue tracking systems that are managed by, or on behalf of, the Licensor for the purpose of discussing and improving the Work, but excluding communication that is conspicuously marked or otherwise designated in writing by the copyright owner as "Not a Contribution."

"Contributor" shall mean Licensor and any individual or Legal Entity on behalf of whom a Contribution has been received by Licensor and subsequently incorporated within the Work.

2. Grant of Copyright License. Subject to the terms and conditions of this License, each Contributor hereby grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare Derivative Works of, publicly display, publicly perform, sublicense, and distribute the Work and such Derivative Works in Source or Object form.

3. Grant of Patent License. Subject to the terms and conditions of this License, each Contributor hereby grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable (except as stated in this section) patent license to make, have made, use, offer to sell, sell, import, and otherwise transfer the Work, where such license applies only to those patent claims licensable by such Contributor that are necessarily infringed by their Contribution(s) alone or by combination of their Contribution(s) with the Work to which such Contribution(s) was submitted. If You institute patent litigation against any entity (including a cross-claim or counterclaim in a lawsuit) alleging that the Work or a Contribution incorporated within the Work constitutes direct or contributory patent infringement, then any patent licenses granted to You under this License for that Work shall terminate as of the date such litigation is filed.

4. Redistribution. You may reproduce and distribute copies of the Work or Derivative Works thereof in any medium, with or without modifications, and in Source or Object form, provided that You meet the following conditions:

You must give any other recipients of the Work or Derivative Works a copy of this License; and

You must cause any modified files to carry prominent notices stating that You changed the files; and

You must retain, in the Source form of any Derivative Works that You distribute, all copyright, patent, trademark, and attribution notices from the Source form of the Work, excluding those notices that do not pertain to any part of the Derivative Works; and

If the Work includes a "NOTICE" text file as part of its distribution, then any Derivative Works that You distribute must include a readable copy of the attribution notices contained within such NOTICE file, excluding those notices that do not pertain to any part of the Derivative Works, in at least one of the following places: within a NOTICE text file distributed as part of the Derivative Works; within the Source form or documentation, if provided along with the Derivative Works; or, within a display generated by the Derivative Works, if and wherever such third-party notices normally appear. The contents of the NOTICE file are for informational purposes only and do not modify the License. You may add Your own attribution notices within Derivative Works that You distribute, alongside or as an addendum to the NOTICE text from the Work, provided that such additional attribution notices cannot be construed as modifying the License. You may add Your own copyright statement to Your modifications and may provide additional or different license terms and conditions for use, reproduction, or distribution of Your modifications, or for any such Derivative Works as a whole, provided Your use, reproduction, and distribution of the Work otherwise complies with the conditions stated in this License.

5. Submission of Contributions. Unless You explicitly state otherwise, any Contribution intentionally submitted for inclusion in the Work by You to the Licensor shall be under the terms and conditions of this License, without any additional terms or conditions. Notwithstanding the above, nothing herein shall supersede or modify the terms of any separate license agreement you may have executed with Licensor regarding such Contributions.

6. Trademarks. This License does not grant permission to use the trade names, trademarks, service marks, or product names of the Licensor, except as required for reasonable and customary use in describing the origin of the Work and reproducing the content of the NOTICE file.

7. Disclaimer of Warranty. Unless required by applicable law or agreed to in writing, Licensor provides the Work (and each Contributor provides its Contributions) on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. You are solely responsible for determining the appropriateness of using or redistributing the Work and assume any risks associated with Your exercise of permissions under this License.

8. Limitation of Liability. In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing, shall any Contributor be liable to You for damages, including any direct, indirect, special, incidental, or consequential damages of any character arising as a result of this License or out of the use or inability to use the Work (including but not limited to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses), even if such Contributor has been advised of the possibility of such damages.

9. Accepting Warranty or Additional Liability. While redistributing the Work or Derivative Works thereof, You may choose to offer, and charge a fee for, acceptance of support, warranty, indemnity, or other liability obligations and/or rights consistent with this License. However, in accepting such obligations, You may act only on Your own behalf and on Your sole responsibility, not on behalf of any other Contributor, and only if You agree to indemnify, defend, and hold each Contributor harmless for any liability incurred by, or claims asserted against, such Contributor by reason of your accepting any such warranty or additional liability.

END OF TERMS AND CONDITIONS
=========================================
END OF Ionic documentation NOTICES AND INFORMATION


vscode-languageserver-types, vscode-uri
---
Copyright (c) Microsoft Corporation

All rights reserved.

MIT License

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


file-saver
---
The MIT License

Copyright © 2016 [Eli Grey][1].

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

  [1]: http://eligrey.com


zip.js
---
Copyright (c) 2013 Gildas Lormeau. All rights reserved.
Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
1. Redistributions of source code must retain the above copyright notice,
this list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright
notice, this list of conditions and the following disclaimer in
the documentation and/or other materials provided with the distribution.
3. The names of the authors may not be used to endorse or promote products
derived from this software without specific prior written permission.
THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,
INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

window.addEventListener("unhandledrejection",e=>{e.preventDefault();var{reason:t,promise:n}=e;window.console.warn("Unhandled promise rejection:",n&&n.stack||t&&t.stack)}),m.debug=!1,window.$checkEnabled=!1,ace.config.set("basePath","ace"),m.module("embed").require("main","settings","urlQuery","remote","path","model","project","session","files").__new__((function(e){e.unprocessedEvents=[],e.port=null,window.onmessage=function(t){if(!e.t()){var n=t.data,i=t.ports&&t.ports[0],o=(t.origin||"-").split("://").pop();"connect"===n&&i?(i.postMessage("connected"),e.port=i):e.unprocessedEvents.push({port:i,data:n,origin:o}),"loaded"===e.__state__&&(e.unprocessedEvents.forEach(t=>e.i(t)),e.unprocessedEvents.length=0)}}})).__init__((function(e,{project:t,settings:n,urlQuery:i,remote:o,path:a,main:r,model:s,session:c,files:l}){var u=i.o.bind(i);if(Object.assign(e,{project:t,settings:n,remote:o,path:a,main:r,model:s,session:c,files:l,projectName:u("name")||u("project"),useFiles:u("files"),usePreview:u("preview"),theme:u("theme")}),!e.t()){e.unprocessedEvents.forEach(t=>e.i(t)),e.unprocessedEvents.length=0;var d=r.s();d.observable.subscribe(({action:t,position:n,selectionRanges:i,selectedText:o,path:a})=>{if(e.port)switch(t){case"focus":case"blur":e.port.postMessage({action:t});break;case"edit":e.port.postMessage({action:"textChange",args:[d.getValue(),a]});break;case"positionChange":e.port.postMessage({action:t,args:[n]});break;case"selectionChange":e.port.postMessage({action:t,args:[{selectedText:o,selectionRanges:i}]})}}),l.observable.subscribe(({action:t,path:n})=>{if(e.port)switch(t){case"open":e.port.postMessage({action:"fileOpen",path:n})}}),c.observable.subscribe(({action:t,project:n})=>{if(e.port)switch(t){case"open":e.port.postMessage({action:"projectOpen",project:n});break;case"close":e.port.postMessage({action:"projectClose"})}}),e.useFiles||(r.l().hide(),r.u().hide(),r.p().hide(),r.m().hide(),r.v().hide(),r.s().setScrollMargin(8,24)),e.usePreview||(r.g().hide(),r.k().hide(),r.S().hide(),r.A().hide()),e.theme&&n._(theme)}})).def({t:function(){return!window.$embedMode||["spck.io","www.spck.io"].includes(window.location.hostname)},C:function({projectName:e,files:t,open:n,origin:i}){var o=this;return o.project.F({name:`${i}/${e}`,currentFilePath:n,uniqueName:!1,buildCallback:({dir:e})=>Promise.all(t.map(({path:t,text:n,url:i})=>{if(t){var a=GFS.join(e,t);return i?o.remote.I(i).then(e=>GFS.write(a,e)):GFS.write(a,n)}}))})},$:function(e){return ENV.filesDirAsync(e)},i:function({data:e,port:t,origin:n}){var i=this,o=i.main.s(),a=i.settings,r=[];if("string"==typeof e&&t)switch(e){case"text":t.postMessage(o.getValue());break;case"theme":t.postMessage(o.getTheme());break;case"mode":t.postMessage(o.getMode());break;case"tabSize":t.postMessage(o.getTabSize());break;case"position":t.postMessage(o.getCursorPosition())}else if("object"==typeof e){var{project:s,files:c,appendFiles:l,open:u,editor:d,clearProjects:h}=e,f=i.projectName||s||"Project";if(h&&("boolean"==typeof h?r.push(i.model.P("RISKY_STUFF")):Array.isArray(h)&&r.push(Promise.all(h.map(e=>ENV.filesDirAsync(e).then(e=>i.model.G(e)))))),c?(c.forEach((e,t)=>{if(!e)throw new Error(`Found a '${e} entry at position ${t} of files array.`)}),r.push(ENV.filesDirAsync(f).then(e=>i.model.j(e).then(t=>t&&l?Promise.all(c.map(({path:e,text:t,url:n})=>{if(e){var o=GFS.join(dir,e);return n?i.remote.I(n).then(e=>GFS.write(o,e)):GFS.write(o,t)}})):i.model.G(e).then(()=>i.C({projectName:f,open:u,files:c,origin:n})),()=>i.C({projectName:f,open:u,files:c,origin:n}))))):u&&r.push(ENV.filesDirAsync(name).then(e=>i.main.T(GFS.join(e,u)))),d){if("object"!=typeof e)throw new Error("Type mismatch: 'editorConfig' property must be an object.");var p=!1,{mode:m,fontSize:v,tabSize:g,text:b,gutter:w,theme:y,position:k}=d;"string"==typeof y&&(a._(y),p=!0),"string"==typeof m&&o.setMode(m),v&&(a.O(v),p=!0),void 0!==g&&(a.B(g),p=!0),"string"==typeof b&&o.setValue(b,!0),"boolean"==typeof w&&(a.L(w),p=!0),"object"===k&&(o.navigateTo(k.row,k.column),o.scrollToLine(k.row,!0,!1)),p&&r.push(a.R().then(a.U()))}}return Promise.all(r)}}),UIkit2.support.mutationobserver=null,UI.ready((function(){m.module("views").require("embed","main","urlQuery","cookieBanner","logger");var e=m.modules,{urlQuery:t,projects:n,session:i,model:o,main:a,prompt:r,settings:s,menu:c}=e,l=t.o.bind(t),u={embedMode:window.$embedMode,fileName:l("fileName"),externalPath:l("externalPath"),fileContent:l("fileContent")};Promise.resolve().then((function(){if("serviceWorker"in navigator)return navigator.serviceWorker.register("service.worker.js").catch($console.error.bind($console,"[SW ERROR]"))})).then((function(){return m.initialize("views")})).then((function(){return s.U()})).then((function(){if(n.M(),c.switcher().switchToTab("projects"),!u.embedMode&&!u.fileName)return o.D("currentProjectId").then((function(e){e?i.N(e):i.V()}),(function(){return r.H("Incognito Mode Detected!",null,{text:"Your browser is operating in incognito, and the editor will not function properly in this mode. Please restart in a normal browsing session.",okLabel:"OK, GOT IT.",hideCancel:!0}),n.container().showBatch("empty"),i.V()}))})).then((function(){setTimeout((function(){UI.removeClass(document.getElementById("appContainer"),"uk-invisible");var e=document.getElementById("preloader");e&&e.parentNode&&document.body.removeChild(e)}),350),a.W(u)}))}));var AndroidRef=window.AndroidRef=window.Android;function virtualBack(){var e=!1,t=$(".uk-modal.uk-open").attr("id");if(t)$$(t).close(),e=!0;else{var n=$(".uk-offcanvas.uk-active").attr("id");if(n)$$(n).close(),e=!0;else{var i=$$("mainEditor").$editor;i.isTextSelected()&&(i.clearSelection(),e=!0)}}return e}function getChromeVersion(){var e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return!!e&&parseInt(e[2],10)}function deferLatestToNextAnimationFrame(e,t){var n,i,o,a=0;return function(){return n=this,i=arguments,a++,o||(o=new Promise(t=>{requestAnimationFrame(()=>{a=0,o=null,t(e.apply(n,i))})})),a>=t?o:null}}function LFUCache(e,t){var n=0,i=1,o={},a={};function r(){var e={},r={};n=0,Object.keys(a).forEach(s=>{var c=a[s];c&&c/i>t&&(n++,e[s]=1,r[s]=o[s])}),o=r,a=e,i=1}Object.assign(this,{_cache:o,_hits:a,keys:function(){return Object.keys(o)},get:function(e){var t=++a[e]||void 0;return t&&(i=t>i?t:i)&&o[e]},set:function(t,i){return++n>e&&r(),a[t]=1,o[t]=i},del:function(e){delete o[e],delete a[e],n--},find:function(e){return Object.keys(o).find(t=>o[t]===e)},rename:function(e,t){o[t]=o[e],a[t]=a[e],delete o[e],delete a[e]},clear:function(){n&&(n=0,i=1,o={},a={})}})}function PromisePool({data:e,promiseGenerator:t,maxConcurrency:n=1,retryAttempts:i=0,useRaf:o=!1}){var a=!1,r=0,s=[],c=e.map((function(e){return{failures:0,entry:e}}));return new Promise((function(e,t){for(var i=0;i<n&&l(e,t);i++);}));function l(e,n){if(c.length){var u=c.pop();return r++,t(u.entry).then((function(t){s.push(t),r--,a||(o?requestAnimationFrame(l.bind(this,e,n)):l(e,n))}),(function(t){u.failures<i?(u.failures++,c.push(u),r--,a||(o?requestAnimationFrame(l.bind(this,e,n)):l(e,n))):(a=!0,n(t))})),!0}return!(0===r&&!a)||(e(s),!1)}}define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],(function(e,t,n){"use strict";var i=e("../lib/dom"),o=e("../lib/lang"),a=e("../lib/event"),r=e("../keyboard/hash_handler").HashHandler,s=e("../lib/keys"),c='<div class="ace_search right">    <button action="toggleReplace" class="ace_search_toggle collapse" title="Toggle Replace"></button>    <div class="ace_search_form">      <div class="uk-flex uk-flex-middle uk-flex-space-between">        <div class="uk-flex-item-1">          <button action="findAll" class="ace_icon find-all" title="All (Alt-Enter)"></button>          <button action="toggleRegexpMode" class="ace_icon x-menu-toggle x-outline regex" title="RegExp Search"></button>          <button action="toggleCaseSensitive" class="ace_icon x-menu-toggle x-outline case-sensitive" title="Case-Sensitive Search"></button>          <button action="toggleWholeWords" class="ace_icon x-menu-toggle x-outline whole-word" title="Whole Word Search"></button>        </div>        <button action="hide" class="ace_icon close" title="Close (Esc)"></button>      </div>      <div class="uk-flex">        <div class="uk-flex-item-1">          <input class="uk-input" placeholder="Find" spellcheck="false">          <span class="ace_search_counter"></span>        </div>        <button action="findPrev" class="ace_icon prev" title="Previous (Ctrl-Shift-G)"></button>        <button action="findNext" class="ace_icon next" title="Next (Ctrl-G)"></button>      </div>    </div>    <div class="ace_replace_form uk-flex uk-flex-middle">      <div class="uk-flex-item-1">        <input class="uk-input" placeholder="Replace" spellcheck="false">      </div>      <div action="replaceAndFindNext" class="ace_icon replace" title="Replace"></div>      <div action="replaceAll" class="ace_icon replace-all" title="Replace All"></div>    </div></div>'.replace(/> +/g,">"),l=function(e,t,n){var o=i.createElement("div");o.innerHTML=c,this.element=o.firstChild,this.checkedClass="uk-active",this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(e)};(function(){this.setEditor=function(e){e.searchBox=this,e.renderer.scroller.appendChild(this.element),this.editor=e},this.setSession=function(e){this.searchRange=null,this.$syncOptions(!0)},this.$initElements=function(e){this.searchBox=e.querySelector(".ace_search_form"),this.replaceBox=e.querySelector(".ace_replace_form"),this.replaceOption=e.querySelector("[action=toggleReplace]"),this.regExpOption=e.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=e.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=e.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector("input.uk-input"),this.replaceInput=this.replaceBox.querySelector("input.uk-input"),this.searchCounter=e.querySelector(".ace_search_counter")},this.$init=function(){var e=this.element;this.$initElements(e);var t=this;function n(e){e.preventDefault(),e.stopPropagation();var n=(e.target||e.srcElement).getAttribute("action");n&&t[n]?t[n]():t.$searchBarKb.commands[n]&&t.$searchBarKb.commands[n].exec(t)}function i(e){var t=e.target||e.srcElement;"INPUT"===t.tagName&&t.focus()}e.addEventListener("click",(function(e){n(e),i(e)})),e.addEventListener("touchstart",n),e.addEventListener("touchend",i),a.addCommandKeyListener(e,(function(e,n,i){var o=s.keyCodeToString(i),r=t.$searchBarKb.findKeyCommand(n,o);r&&r.exec&&(r.exec(t),a.stopEvent(e))})),this.$onChange=o.delayedCall((function(){t.find(!1,!1)})),a.addListener(this.searchInput,"input",(function(){t.$onChange.schedule(20)})),a.addListener(this.searchInput,"focus",(function(){t.activeInput=t.searchInput,t.searchInput.value&&t.highlight()})),a.addListener(this.replaceInput,"focus",(function(){t.activeInput=t.replaceInput,t.searchInput.value&&t.highlight()}))},this.$closeSearchBarKb=new r([{bindKey:"Esc",name:"closeSearchBar",exec:function(e){e.searchBox.hide()}}]),this.$searchBarKb=new r,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(e){var t=e.isReplace=!e.isReplace;e.replaceBox.style.display=t?"":"none",e.replaceOption.checked=!1,e.$syncOptions(),e.searchInput.focus()},"Ctrl-R|Ctrl-H|Command-Option-F":function(e){e.replaceOption.checked=!0,e.$syncOptions(),e.replaceInput.focus()},"Ctrl-G|Command-G":function(e){e.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(e){e.findPrev()},esc:function(e){setTimeout((function(){e.hide()}))},Return:function(e){e.activeInput==e.replaceInput&&e.replace(),e.findNext()},"Shift-Return":function(e){e.activeInput==e.replaceInput&&e.replace(),e.findPrev()},"Alt-Return":function(e){e.activeInput==e.replaceInput&&e.replaceAll(),e.findAll()},Tab:function(e){(e.activeInput==e.replaceInput?e.searchInput:e.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(e){e.regExpOption.checked=!e.regExpOption.checked,e.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(e){e.caseSensitiveOption.checked=!e.caseSensitiveOption.checked,e.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(e){e.wholeWordOption.checked=!e.wholeWordOption.checked,e.$syncOptions()}},{name:"toggleReplace",exec:function(e){e.replaceOption.checked=!e.replaceOption.checked,e.$syncOptions()}},{name:"searchInSelection",exec:function(e){e.searchOption.checked=!e.searchRange,e.setSearchRange(e.searchOption.checked&&e.editor.getSelectionRange()),e.$syncOptions()}}]),this.setSearchRange=function(e){this.searchRange=e,e?this.searchRangeMarker=this.editor.session.addMarker(e,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},this.$syncOptions=function(e){i.setCssClass(this.replaceOption,this.checkedClass,this.searchRange),i.setCssClass(this.replaceOption,this.checkedClass,this.replaceOption.checked),i.setCssClass(this.regExpOption,this.checkedClass,this.regExpOption.checked),i.setCssClass(this.wholeWordOption,this.checkedClass,this.wholeWordOption.checked),i.setCssClass(this.caseSensitiveOption,this.checkedClass,this.caseSensitiveOption.checked),this.replaceBox.style.display=this.replaceOption.checked?"":"none",this.find(!1,!1,e)},this.highlight=function(e){this.editor.session.highlight(e||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(e,t,n){var o=!this.editor.find(this.searchInput.value,{skipCurrent:e,backwards:t,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:n,range:this.searchRange})&&this.searchInput.value;i.setCssClass(this.searchBox,"ace_nomatch",o),this.editor._emit("findSearchBox",{match:!o}),this.highlight(),this.updateCounter()},this.updateCounter=function(){var e=this.editor,t=e.$search.$options.re,n=0,i=0;if(t){var o=this.searchRange?e.session.getTextRange(this.searchRange):e.getValue(),a=e.session.doc.positionToIndex(e.selection.anchor);this.searchRange&&(a-=e.session.doc.positionToIndex(this.searchRange.start));for(var r,s=t.lastIndex=0;(r=t.exec(o))&&(n++,(s=r.index)<=a&&i++,!(n>999))&&(r[0]||(t.lastIndex=s+=1,!(s>=o.length))););}this.searchCounter.textContent=i+"/"+(n>999?"999+":n)},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.findAll=function(){var e=!this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked})&&this.searchInput.value;i.setCssClass(this.searchBox,"ace_nomatch",e),this.editor._emit("findSearchBox",{match:!e}),this.highlight(),this.hide()},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus(),this.editor._emit("searchBoxClose")},this.show=function(e,t){this.active=!0,this.editor.on("changeSession",this.setSession),this.editor._emit("searchBoxOpen"),this.element.style.display="",this.replaceOption.checked=t,e&&(this.searchInput.value=e),t?(this.replaceInput.focus(),this.replaceInput.select()):(this.searchInput.focus(),this.searchInput.select()),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},this.isFocused=function(){var e=document.activeElement;return e==this.searchInput||e==this.replaceInput}}).call(l.prototype),t.SearchBox=l,t.Search=function(e,t){(e.searchBox||new l(e)).show(e.session.getTextRange(),t)}})),window.require(["ace/ext/searchbox"],(function(){})),m.module("assets").__new__((function(e){e.svgIcons={github:'<svg class="svg-icon" style="width:100%" viewBox="-2 0 20 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M14.7 5.34c.13-.32.55-1.59-.13-3.31 0 0-1.05-.33-3.44 1.3-1-.28-2.07-.32-3.13-.32s-2.13.04-3.13.32c-2.39-1.64-3.44-1.3-3.44-1.3-.68 1.72-.26 2.99-.13 3.31C.49 6.21 0 7.33 0 8.69 0 13.84 3.33 15 7.98 15S16 13.84 16 8.69c0-1.36-.49-2.48-1.3-3.35zM8 14.02c-3.3 0-5.98-.15-5.98-3.35 0-.76.38-1.48 1.02-2.07 1.07-.98 2.9-.46 4.96-.46 2.07 0 3.88-.52 4.96.46.65.59 1.02 1.3 1.02 2.07 0 3.19-2.68 3.35-5.98 3.35zM5.49 9.01c-.66 0-1.2.8-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.54-1.78-1.2-1.78zm5.02 0c-.66 0-1.2.79-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.53-1.78-1.2-1.78z"></path></svg>'}})),m.module("dom").def({K:function(e,t,n,i){return e.slice(0,t)+i+e.slice(n)},q:function(e){e=e||"";var t=this.Y(e,"script"),n=this.J(t,"src"),i=this.Y(e,"link");return{scripts:n,links:this.J(i,"href")}},Z:function(e,t,n,i){var o,a,r=e.toLowerCase(),s="<"+t+" ",c="<"+t+">",l="link"==t?"":"</"+t+">",u=r.indexOf(s,0);if(-1==u&&(u=r.indexOf(c,0)),-1!=u&&-1!=u){var d=this.X(r,u+s.length-1);if(-1!=d){var h=r.substring(u+s.length,d);if(!n||-1!=h.indexOf(n)){var f=r.indexOf(l,d+1);if(-1!=f)return i?(o=d+1,a=f):(o=u,a=f+l.length),{start:o,end:a,html:e.slice(o,a)}}}}},X:function(e,t){for(var n,i=null,o=t;o<e.length;o++)if(n=e.charAt(o),i)i==n&&(i=null);else if("'"==n||'"'==n)i=n;else if(">"==n)return o;return-1},ee:function(e,t,n,i){for(var o,a,r={text:e,removedCount:0},s="",c=0,l=new RegExp(n+"\\s*=\\s*[\"'](.+?)[\"']");c<1e3&&(a=this.Z(e,t,null));)(o=a.html.match(l))&&u(o[1])?(s+=e.slice(0,a.start).replace(/[\s]+$/,""),r.removedCount++):s+=e.slice(0,a.end),e=e.slice(a.end),c++;return s+=e,r.removedCount>0&&(r.text=s),r;function u(e){return m.isFunction(i)?i(e):-1!==i.indexOf(e)}},Y:function(e,t){for(var n,i=0,o=[];i<1e3&&(n=this.Z(e,t,null));)o.push(n),e=e.slice(n.end),i++;return o},te:function(e){return e.reduce((function(e,t){return e+t.end}),0)},J:function(e,t){var n=new RegExp(t+"\\s*=\\s*[\"'](.+?)[\"']","i");return e.map((function(e){var t=e.html.match(n);if(t)return t[1]})).filter((function(e){return!!e}))},ne:function(e,t,n,i,o,a){a=a||"";var r={text:e,addedCount:0},s=this.Z(e,t,null,!0);if(!s)return r;var c=e.slice(s.start,s.end),l=this.Y(c,n),u=this.te(l),d=this.J(l,i);if(o=o.filter((function(e){return-1===d.indexOf(e)})),r.addedCount=o.length,r.addedCount>0){var h,f=o.reduce((function(e,t){return e+"\n"+a+UI.interpolate("link"==n?'<{{tag}} {{attr}}="{{url}}">':'<{{tag}} {{attr}}="{{url}}"></{{tag}}>',{tag:n,url:t,attr:i})}),""),p=c.match(/[\s]+$/);p=p?p[0].length:0,h=u?s.start+u:s.end-p,r.text=this.K(e,h,h,f)}return r}}),m.module("git").def({localStorage:function(){return window.localStorage},ie:function(e){return(e=e.toLowerCase()).startsWith("git@")?e="https://"+e.replace("git@","").replace(":","/"):e.startsWith("ssh://git@")?e="https://"+e.replace("ssh://git@","").replace(":","/"):e.startsWith("ssh://")&&(e="https://"+e.replace("ssh://","").replace(":","/")),GFS.hasExt(e,".git")||(e.includes("github.com")||e.includes("gitlab.com")||e.includes("bitbucket.org"))&&(e+=".git"),e=e.replace(/https:\/\/([\w]+)@bitbucket.org/,"https://bitbucket.org")},oe:function(e){if(!e)return e;var t=e.match(/git@([A-Za-z0-9-.]+):/);return t?"https://"+t[1]+"/":e},ae:function(e){return GFS.basename(GFS.hasExt(e,".git")?e.slice(0,e.length-4):e)},se:function(e){var t=new RegExp("https?://([\\w_\\.\\-@:]+)/([\\w_\\.\\-/]+)"),n=e.match(t);return n?{host:this.oe(n[1]),repoName:this.ae(n[2]),url:e}:null},ce:function(e){var t=this.le(e);return!!t.username&&!!t.token},le:function(e){var t=this.localStorage();return{username:t.getItem("git.username::"+e)||t.getItem("git.username::git")||"",token:t.getItem("git.token::"+e)||t.getItem("git.token::git")||"",email:t.getItem("git.email::"+e)||t.getItem("git.email::git")||""}},ue:function(e,t,n,i){var o=this.localStorage();e?(o.setItem("git.username::"+e,t),o.setItem("git.token::"+e,n),o.setItem("git.email::"+e,i)):(o.setItem("git.username::git",t),o.setItem("git.token::git",n),o.setItem("git.email::git",i))}}),m.module("history").__new__((function(e){e.HistoryTracker=function(){this.reset()},e.HistoryTracker.prototype={reset:function(){this.current=null,this.undoStack=[],this.redoStack=[]},getLastRedo:function(){return this.redoStack.length?this.redoStack[this.redoStack.length-1]:null},getLastUndo:function(){return this.undoStack.length?this.undoStack[this.undoStack.length-1]:null},truncate:function(e){this.undoStack=this.undoStack.slice(this.undoStack.length-e)},clearRedo:function(){this.redoStack.length=0},push:function(e){this.current&&this.pushUndo(this.current),this.current=e,this.clearRedo()},pushUndo:function(e){return this.undoStack.push(e)},popUndo:function(){return this.undoStack.pop()},pushRedo:function(e){return this.redoStack.push(e)},popRedo:function(){return this.redoStack.pop()},canUndo:function(){return this.undoStack.length>0},canRedo:function(){return this.redoStack.length>0},redo:function(e){var t=this.popRedo();return t&&(e?(this.current&&this.pushUndo(this.current),this.current=t):this.pushUndo(t)),t},undo:function(e){var t=this.popUndo();return t&&(e?(this.current&&this.pushRedo(this.current),this.current=t):this.pushRedo(t)),t}}})),function(e){var t=["Ctrl-p","Ctrl-s","Ctrl-f","Ctrl-g","Ctrl-r","Ctrl-Shift-R","Meta-r","Meta-Shift-R","Meta-q"];e.addEventListener("keydown",(function(e){UI.polyfillKeyboardEvent(e);var n="";e.metaKey&&(n+="Meta-"),e.ctrlKey&&(n+="Ctrl-"),e.shiftKey&&(n+="Shift-"),e.altKey&&(n+="Alt-"),n+=e.key,-1!==t.indexOf(n)&&UI.preventEvent(e)}))}(document),m.module("lang").__init__((function(e){var t={".js":"javascript",".ts":"typescript",".jsx":"jsx",".tsx":"tsx",".css":"css",".scss":"scss",".sass":"scss",".less":"less",".html":"html",".xhtml":"html",".htm":"html"};e.LanguageServerClient=function(e){this.pending={},this.messageId=0,this.editor=e,this.queuedMessages=[]},e.LanguageServerClient.prototype={$postMessage:function(e,t,n){var i=this;n&&(e.id=++i.messageId,i.pending[i.messageId]=n),t?(e.index=i.$getDocumentIndex(),e.position=i.$getCursorPosition(),i.editor.getCurrentFilePathAsync().then(t=>{e.name=t,e.mode=i.$getModeFromName(t),i.sendToWorker(e)})):(e.mode||(e.mode=i.$getModeFromName(e.name)),i.sendToWorker(e))},sendToWorker:function(e){this.worker?this.worker.postMessage(e):this.queuedMessages.push(e)},$getModeFromName:function(e){return t[GFS.ext(e||"")]},$getCursorPosition:function(){var e=this.editor.getCursorPosition();return{line:e.row,character:e.column}},$getDocumentIndex:function(){var e=this.editor.getCursorPosition();return this.editor.getSession().getDocument().positionToIndex(e)},addFile:function(e,t,n){this.$postMessage({type:"add",name:e,text:t},!1,n)},editFile:function(e,t,n,i,o,a){0===this.queuedMessages.length&&this.$postMessage({type:"edit",name:e,version:t,minChar:i,limChar:o,text:n},!1,a)},updateFile:function(e,t,n){0===this.queuedMessages.length&&this.$postMessage({type:"update",name:e,text:t},!1,n)},removeFolder:function(e,t){this.$postMessage({type:"removeFolder",name:e},!1,t)},removeFile:function(e,t){this.$postMessage({type:"remove",name:e},!1,t)},moveFolder:function(e,t,n){this.$postMessage({type:"moveFolder",name:e,newName:t},!1,n)},moveFile:function(e,t,n){this.$postMessage({type:"move",name:e,newName:t},!1,n)},setCurrentDirectory:function(e,t){this.$postMessage({type:"setCurrentDirectory",directoryName:e},!1,t)},clearFiles:function(e){this.$postMessage({type:"clear",mode:"javascript"},!1,e),this.$postMessage({type:"clear",mode:"html"},!1,e),this.$postMessage({type:"clear",mode:"css"},!1,e)},getCompleter:function(){var e=this;return{getCompletions:function(t,n,i,o,a){e.getCompletions(t.autoCompleteTriggerCharacter,(function(e){e&&e.completions&&(e.completions.forEach((function(e){e.score=jaroWinkler.distance(o,e.label)})),a(null,e.completions))}))}}},getCompletions:function(e,t){this.$postMessage({type:"completion",triggerCharacter:e},!0,t)},getInfo:function(e){this.$postMessage({type:"info"},!0,e)},goToDefinition:function(e){this.$postMessage({type:"def"},!0,(function(t){t&&t.def&&e(t)}))},getSignature:function(e,t){this.$postMessage({type:"signature",triggerCharacter:e},!0,t)},getRefs:function(e){this.$postMessage({type:"ref"},!0,e)},getRenameLocations:function(e){var t=this.editor.getSession().getDocument();this.$postMessage({types:["rename","renameInfo"]},!0,(function(n){n&&n.rename&&(n.rename.forEach((function(e){var n=e.textSpan;n.startPosition=t.indexToPosition(n.start),n.endPosition=t.indexToPosition(n.start+n.length)})),e(n))}))},getRenameInfo:function(e){this.$postMessage({type:"renameInfo"},!0,e)},start:function(){var e=this;if(!e.worker){var t=e.pending;e.worker=new Worker("./workers/language.worker.js"),e.worker.onmessage=function(n){var i=n.data;"log"==i.type?$console.log(i.message):"debug"==i.type?$console.debug(i.message):"warn"==i.type?$console.warn(i.message):"error"==i.type?$console.error(i.message):i.id&&t[i.id]&&(t[i.id](i),delete t[i.id]),e.queuedMessages.length&&(e.queuedMessages.forEach((function(t){e.worker.postMessage(t)})),e.queuedMessages.length=0)},e.worker.onerror=function(e){for(var n in t)t[n](null,e);t={}}}e.stopped=!1},stop:function(){this.worker&&(this.worker.terminate(),this.worker=null,this.stopped=!0)}}})),m.module("memory").require("prompt").__init__((function(e,{prompt:t}){var n=window.performance&&window.performance.memory;Object.assign(e,{prompt:t,supported:!!n&&["spck.io","www.spck.io"].includes(window.location.hostname),lowOnMemory:!1,observable:new ObservableClass,memory:n||{totalJSHeapSize:1,usedJSHeapSize:-1,jsHeapSizeLimit:100},CRITICAL_USAGE_LOW_MEMORY:96,ALLOWED_LANGUAGE_SERVICE_INITIAL_FILES_LIMIT:30,ALLOWED_LANGUAGE_SERVICE_INITIAL_SIZE_LIMIT:20971520,LANGUAGE_SERVICE_FILE_SIZE_LIMIT:2097152,EDITOR_FILE_SIZE_LIMIT:5242880})})).def({de:function(){this.supported&&GA_SendEvent("memory_profile","n/a","mem_used_"+this.he())},he:function(){var e=this.memory;return Math.round(100*e.usedJSHeapSize/e.totalJSHeapSize)},fe:function(){if(this.supported){var e=this.he();e>=this.CRITICAL_USAGE_LOW_MEMORY&&e<100&&(this.pe(),this.de())}},pe:function(){this.lowOnMemory||(this.lowOnMemory=!0,this.prompt.me("Low Memory Warning","System memory is running low, language service and syntax checking will be disabled."),this.observable.run({lowOnMemory:!0}))},ve:function(e){return GFS.size(e).then(e=>e<this.LANGUAGE_SERVICE_FILE_SIZE_LIMIT)},ge:function(e,t){return Promise.resolve(t&&t.externalContent?t.externalContent.length:GFS.size(e)).then(e=>e<this.EDITOR_FILE_SIZE_LIMIT)}});var ExtensionMimeTypes={".3g2":"video/3gpp2",".3gp":"video/3gpp",".avi":"video/x-msvideo",".flv":"video/x-flv",".h261":"video/h261",".h263":"video/h263",".h264":"video/h264",".jpgm":"video/jpm",".jpgv":"video/jpeg",".jpm":"video/jpm",".m1v":"video/mpeg",".m2v":"video/mpeg",".m4u":"video/vnd.mpegurl",".m4v":"video/mp4",".mj2":"video/mj2",".mjp2":"video/mj2",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".mp4":"video/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".ogv":"video/ogg",".qt":"video/quicktime",".smv":"video/x-smv",".webm":"video/webm",".wm":"video/x-ms-wm",".wmv":"video/x-ms-wmv",".wmx":"video/x-ms-wmx",".aac":"audio/x-aac",".adp":"audio/adpcm",".au":"audio/basic",".flac":"audio/x-flac",".kar":"audio/midi",".m2a":"audio/mpeg",".m3a":"audio/mpeg",".m3u":"audio/x-mpegurl",".m3u8":"application/vnd.apple.mpegurl",".m4a":"audio/mp4",".mid":"audio/midi",".midi":"audio/midi",".mka":"audio/x-matroska",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4a":"audio/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".rmi":"audio/midi",".s3m":"audio/s3m",".snd":"audio/basic",".spx":"audio/ogg",".wav":"audio/x-wav",".weba":"audio/webm",".wma":"audio/x-ms-wma",".xm":"audio/xm",".bmp":"image/bmp",".gif":"image/gif",".ico":"image/x-icon",".jpeg":"image/jpeg",".jpg":"image/jpeg",".jpe":"image/jpeg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".svg":"image/svg+xml",".svgz":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".webp":"image/webp",".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".js":"text/javascript",".sass":"text/x-sass",".scss":"text/x-scss",".styl":"text/x-styl",".txt":"text/plain",".yaml":"text/yaml",".yml":"text/yaml",".md":"text/markdown",".eot":"application/vnd.ms-fontobject",".epub":"application/epub+zip",".gz":"application/x-gzip",".hdf":"application/x-hdf",".json":"application/json",".jsonml":"application/jsonml+json",".latex":"application/x-latex",".mp4s":"application/mp4",".ogx":"application/ogg",".otf":"application/x-font-otf",".pdf":"application/pdf",".ps":"application/postscript",".psf":"application/x-font-linux-psf",".rar":"application/x-rar-compressed",".snf":"application/x-font-snf",".swa":"application/x-director",".swf":"application/x-shockwave-flash",".tar":"application/x-tar",".tex":"application/x-tex",".tgz":"application/x-gzip",".ttc":"application/x-font-ttf",".ttf":"application/x-font-ttf",".unityweb":"application/vnd.unity",".woff":"application/x-font-woff",".woff2":"application/x-font-woff",".xml":"application/xml",".xsl":"application/xml",".zip":"application/zip"};window.ExtensionMimeTypes=ExtensionMimeTypes,m.module("completion").require("model","path","remote").__init__((function(e,{path:t,model:n,remote:i}){Object.assign(e,{model:n,path:t,remote:i})})).def({be:function(e){var t=this;if(t.path.we(e)){var n=t.path.ye(e),i=n.replace(/\.min\.js$/,".js");return t.model.ke(e).catch((function(){return t.remote.I({url:i,noCache:!1}).catch((function(){return t.remote.I({url:n,noCache:!1})})).then((function(i){if(i){var o={url:e,text:i};return t.model.xe(o).then((function(){return o}))}return Promise.reject("Empty file for url: "+n)}))}))}return Promise.reject("Invalid URL.")}}),m.module("remote").def({Se:function({url:e,responseType:t,noCache:n}){return new Promise((function(i,o){var a=new XMLHttpRequest;a.open("get",e+(n?`?_=${(new Date).getTime()}`:""),!0),a.responseType=t,a.onload=()=>{if(200===a.status)i(a.response);else if(0===a.status&&a.response)try{JSON.parse(a.response)?i(a.response):o({status:a.status,response:a.response})}catch(e){o({status:a.status,response:a.response})}else o({status:a.status,response:a.response})},a.onerror=e=>{o(e)},a.send()}))},I:function({url:e,responseType:t="text",noCache:n=!0,retryCount:i=0,tries:o=0}){var a=this;return a.Se({url:e,responseType:t}).then(null,(function(r){return o>=i?Promise.reject(r):a.I({url:e,noCache:n,responseType:t,retryCount:i,tries:o+1})}))}});var IDB=createStore(),Buffer=buffer.Buffer;function createStore(){var e=new Dexie("ProjectStore");return e.version(1).stores({projects:"pid, name, hash, repo",files:"id, &path, &fid, type, hash",folders:"id, &path, hash",data:"fid",libraries:"url",sessions:"pid",meta:"key"}),e.version(2).stores({projects:"pid",files:"id, &path, &fid",folders:"id, &path",data:"fid",libraries:"url",meta:"key"}).upgrade(e=>Promise.all([e.projects.filter(e=>!e.dir).modify(e=>{var t=e.ref?`${e.pid}:${e.ref.split("/").pop()}`:e.pid;e.olddir=t,e.dir=`${t}/${e.name}`}),e.folders.filter(e=>e.deleted).delete(),e.files.filter(e=>e.deleted).delete(),e.data.filter(e=>"base64"===e.encoding).modify(e=>{e.text=castAsReadableArrayBuffer(Buffer.from(e.text,"base64")),e.encoding="binary"})])),e}var GlobalErrorCodes={ProjectNotFound:"project:404",ProjectNotSaved:"project:424",FileNotFound:"file:404",FolderNotFound:"folder:404",INodeNotFound:"inode:404",LibraryNotFound:"library:404",EditorSessionNotLinked:"editor:404",GitOperationTimeout:"git:408",AcquireLockFileFail:"lock:500",CriticalDeletionError:"delete:500"},$warn=console?console.warn:()=>{},DFS=new AndroidFileSystemClass,GFS=new GitFileSystemClass(DFS),ENV={resource:function(e){if(e){if(AndroidRef&&AndroidRef.getUrlFor&&!GFS.isIDB(e)){var t=AndroidRef.getUrlFor(e);return t||`/run${e}`}return`/run/${e}`}return e},projectConfigPathAsync:function(){return ENV.filesDirAsync(".projects")},settingsConfigPathAsync:function(){return ENV.filesDirAsync(".settings")},metadataDirAsync:function(e){return ENV.filesDirAsync().then(t=>`${t}.metadata/${(e||"").replace(t,"")}`)},trashDirAsync:function(e){return ENV.filesDirAsync().then(t=>`${t}.trash/${(e||"").replace(t,"")}`)},tmpDirAsync:function(e){return ENV.filesDirAsync().then(t=>`${t}.tmp/${(e||"").replace(t,"")}`)},filesDirAsync:function(e){return e=e||"",ENV.systemDirAsync().then(t=>`${t||"idb/"}${e}`)},systemDirAsync:function(){return new Promise((function(e){DFS.supported?function e(t,n){n=n||0;try{t(DFS.getDirectory())}catch(i){n<10?(n++,setTimeout(()=>{$console.warn(`Attempting establishing JavaScript bridge (${n}/10)`),e(t,n)},150)):t(null)}}(e):e(null)}))}};function ObservableClass(){var e=[];Object.assign(this,{subscriptions:e,subscribe:function(t){return e.push(t),{unsubscribe:()=>{e.includes(t)&&e.splice(e.indexOf(t),1)}}},run:function(t){return Promise.all(e.map(e=>e(t)))}})}function AndroidFileSystemClass(){var e,t=[],n=Object.create(null);try{e=window.Android||self.Android}catch(e){$warn(e.message)}function i(e){switch(e){case"{}":return Promise.resolve(n);case"[]":return Promise.resolve(t);default:var i=tryParseJSON(e);return i.status?Promise.reject(i):Promise.resolve(i)}}e?this.supported=!!(e.getDirectory&&e.mkdirp&&e.exists&&e.readFile&&e.remove&&e.readlink&&e.writelink&&e.write&&e.readdir&&e.readdirDeep&&e.lstat&&e.mv&&e.appVersion()>=19):($warn("AndroidFileSystem is not operational: interface missing"),this.supported=!1),Object.assign(this,{getDirectory:()=>this._directory||(this._directory=e.getDirectory()),readFile:(t,n)=>i(e.readFile(t,n)).then(({contents:e})=>"utf8"===n?e:Buffer.from(e,"base64")),remove:t=>t===this._directory?Promise.reject({source:"AndroidFileSystemClass",fn:"remove",message:"Critical deletion error.",code:GlobalErrorCodes.CriticalDeletionError}):i(e.remove(t)),readlink:t=>i(e.readlink(t)).then(({contents:e})=>e),writelink:(t,n)=>i(e.writelink(t,n)),write:(t,n,o)=>i(e.write(t,n,!!o)),exists:t=>Promise.resolve(e.exists(t)),mkdirp:t=>i(e.mkdirp(t)).then(({contents:e})=>e),readdir:t=>i(e.readdir(t)).catch(()=>null),readdirDeep:(t,n,o)=>i(e.readdirDeep(t,n,o)),lstat:function(t){return i(e.lstat(t)).then(e=>new Stats(function(e){var t=e.st_mtime||e.mtimeMs,n=e.st_ctime||e.ctimeMs,i=e.st_atime||e.atimeMs;return Object.assign(e,{mtimeMs:1e3*t,ctimeMs:1e3*n,atimeMs:1e3*i}),e}(e)),()=>null)},mv:function(t,n){return i(e.mv(t,n)).then(({contents:e})=>e)},writeExternal:function(t,n,o){if(e&&e.writeExternal)return i(e.writeExternal(t,n,!!o))}}),this.supported||$warn("AndroidFileSystem is not operational: interface mismatch")}function GitFileSystemClass(e){var t=IDB,n=new LFUCache(9e3,0),i=new LFUCache(50,.5),o=new LFUCache(500,.5),a=new LFUCache(800,.8),r=new LFUCache(50,.5),s=new ObservableClass;function c(e){return t.folders.get({path:e}).then(t=>t||w(e).then(t=>{if(t&&t!==e)return c(t)}))}function l(e){return t.files.get({path:e}).then(e=>e&&e.target?l(e.target):e)}function u(a,u,d={}){return a=x(a),u=x(u),a===u?Promise.resolve():(i.clear(),o.del(a),o.del(S(a)),r.keys().filter(e=>e.startsWith(a)||e.startsWith(e)).forEach(e=>r.del(e)),(e.supported&&!C(a)?e.mv(a,u):l(a).then(e=>{if(e){var n=Date.now();return h(S(u)).then(()=>t.files.update(e.id,{path:u,mtimeMs:n})).then(()=>"file")}return c(a).then(e=>{if(e){var n=Date.now();return Promise.all([h(S(u)),t.files.where("path").startsWith(a+"/").modify(e=>{e.path=u+e.path.slice(a.length),e.mtimeMs=n}),t.folders.where("path").startsWith(a+"/").modify(e=>{e.path=u+e.path.slice(a.length),e.mtimeMs=n}),t.folders.update(e.id,{path:u,mtimeMs:n})]).then(()=>"folder")}})})).then(e=>{if("file"===e)n.rename(a,u);else if("folder"===e){var t=a+"/";n.keys().filter(e=>e.startsWith(t)).forEach(e=>{n.rename(e,e.replace(a,u))})}if(e){var{updateStatus:i}=d;return s.run({action:"mv",updateStatus:i,oldpath:a,path:u,type:e}).then(()=>({oldpath:a,path:u,type:e}))}}))}function d(n,i={}){n=x(n);var o=i.encoding;return e.supported&&!C(n)?e.readFile(n,o):l(n).then(e=>e?t.data.get(e.fid).then(e=>{var t=e&&e.text||"",n=e&&e.encoding||"";return n?"utf8"===o&&"utf8"===n?t:o?Buffer.from(t,n).toString(o):Buffer.from(t,n):"utf8"===o?t:o?Buffer.from(t).toString(o):Buffer.from(t)}):Promise.reject({source:"GitFileSystemClass",fn:"read",message:"Could not find file.",filepath:n,code:GlobalErrorCodes.FileNotFound}))}function h(n){var a;if(n=x(n),e.supported&&!C(n))a=e.mkdirp(n);else{var r=n.split("/").map((e,t,n)=>n.slice(0,t+1).join("/"));a=t.folders.where("path").anyOf(r).keys(e=>{var n=r.filter(t=>!e.includes(t));return n.length>0&&function(e){var n=Date.now(),i=e.map(e=>({id:y(),path:e,mtimeMs:n,ctimeMs:n}));return t.folders.bulkAdd(i)}(n)})}return a.then(e=>{if(e)return i.clear(),n.split("/").slice(0,-1).forEach((e,t,n)=>{o.del(n.slice(0,t+1).join("/"))}),s.run({action:"mkdir",path:n,type:"folder"})})}function f(n,a,c){n=x(n),a=a||"";var{mode:u,target:d,updateStatus:f,skipLanguageService:p}=c||{};return h(S(n)).then(()=>{i.clear(),o.del(S(n)),r.del(n);var c,h=(c=a)instanceof ArrayBuffer||c&&c.buffer instanceof ArrayBuffer&&void 0!==c.byteLength;return(e.supported&&!C(n)?e.write(n,h?Buffer.from(a).toString("base64"):a,h):l(n).then(e=>{var i=Date.now(),o=e?e.id:y(),r=e?e.ctimeMs:i,s=h?castAsReadableArrayBuffer(a):a,c={id:o,fid:o,path:n,mode:u,target:d,ctimeMs:r,mtimeMs:i,size:s.byteLength||s.length};return t.files.put(c).then(()=>{var e={fid:o,text:s,encoding:h?"binary":"utf8"};return t.data.put(e).then(()=>c)})})).then(({mtimeMs:e,size:t,mode:i})=>s.run({action:"write",path:n,type:"file",updateStatus:f,skipLanguageService:p}).then(()=>({mode:i,mtimeMs:e,type:"file",ino:0,size:t})))})}function p(a,c={}){var{tmpDir:l,updateStatus:d}=c,h=(a=x(a))+"/";if(n.keys().filter(e=>e.startsWith(h)).forEach(e=>n.del(e)),l)return u(a,l+a,{updateStatus:d});var f=e.supported&&!C(a)?e.remove(a):Promise.all([t.folders.where("path").equals(a).delete(),t.files.where("path").startsWith(h).delete(),t.folders.where("path").startsWith(h).delete()]);return o.del(a),o.del(S(a)),i.clear(),r.keys().filter(e=>e.startsWith(h)).forEach(e=>r.del(e)),f.then(()=>s.run({action:"rmdir",updateStatus:d,oldpath:a,path:null,type:"folder"})).then(()=>v(a,"folder"))}function m(n){return e.supported&&!C(n)?g(n).then(e=>e?e.length:null):t.files.where("path").startsWith(x(n)+"/").count()}function v(e,t){var n=S(e);return"."===n||""===n?Promise.resolve({oldpath:e,path:null,type:t}):m(n).then(i=>0===i?p(n):{oldpath:e,path:null,type:t})}function g(n){n=x(n);var i=o.get(n);return void 0!==i?Promise.resolve(i):e.supported&&!C(n)?e.readdir(n).then(e=>(e&&e.sort(k),o.set(n,e))):c(n).then(e=>{if(e){var i=e.path+"/",a=i.length;return Promise.all([t.folders.where("path").startsWith(i).filter(e=>!e.path.slice(a).includes("/")).keys(),t.files.where("path").startsWith(i).filter(e=>!e.path.slice(a).includes("/")).keys()]).then(([e,t])=>{var i=e.concat(t).map(e=>e.slice(a));return i.sort(k),o.set(n,i)})}return o.set(n,null)})}function b(n){n=x(n);var i=r.get(n);return void 0!==i?Promise.resolve(i):e.supported&&!C(n)?e.lstat(n).then(e=>r.set(n,e)):t.files.get({path:n}).then(e=>e?e.target?r.set(n,new Stats({size:e.size||0,mode:FileTypeModes.SYMLINK,mtimeMs:e.mtimeMs,ctimeMs:e.ctimeMs})):r.set(n,new Stats({size:e.size||0,mode:FileTypeModes.FILE,mtimeMs:e.mtimeMs,ctimeMs:e.ctimeMs})):t.folders.get({path:n}).then(e=>e?r.set(n,new Stats({size:0,mode:FileTypeModes.DIRECTORY,mtimeMs:e.mtimeMs,ctimeMs:e.ctimeMs})):r.set(n,null)))}function w(n){return n=x(n),e.supported&&!C(n)?Promise.resolve(e.readlink(n)):t.files.get({path:n}).then(e=>e&&e.target||null)}function y(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function k(e,t){return-(e<t)||+(e>t)}function x(e){var t=a.get(e);if(t)return t;if(e.indexOf("\0")>=0)throw new Error("Path must be a string without null bytes.");if(""===e)throw new Error("Path must not be empty.");return a.set(e,e.split("/").filter((e,t)=>(""!==e||0===t)&&"."!==e).join("/"))}function S(e){var t=e.lastIndexOf("/");return-1===t?".":0===t?"/":e.slice(0,t)}function A(e){var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function _(e){var t=A(e),n=t.lastIndexOf(".");return-1==n?"":t.substr(n).toLowerCase()}function C(e){return e.startsWith("idb/")}Object.assign(this,{read:function(e,t={}){return d(e,t).catch(()=>null)},readFile:d,rmdir:p,rm:function(a,c={}){var{tmpDir:l,updateStatus:d}=c;return a=x(a),l?u(a,`${l}${a}~${y()}`,{updateStatus:d}):(i.clear(),(e.supported&&!C(a)?e.remove(a).then(e=>(o.del(S(a)),o.del(a),r.clear(),e)):t.files.get({path:a}).then(e=>{if(e)return o.del(S(a)),r.del(a),Promise.all([t.files.delete(e.id),t.data.delete(e.fid)]).then(()=>!0)})).then(e=>{if(e){n.del(a);return s.run({action:"rm",updateStatus:d,oldpath:a,path:null,type:"file"}).then(()=>v(a,"file")).then(()=>({oldpath:a,path:null,type:"file"}))}return p(a,{updateStatus:d})}))},readlink:w,readdir:g,readdirDeep:function(n,o){var{files:a=!0,folders:r=!1,relative:s=!1}=o||{},c=(n=x(n))+"/",l=c.length,u=`(dirname=${n},files=${a},folders=${r},relative=${s})`,d=i.get(u);return d?Promise.resolve(d):(e.supported&&!C(n)?e.readdirDeep(n,a,r):Promise.all([r?t.folders.where("path").startsWith(c).keys():[],a?t.files.where("path").startsWith(c).keys():[]]).then(([e,t])=>e.concat(t))).then(e=>i.set(u,s?e.map(e=>e.slice(l)):e))},lstat:b,exists:function(t){return t=x(t),e.supported&&!C(t)?Promise.resolve(e.exists(t)):l(t).then(e=>!!e||c(t).then(e=>!!e))},writelink:function(t,n){t=x(t);var a=n.toString("utf8");if(i.clear(),o.del(S(t)),r.del(t),e.supported&&!C(t))return h(S(t)).then(()=>e.writelink(t,a));return f(t,"",{target:a,mode:FileType.SYMLINK}).then(({mode:e,mtimeMs:t})=>({mode:e,type:"symlink",target:a,size:0,mtimeMs:t}))},write:f,mkdir:h,size:function(e){return b(e).then(e=>e&&e.size||0)},mv:u,migrate:function(e,n,i){return e=x(e),n=x(n),t.files.where("path").startsWith(e+"/").toArray().then(o=>{var a=o.length,r=0;return PromisePool({data:o,promiseGenerator:function(o){return t.data.get(o.fid).then(t=>{if(o&&o.path)return f(o.path.replace(e,n),t.text).then(()=>{i({loaded:r+=1,total:a,phase:"Migrating files"})})})},maxConcurrency:6,retryAttempts:0,useRaf:!0})})},fileCount:m,inode:function(e,t){return Promise.resolve(!t&&n.get(e)||n.set(e,y()))},inodePath:function(e){var t=n.find(e);return t?Promise.resolve(t):Promise.reject({source:"GitFileSystemClass",fn:"inodePath",message:"Could not find inode.",inode:e,code:GlobalErrorCodes.INodeNotFound})},inodePathSync:function(e){return n.find(e)},dirname:S,basename:A,hasExt:function(e,t){return e&&_(e)===t},ext:_,join:function(e,t){return null==e||null==t?null:e.replace(/\/$/,"")+"/"+t.replace(/^\//,"")},relativeTo:function(e,t){return t?e.slice(t.length+(t.endsWith("/")?0:1)):e},childOf:function(e,t){return!!e&&(e=x(e),t=x(t),e.startsWith(t+"/")||e===t)},observable:s,isIDB:C,isBinaryContent:function(e){return Buffer.from(e.slice(0,8e3)).some(e=>0===e)},normalizePath:x,writeExternal:function(t,n,i){return e.supported&&e.writeExternal(t,n,i)},saveBase64:function(e,t){AndroidRef&&AndroidRef.saveBase64?AndroidRef.saveBase64(Buffer.from(t).toString("base64"),e):saveAs(new Blob([t]),e)},uuid4:y})}GFS||$warn("GFS not initialized.");var FileType={FILE:32768,DIRECTORY:16384,SYMLINK:40960},FileTypeModes={FILE:33188,DIRECTORY:16384,SYMLINK:40960};function Stats({size:e,mode:t,atimeMs:n=null,mtimeMs:i,ctimeMs:o}){var a=0;"number"!=typeof n&&(n=a=Date.now()),"number"!=typeof i&&(i=a=a||Date.now()),"number"!=typeof o&&(o=a=a||Date.now());var r=this;Object.assign(r,{size:e,atimeMs:n,ctimeMs:o,mtimeMs:i,isFile:function(){return(61440&r.mode)===FileType.FILE},isDirectory:function(){return(61440&r.mode)===FileType.DIRECTORY},isSymbolicLink:function(){return(61440&r.mode)===FileType.SYMLINK},chmod:function(e){this.mode=61440&r.mode|e},toBuffer:function(){var e=Buffer.alloc(32);return e.writeUInt32LE(r.size,0),e.writeUInt32LE(r.mode,4),e.writeDoubleLE(r.atime.getTime(),8),e.writeDoubleLE(r.mtime.getTime(),16),e.writeDoubleLE(r.ctime.getTime(),24),e},uid:0,gid:0,ino:0,mode:function(e){var t=e>0?e>>12:0;4!==t&&8!==t&&10!==t&&14!==t&&(t=8);var n=511&e;n=73&n?493:420;8!==t&&(n=0);return(t<<12)+n}(t)}),Object.defineProperties(r,{atime:{get:()=>new Date(r.atimeMs)},mtime:{get:()=>new Date(r.mtimeMs)},ctime:{get:()=>new Date(r.ctimeMs)}})}function tryParseJSON(e){try{return JSON.parse(e)||{}}catch(e){return{}}}function castAsReadableArrayBuffer(e){if(e instanceof ArrayBuffer)return e;if(e instanceof Uint8Array)return 0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if(Buffer.isBuffer(e))return e.buffer;throw new Error("Argument type not recognized: "+typeof e)}var GitStatusTypes={EMPTY:0,SAME:1,IGNORED:2,ADDED:4,CHANGED:8,CONFLICT:16,DELETED:32,STAGED:64};function GA_SendEvent(e,t,n,i){try{window.gtag&&t&&e&&window.navigator&&navigator.onLine&&window.gtag("event",e,{event_category:t,event_label:n,value:i})}catch(e){}}function GA_SendEvent_Success(e,t,n,i){return function(o){return GA_SendEvent(e+"_s",t,n,i),o}}function GA_SendEvent_Failure(e,t){return function(n){var i="";try{var o=window.$version;n&&(i=`${o}_${e}_${"string"==typeof n.message?n.message:n}`)}catch(e){}return GA_SendEvent(e+"_f",t+"_f",i),Promise.reject(n)}}window.GitStatusTypes=GitStatusTypes,m.module("metadata").require("session","gitClient","path","set").__init__((e,{session:t,gitClient:n,path:i,set:o})=>{Object.assign(e,{gitClient:n,session:t,path:i,set:o,observable:new ObservableClass,_cache:{}}),t.observable.subscribe(e.Ae.bind(e)),GFS.observable.subscribe(e._e.bind(e))}).def({Ae:function({action:e,projectDir:t}){var n=this;switch(e){case"syncGit":return n.Ce(),n.Fe(t).then(()=>n.Ie())}},N:function(e){var t=this;return t.Ce(),Promise.resolve(e.git&&e.dir&&t.Ee().then(n=>n?t.$e():t.Fe(e.dir).then(()=>t.Ie())))},_e:function({action:e,oldpath:t,path:n,type:i,updateStatus:o}){if(o&&n){var a=this.session.Pe();if(a&&a.dir&&a.git&&!this.path.Ge(n)){var r=a.dir;return Promise.all([GFS.childOf(n,r)&&this.je(e,i,n,r),GFS.childOf(t,r)&&this.je(e,i,t,r)])}}},je:function(e,t,n,i){switch(e){case"write":return this.Te(n,i);case"mv":if(n===i)break;case"rm":case"rmdir":if("folder"===t)return this.Fe(n);if("file"===t)return this.Te(n,i)}},Fe:function(e){var t=this;if(!e)return Promise.resolve();var n=t.session.Oe();return Promise.all([t.gitClient.Be(n).then(e=>e.map(e=>`${n}/${e}`)),t.Le().map(e=>e.path),GFS.readdirDeep(e)]).then(([i,o,a])=>{var r=t.path.Ge,s=e+"/",c=t.set.Re(e===n?i:i.filter(e=>e.startsWith(s)),e===n?o:o.filter(e=>e.startsWith(s)),a).filter(e=>!r(e));return Promise.all(c.map(e=>t.Te(e,n)))})},Te:function(e,t){var n=this,{mtimeMs:i,status:o}=n.Ue(e);return Promise.resolve(0===i||GFS.lstat(e).then(e=>!e||e.mtimeMs>i)).then(i=>{if(i){var a=GFS.relativeTo(e,t);return n.gitClient.Me(t,a).then(t=>{$console.log(`[git:status] ${t}: ${a}`),o=n.ze(t),n.De(e,{status:o})})}}).then(()=>n.observable.run({action:"updateStatus",path:e,status:o}))},Ce:function(){this._cache={}},Ue:function(e){return this._cache[e]||{mtimeMs:0}},De:function(e,t){var n=this._cache[e]=this._cache[e]||{};return Object.assign(n,t),n.mtimeMs=Date.now(),n},Ee:function(){return ENV.metadataDirAsync(this.session.Oe()).then(e=>GFS.exists(e))},$e:function(){var e=this,t=e.session.Oe();return ENV.metadataDirAsync(t).then(n=>GFS.readFile(n,{encoding:"utf8"}).then(n=>(e._cache=tryParseJSON(n),e.Fe(t))))},Le:function(){var{SAME:e,IGNORED:t}=GitStatusTypes,n=e|t,i=this._cache;return Object.keys(i).map(e=>({path:e,status:i[e].status})).filter(e=>e.status&&!(e.status&n))},Ie:function(){var e=this._cache;return ENV.metadataDirAsync(this.session.Oe()).then(t=>GFS.write(t,JSON.stringify(e),{updateStatus:!0}))},ze:function(e){var{EMPTY:t,CONFLICT:n,STAGED:i,SAME:o,DELETED:a,IGNORED:r,ADDED:s,CHANGED:c}=GitStatusTypes,l=t;switch(e.includes("!")&&(l|=n),e.includes("*")||(l|=i),e=e.replace(/[*!]/g,"")){case"absent":case"unmodified":l|=o;break;case"deleted":l|=a;break;case"ignored":l|=r;break;case"added":l|=s;break;case"modified":l|=c}return l}}),m.module("model").require("path").__init__((function(e,{path:t}){Object.assign(e,{db:IDB,path:t,observable:new ObservableClass})})).def({D:function(e){return this.db.meta.where("key").equals(e).first().then(e=>e&&e.value)},Ne:function(e,t){return this.db.meta.put({key:e,value:t})},Ve:function(){return this.db.projects.toArray().then(e=>ENV.projectConfigPathAsync().then(t=>GFS.write(t,JSON.stringify(e))))},He:function(){var e=this;return ENV.projectConfigPathAsync().then(t=>GFS.readFile(t,{encoding:"utf8"}).then(t=>{var n=tryParseJSON(t);return e.db.projects.bulkAdd(n).then(()=>n)}).catch(()=>[]))},We:function(e){var t={modifiedAt:Date.now()};return Object.assign(t,e),this.db.projects.put(t).then(e=>this.observable.run({action:"add",pid:e,type:"project"}).then(()=>this.Ve()).then(()=>e))},Ke:function(e,t){return t.modifiedAt=Date.now(),this.db.projects.update(e,t).then(n=>this.observable.run({action:"update",pid:e,changes:t,type:"project"}).then(()=>this.Ve()).then(()=>n))},qe:function(e){return Promise.resolve(this.Ye()).then(t=>{for(var n=t.map(e=>e.dir),i=1,o=e;n.includes(o);)o=`${e} ${i}`,i++;return o})},j:function(e){return this.db.projects.get(e).then(t=>t||Promise.reject({source:"model.module",fn:"pvGetProjectAsync",message:"Project not found.",pid:e,code:GlobalErrorCodes.ProjectNotFound}))},G:function(e){var t=this,n=()=>{};return t.j(e).then(({dir:i})=>Promise.all([GFS.rmdir(i).catch(n),ENV.trashDirAsync(i).then(e=>GFS.rmdir(e)).catch(n),ENV.metadataDirAsync(i).then(e=>GFS.rmdir(e)).catch(n)]).then(()=>t.db.projects.delete(e)).then(()=>this.observable.run({action:"delete",pid:e,type:"project"})).then(()=>t.Ve()).then(()=>Promise.all([t.db.data.toCollection().primaryKeys(),t.db.files.orderBy("fid").uniqueKeys()]).then(([e,n])=>{var i=e.filter(e=>!n.includes(e));if(i.length)return t.db.data.bulkDelete(i)})))},Ye:function(){return this.db.projects.toArray().then(e=>0===e.length?this.He():e)},xe:function(e){return this.db.libraries.add(e)},Qe:function(e){return this.db.libraries.delete(e)},ke:function(e){return this.db.libraries.get(e).then(t=>t||Promise.reject({source:"model.module",fn:"pvGetLibraryAsync",message:"Library not found.",url:e,code:GlobalErrorCodes.LibraryNotFound}))},P:function(e){if("RISKY_STUFF"===e){return Promise.all([this.db.projects.clear(),this.db.files.clear(),this.db.folders.clear(),this.db.libraries.clear(),this.db.data.clear(),this.db.meta.clear()]).then(()=>Promise.all([ENV.projectConfigPathAsync().then(e=>GFS.rm(e)),ENV.trashDirAsync().then(e=>GFS.rmdir(e)),ENV.metadataDirAsync().then(e=>GFS.rm(e))])).then(()=>this.observable.run({action:"delete",type:"projects"}))}}}),m.module("session").require("model","progress","prompt","gitClient","zipper").__init__((function(e,{model:t,gitClient:n,progress:i,prompt:o,zipper:a}){Object.assign(e,{model:t,gitClient:n,progress:i,prompt:o,zipper:a,observable:new ObservableClass,_project:null}),t.observable.subscribe(({type:t,action:n,pid:i})=>{switch(t){case"project":if(i===e.Je())return e.model.j(i).then(t=>e.Ze(t)).catch(()=>e.V());break;case"projects":if("delete"===n)return e.V()}})})).def({Xe:function(e){return this.Oe()===e},et:function({phase:e,loaded:t,total:n}){var i=`${e} (${t}/${n})`,o=t/n*100;this.progress.tt(i,o),t===n&&this.progress.nt()},Pe:function(){return this._project},Je:function(){var e=this.Pe();return e&&e.pid},Oe:function(){var e=this._project;return e&&e.dir},V:function(){var e=this;return e.Ze(null).then(()=>e.model.Ne("currentProjectId",null)).then(()=>e.observable.run({action:"close"}))},Ze:function(e){var t=this,n=e&&e.dir;return(n?t.gitClient.it(n).then(e=>({branch:e,git:!0}),()=>({branch:null,git:!1})).then(n=>(Object.assign(e,n),t.model.db.projects.update(e.pid,n))):Promise.resolve()).then(()=>(t._project=e,t.observable.run({action:"setProject",project:e})))},ot:function(e){return this.observable.run({action:"syncGit",projectDir:e})},at:function(){var e=this;return new Promise((function(t,n){e.prompt.H("MIGRATE PROJECT",null,{text:"Do you wish to migrate your project to Android Filesystem? Highly recommended to backup your project first.",okLabel:"MIGRATE",cancelLabel:"BACKUP",onResult:function(){t()},onDismiss:function(){n()}})}))},rt:function(){var e=this;return new Promise((function(t,n){e.prompt.H("REVERT MIGRATION",null,{text:"System detected a migration error occurred with this project, do you wish to revert the migration?",okLabel:"REVERT",cancelLabel:"CANCEL",onResult:function(){t()},onDismiss:function(){n()}})}))},N:function(e){var t=this;return t.model.j(e).then(n=>{var{olddir:i,dir:o}=n,a=GFS.basename(o)||"Unknown";return o=i||o,ENV.filesDirAsync().then(r=>t.model.qe(`${r}${a}`).then(a=>{if(!GFS.isIDB(a)){if(GFS.isIDB(o))return AndroidRef&&AndroidRef.canAccessIDB&&!AndroidRef.canAccessIDB()?(t.prompt.me("Cannot access IndexedDB","Editor loaded off-domain due to a bad internet connection and temporarily cannot access IndexedDB projects. Please connect to another network or disconnect completely and then restart the editor."),Promise.reject({source:"session.module",fn:"pvOpenProjectAsync"})):t.at().then((function(){return $console.log(`Migrating '${o}' to '${a}'`),GFS.migrate(o,a,t.et.bind(t)).catch(e=>(t.prompt.me("Migration Failed",e&&e.message||"Migration failed for an unknown reason. Please recreate the project to migrate."),t.progress.nt(),Promise.reject(e))).then(()=>t.model.Ke(e,{olddir:null,dir:a})).then(GA_SendEvent_Success("migrate_3","app"),GA_SendEvent_Failure("migrate_3","app")).then(()=>t.model.j(e))}),(function(){return t.zipper.st(o),n}));var s=o.replace(r,"idb/");return Promise.all([GFS.fileCount(o),GFS.fileCount(s)]).then(([i,o])=>0===i&&o?t.rt().then(()=>t.model.Ke(e,{olddir:null,dir:s})).then(GA_SendEvent_Success("revert_migrate","app"),GA_SendEvent_Failure("revert_migrate","app")).then(()=>t.model.j(e)):n)}return i?GFS.mkdir(o).then(()=>GFS.mv(o,a)).then(()=>t.model.Ke(e,{olddir:null,dir:a})).then(()=>t.model.j(e)):n}))}).then(n=>Promise.all([t.model.Ne("currentProjectId",e),t.Ze(n)]).then(()=>this.observable.run({action:"open",project:n})))}}),m.module("share").require("prompt").__init__((function(e,{prompt:t}){Object.assign(e,{prompt:t});var n="abcdefghijklmnopqrstuvwxyz";e.maxSize=16384,e.base=n+n.toUpperCase(),e.baseCharCodes=new Uint8Array(e.base.split("").map(e=>e.charCodeAt(0)))})).def({ct:function(){$$("shareLinkInput").element.select(),document.execCommand("copy")},lt:function(e){var t=this;return GFS.lstat(e).then(n=>{if(n){if(n.size<t.maxSize)return t.ut(e).then(e=>{$$("shareLinkInput").setValue(e),t.modal.open(),GA_SendEvent("share_link","n/a")}).catch(e=>{t.prompt.me(e.name||"Decoding Error",e.message||String(e))});t.prompt.me("Size Exceeded","Could not share file because it exceeds the 16 kB limit.")}else t.prompt.me("Missing File","Could not share file because it does not exist.")})},ut:function(e){return GFS.readFile(e).then(t=>`https://spck.io/?fileName=${encodeURIComponent(GFS.basename(e))}&fileContent=${this.dt(t)}`)},dt:function(e){var t=new zip.Deflater;t.append(e);var n=t.flush(),i=this.base;return n.reduce((e,t)=>e+i[Math.floor(t/5)]+(t%5||""),"")},ht:function(e){for(var t,n,i=new Uint8Array(e.length),o=0,a=0,r=this.baseCharCodes;a<e.length;){if(!(65<=(t=e.charCodeAt(a))&&t<=122&&(t<=90||t>=97)))throw new Error("Decoding error occurred with corrupted url.");48<=(n=e.charCodeAt(a+1))&&n<=57?(i[o]=5*r.indexOf(t)+n-48,a+=2,o++):(i[o]=5*r.indexOf(t),a++,o++)}var s=new zip.Inflater,c=Buffer.from(castAsReadableArrayBuffer(s.append(i.slice(0,o))));return s.flush(),c}}),m.module("share").__init__((function(e){e.modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",closeButton:!1,center:!1,header:{cls:"x-menu-title-bar shadow",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:"SHARE LINK",collapsable:!1}]},body:{flexLayout:"column",cells:[{margin:"y-sm",view:"label",label:"The url below is self-contained and can be accessed without an internet connection if you downloaded the app."},{cls:"uk-form",flexAlign:"middle",cells:[{id:"shareLinkInput",view:"input",flexSize:"flex",autocapitalize:"off",autocorrect:"off",spellcheck:"false",readonly:!0},{view:"menuIcon",icon:"copy",title:"Copy Link",margin:"x-sm",flexSize:"none",on:{onClick:function(){e.ct()}}}]}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"shareCancelButton",view:"button",label:"CLOSE",on:{onClick:function(){e.modal.close()}}}]}},document.getElementById("appContainer"))})),m.module("templates").__new__((function(e){e.frameworks={js:{angular:{name:"Angular",info:"Learn one way to build applications with Angular and reuse your code and abilities to build apps for any deployment target.",templates:[{path:"index.html",src:"index.html"},{path:"systemjs.config.js",src:"angular-systemjs.config.js",include:!0},{path:"app.ts",src:"angular-app.ts"},{path:"main.ts",src:"angular-main.ts"},{path:"app.html",src:"angular-app.html"}],scripts:["//unpkg.com/core-js@2.5.7/client/shim.min.js","//unpkg.com/zone.js@0.8.26?main=browser","//unpkg.com/zone.js@0.8.26/dist/long-stack-trace-zone.js","//unpkg.com/reflect-metadata@0.1.8","//unpkg.com/systemjs@0.19.47/dist/system.js"],body:"<my-app>Loading...</my-app>",defaultFile:"app.ts"},angularjs:{name:"AngularJS",info:"AngularJS is what HTML would have been, had it been designed for building web-apps.",templates:[{path:"index.html",src:"index.html"},{path:"index.js",src:"angularjs-index.js",include:!0}],bodyTemplate:"angularjs-body.html",scripts:["https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js","https://cdn.jsdelivr.net/npm/angular@1.7.3/angular.min.js"],defaultFile:"index.js"},d3:{name:"D3",info:"Library for visualizing data using web standards. D3 helps you bring data to life using SVG, Canvas and HTML.",templates:[{path:"index.html",src:"index.html"},{path:"index.js",src:"d3-index.js",include:!0},{path:"style.css",src:"d3-style.css",stylesheet:!0}],scripts:["https://cdn.jsdelivr.net/npm/d3@5.5.0/dist/d3.min.js"],defaultFile:"index.js"},html:{name:"HTML",info:"Just a simple plain HTML page.",templates:[{path:"index.html",src:"index.html"},{path:"main.js",src:"main.js",include:!0},{path:"style.css",src:"style.css",stylesheet:!0}],body:"<p>Nothing to see here...</p>",scripts:[],defaultFile:"main.js"},react:{name:"React",info:"React will efficiently update and render just the right components when your data changes.",scripts:["//unpkg.com/systemjs@0.19.47/dist/system.js"],templates:[{path:"index.html",src:"index.html"},{path:"config.js",src:"react-config.js",include:!0},{path:"app.jsx",src:"react-app.jsx"}],body:'<div id="react-app"></div>',defaultFile:"app.jsx"},vue:{name:"Vue.js",info:"A progressive framework for building user interfaces. (Vue files are not supported.)",templates:[{path:"index.html",src:"index.html"},{path:"app.js",src:"vue-app.js",include:!0}],scripts:["https://cdn.jsdelivr.net/npm/vue@2.5.13/dist/vue.min.js"],bodyTemplate:"vue-body.html",defaultFile:"app.js"}},css:{bootstrap:{name:"Bootstrap",info:"Bootstrap, a sleek, intuitive, and powerful mobile first front-end framework for faster and easier web development.",classes:{container:"container text-center",heading:"h2",text:"lead"},links:["https://cdn.jsdelivr.net/npm/bootstrap@4.1.2/dist/css/bootstrap.min.css"],scripts:["https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js","https://cdn.jsdelivr.net/npm/bootstrap@4.1.2/dist/js/bootstrap.min.js"]},mdl:{name:"Material Design Lite",info:"A front-end template that helps you build fast, modern mobile web apps.",classes:{container:"mdl-grid mdl-typography--text-center",heading:"mdl-layout-title mdl-cell--12-col",text:"mdl-cell--12-col"},links:["//fonts.googleapis.com/icon?family=Material+Icons","https://cdn.jsdelivr.net/npm/material-design-lite@1.3.0/dist/material.indigo-pink.min.css"],scripts:["https://cdn.jsdelivr.net/npm/material-design-lite@1.3.0/dist/material.min.js"]},semantic_ui:{name:"Semantic UI",info:"Semantic is a UI component framework based around useful principles from natural language.",classes:{container:"ui container",heading:"header",text:"text"},links:["https://cdn.jsdelivr.net/npm/semantic-ui@2.4.1/dist/semantic.min.css"],scripts:["https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js","https://cdn.jsdelivr.net/npm/semantic-ui@2.4.1/dist/semantic.min.js"]},bulma:{name:"Bulma",info:"A lightweight and modular front-end framework for developing fast and powerful web interfaces.",classes:{container:"container",heading:"title",text:"subtitle"},links:["https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.min.css"],scripts:["https://use.fontawesome.com/releases/v5.3.1/js/all.js"]},uikit:{name:"UIkit",info:"A lightweight and modular front-end framework for developing fast and powerful web interfaces.",classes:{container:"uk-container uk-text-center",heading:"uk-text-lead",text:"uk-text-meta"},links:["https://cdn.jsdelivr.net/npm/uikit@3.0.0-rc.11/dist/css/uikit.min.css"],scripts:["https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js","https://cdn.jsdelivr.net/npm/uikit@3.0.0-rc.11/dist/js/uikit.min.js"]}}},e.quotes=["Hard work pays off in the future. Laziness pays off now.","A closed mouth gathers no foot.","A dog is a dog unless he is facing you. Then he is Mr. Dog.","A neat desk is a sign of a cluttered desk drawer.","A sine curve goes off to infinity, or at least to the end of the blackboard.","Artificial intelligence is no match for natural stupidity.","Caution: do not look into laser with remaining eye.","Change is inevitable, except from a vending machine.","Democracy is four wolves and a lamb voting on what to have for lunch.","Diplomacy is the art of saying 'good doggie' while looking for a bigger stick.","Don't personify computers - we don't like it.","Do not worry about the world ending today, it's already tomorrow in Australia","Experience is something you get just after you need it.","Give a man a fish and you feed him for a day. Teach a man to fish, and you can sell him some tackle.","Happiness makes up in height what it lacks in length.","As a computer, I find your faith in technology amusing.","If it weren't for the last minute, nothing would get done.","My favourite scientific theory is that the rings of Saturn are made of lost airline luggage.","Never attribute to malice what can be adequately explained by stupidity.","Never test the depth of the water with both feet.","No problem is so big that you can't run away from it.","On the other hand... I have some fingers.","Personifiers of the world! Unite! You have nothing to lose but Mr. Dignity!","Rome wasn't built in a day, it just looks like that.","Smash forehead on keyboard to continue.","The amount of sleep needed by the average person is ten minutes more.","The early bird gets the worm, but the early worm gets eaten.","Time flies like an arrow, fruit flies like a banana","To steal ideas from one person is plagiarism; to steal from many is research.","The person who knows how to laugh at himself will never cease to be amused","Where in the nursery rhyme does it say Humpty Dumpty is an egg?","The trouble with doing something right the first time, is nobody appreciates how difficult it was.","Be nice to other people; they outnumber you 5.5 billion to one. ","Talk is cheap because supply exceeds demand","There has been an alarming increase in the number of things you know absolutely nothing about.","For every problem there is a solution which is simple, neat and wrong. ","When you find yourself in a hole, the first thing to do is stop digging.","If it's stupid but works, it isn't stupid.","Anything free is worth the price.","Always listen to experts. They'll tell you what can't be done, and why. Then go and do it anyway.","Compromise is the art of dividing a cake so everyone believes he got the biggest piece. -Ludwig Erhard","It is better to have enough ideas for some of them to be wrong than to always be right by having no ideas at all. -Edward de Bono","Time is what keeps everything from happening all at once.","When all else fails, read the instructions.","There are 10 types of people in this world; those who understand the binary number system and those who do not"]})),m.module("templates").require("remote").__init__((function(e,{remote:t}){e.remote=t,e.templateLocation="assets/templates",e.template=doT.template,doT.templateSettings.varname="d",doT.templateSettings.strip=!1})).def({ft:function(){return""},pt:function(e){return beautifier.html(["<!DOCTYPE html>","<html>","<head>",'<meta charset="UTF-8">','<meta name="viewport" content="width=device-width, initial-scale=1">',"<title></title>","</head>","<body>","","</body>","</html>"].join("\n"),{tabString:e})},vt:function(){return""},gt:function(e){var t=this.templateLocation+"/"+e;return this.remote.I({url:t,retryCount:1,noCache:!1}).then((function(e){return doT.template(e)}))},bt:function(){return this.quotes[Math.floor(Math.random()*this.quotes.length)]},wt:function(e){var t={scripts:e.scripts||[],links:e.links||[],name:e.name,headTemplate:doT.template(e.head||""),bodyTemplate:doT.template(e.body||"")},n=[];return e.bodyTemplate&&n.push(this.gt(e.bodyTemplate).then((function(e){t.bodyTemplate=e}))),e.headTemplate&&n.push(this.gt(e.headTemplate).then((function(e){t.bodyTemplate=e}))),Promise.all(n).then((function(){return t}))}}),m.module("date").def({yt:function(e,t){var n=this.kt,i=(Date.now()-e)/1e3,o=t?"from now":"ago";return isNaN(i)?"at ?":i<10?t?"in a few seconds":"just now":i<60?n(i,1)+" seconds "+o:i<120?"a minute "+o:i<3600?n(i,60)+" minutes "+o:i<7200?"an hour "+o:i<86400?n(i,3600)+" hours "+o:i<172800?"a day "+o:n(i,86400)+" days "+o},kt:function(e,t){return Math.floor(e/t)}}),m.module("path").__new__((function(e){e.BinaryExtensions=[".avi",".ogv",".ogg",".mov",".webm",".m4p",".m4v",".mp4",".mkv",".mov",".h261",".h263",".h264",".mts",".m2ts",".vob",".wmv",".rmvb",".rm",".amv",".gifv",".flv",".f4v",".f4a",".psd",".swf",".ai",".asf",".abf",".afm","acfm",".zip",".tar",".gz",".rar",".ai",".7z",".bzip",".lzma",".iso",".jar",".zipx",".ipa",".dmg",".exe",".msi",".war",".apk",".mpg",".mpeg",".mpe",".mpv",".mp2",".3gp",".aa",".aac",".aax",".act",".aiff",".alac",".amr",".ape",".au",".awb",".dct",".dss",".dvf",".flac",".gsm",".ivs",".m4a",".m4b",".m4p",".mp3",".mpc",".msv",".nsf",".oga",".mogg",".opus",".ra",".tta",".wav",".wma",".wv",".8svx",".3ds",".3dm",".fbx",".dae",".stp",".igs",".stl",".wrl",".ply",".obj",".off",".prt",".blend",".ppt",".pptx",".doc",".docm",".docx",".xls",".xlsx",".DS_Store",".jpe",".jpg",".jpeg",".jif",".jfif",".jfi",".ttf",".otf",".woff",".eot",".woff",".woff2",".gif",".tiff",".bmp",".apng",".mng",".png",".webp",".ico",".pdf",".raw",".heif",".indd",".eps",".tga",".dds"].reduce((e,t)=>(e[t]=0,e),{})})).def({xt:function(e){return e.includes("//")?"//":e.includes("\0")?"NUL":e.includes("\\")?"\\":void 0},St:function(e){return GFS.ext(e)in this.BinaryExtensions},we:function(e){return e.includes("//")},At:function(e){return this.we(e)&&-1==e.indexOf(location.host)},_t:function(e){return e.split(location.host).pop()},ye:function(e){return("//"+e.split(/(:\/\/|^\/\/)/).pop()).split("?")[0]},Ct:function(e){return(e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0]).split(":")[0].split("?")[0]},Ft:function(e){var t=this.Ct(e),n=t.split(/[@.]/),i=n.length;return i>2&&(t=n[i-2]+"."+n[i-1],2==n[i-2].length&&2==n[i-1].length&&(t=n[i-3]+"."+t)),t},Ge:function(e){return/\/\.git\b/.test(e)}}),m.module("set").def({It:function(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))},Re:function(){var e=Array.prototype.slice.call(arguments),t=e.reduce((e,t)=>t.concat(e),[]);return t.filter((function(e,t,n){return n.indexOf(e)===t}))}}),m.module("string").def({Et:function(e){return e.replace(/[.*+?^${}()|\\[\]]/g,"\\$&")},$t:function(e){return(e.match(/\n/g)||"").length+1}}),m.module("urlQuery").def({Pt:function(){return window.location.search},o:function(e){for(var t=this.Pt().substring(1).split("&"),n=0;n<t.length;n++){var i=t[n].split("=");if(decodeURIComponent(i[0])==e)return decodeURIComponent(i[1])}}}),m.module("vibrate").__new__(e=>{e.enabled=!0}).def({Gt:function(){"vibrate"in navigator&&this.enabled&&navigator.vibrate(30)}}),m.module("zipper").require("path","messages","prompt","progress").__init__((function(e,{path:t,messages:n,prompt:i,progress:o}){Object.assign(e,{path:t,messages:n,prompt:i,progress:o}),zip.workerScripts={deflater:["workers/worker_deflate.js"],inflater:["workers/worker_inflate.js"]}})).def({st:function(e){var t=this;e&&t.prompt.H("EXPORT ZIP",GFS.basename(e),{text:"Enter a filename for the zip file.",showInput:!0,onResult:function(n){return t.jt(e,n).then(GA_SendEvent_Success("export_zip","zip"),GA_SendEvent_Failure("export_zip","zip")).catch((function(e){throw t.messages.Tt("exportZipError"),e}))}})},Ot:function(){return new Promise((function(e,t){zip.createWriter(new zip.ArrayBufferWriter,(function(t){e({exportFileAsync:function(e,n){return new Promise((function(i){t.add(e,new zip.ArrayBufferReader(castAsReadableArrayBuffer(n)),i)}))},exportFolderAsync:function(e){return new Promise((function(n){t.add(e,new zip.ArrayBufferReader(new ArrayBuffer),n,null,{directory:!0})}))},completeExportAsync:function(e){return new Promise((function(e){t.close(e)})).then(t=>(e=e||"Unknown",e=GFS.hasExt(e,".zip")?e:e+".zip",GFS.saveBase64(e,t)))}})}),t,!0)}))},Bt:function(e){return GFS.read(e).then(t=>GFS.saveBase64(GFS.basename(e),t))},jt:function(e,t){var n=this;return n.Ot().then(i=>Promise.all([GFS.readdirDeep(e,{files:!1,folders:!0,relative:!0}),GFS.readdirDeep(e)]).then(([t,o])=>{var a=t.filter(e=>!n.path.Ge(e)),r=o.filter(e=>!n.path.Ge(e)),s=a.length+r.length,c=0;return PromisePool({data:a,promiseGenerator:function(e){return c++,n.progress.ProgressReporter.reportProgress({phase:`Zipping: ${GFS.basename(e)}`,lengthComputable:!0,loaded:c,total:s}),i.exportFolderAsync(e)},maxConcurrency:1,retryAttempts:0,useRaf:!0}).then(()=>PromisePool({data:r,promiseGenerator:function(t){return GFS.readFile(t).then(o=>(c++,n.progress.ProgressReporter.reportProgress({phase:`Zipping: ${GFS.basename(t)}`,lengthComputable:!0,loaded:c,total:s}),i.exportFileAsync(GFS.relativeTo(t,e),o)))},maxConcurrency:1,retryAttempts:0,useRaf:!0}))}).then((function(){return n.progress.ProgressReporter.close(!0),i.completeExportAsync(t)})))},Lt:function(e,t){var n=this;return new Promise((function(i,o){zip.createReader(new zip.BlobReader(t),(function(t){t.getEntries((function(o){var a=0,r=o.filter(e=>!e.directory&&!!e.filename),s=r.length;return PromisePool({data:r,promiseGenerator:function(t){return new Promise((function(i){t.getData(new zip.ArrayBufferWriter,o=>{i(GFS.write(GFS.join(e,t.filename),o)),a++,n.progress.ProgressReporter.reportProgress({phase:`Unzipping: ${GFS.basename(t.filename)}`,lengthComputable:!0,loaded:a,total:s})})}))},maxConcurrency:1,retryAttempts:0}).then(()=>{t.close(i),n.progress.ProgressReporter.close(!0)})}))}),o)}))}})
/*!
 * MIT License
 *
 * Copyright (c) 2016 Ike Ku
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */,ace.define("ace/theme/ayu-light",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!1,t.cssClass="ace-ayu-light",t.cssText=".ace-ayu-light .ace_gutter {color: #1069a9;}.ace-ayu-light .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAADElEQVQI12P4/PkzAAW2AtoE25PsAAAAAElFTkSuQmCC) right repeat-y;}.ace-ayu-light .ace_print-margin {width: 1px;background: #e8e8e8}.ace-ayu-light {color: #35373a}.ace-ayu-light .ace_cursor {color: #FF6A00}.ace-ayu-light .ace_marker-layer .ace_selection {background: #a5dfff}.ace-ayu-light.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px #FAFAFA;border-radius: 2px}.ace-ayu-light .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-ayu-light .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #FF0000}.ace-ayu-light .ace_marker-layer .ace_active-line {border: 2px solid #eee;box-sizing: border-box;}.ace-ayu-light .ace_marker-layer .ace_selected-word {border: 1px solid #74caf9}.ace-ayu-light .ace_keyword.ace_operator {color: #ED9366}.ace-ayu-light .ace_constant.ace_language {color: #A37ACC}.ace-ayu-light .ace_constant.ace_numeric {color: #A37ACC}.ace-ayu-light .ace_constant.ace_character {color: #A37ACC}.ace-ayu-light .ace_constant.ace_character.ace_escape {color: #4CBF99}.ace-ayu-light .ace_constant.ace_other {color: #A37ACC}.ace-ayu-light .ace_support.ace_function {color: #F07171}.ace-ayu-light .ace_support.ace_constant {color: #ED9366}.ace-ayu-light .ace_support.ace_class {color: #55B4D4}.ace-ayu-light .ace_support.ace_type {color: #55B4D4}.ace-ayu-light .ace_tag-name.ace_tag,.ace-ayu-light .ace_storage,.ace-ayu-light .ace_keyword {color: #FA6E32}.ace-ayu-light .ace_storage.ace_type {color: #FA6E32}.ace-ayu-light .ace_invalid {color: #F51818}.ace-ayu-light .ace_invalid.ace_deprecated {color: #FFFFFF;background-color: #FA6E32}.ace-ayu-light .ace_string {color: #86B300}.ace-ayu-light .ace_string.ace_regexp {color: #4CBF99}.ace-ayu-light .ace_comment {color: #ABB0B6}.ace-ayu-light .ace_variable {color: #55B4D4}.ace-ayu-light .ace_variable.ace_parameter {color: #A37ACC}.ace-ayu-light .ace_entity.ace_other.ace_attribute-name {color: #F29718}.ace-ayu-light .ace_entity.ace_name.ace_function {color: #F29718}.ace-ayu-light .ace_entity.ace_name.ace_tag {color: #55B4D4}.ace-ayu-light .ace_heading {color: #4845f7;}.ace-ayu-light .ace_list {color: #30a584;}"})),
/*!
 * MIT License
 *
 * Copyright (c) 2016 Ike Ku
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
ace.define("ace/theme/ayu-mirage",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!0,t.cssClass="ace-ayu-mirage",t.cssText=".ace-ayu-mirage .ace_gutter {color: rgb(125,127,129)}.ace-ayu-mirage .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAADElEQVQI12PQNbMHAAE2AKNSM6cKAAAAAElFTkSuQmCC) right repeat-y;}.ace-ayu-mirage .ace_print-margin {width: 1px;background: #333a48}.ace-ayu-mirage {color: #ddd}.ace-ayu-mirage .ace_cursor {color: #FFCC66}.ace-ayu-mirage .ace_marker-layer .ace_selection {background: #063e63;border-radius: 0;}.ace-ayu-mirage.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px black;}.ace-ayu-mirage .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-ayu-mirage .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #FFCC66}.ace-ayu-mirage .ace_marker-layer .ace_active-line {border: 2px solid #3a424a;box-sizing: border-box;}.ace-ayu-mirage .ace_marker-layer .ace_selected-word {background-color: rgba(125, 81, 64, 0.8);}.ace-ayu-mirage .ace_keyword.ace_operator {color: #F29E74}.ace-ayu-mirage .ace_constant.ace_language {color: #D4BFFF}.ace-ayu-mirage .ace_constant.ace_numeric {color: #D4BFFF}.ace-ayu-mirage .ace_punctuation,.ace-ayu-mirage .ace_punctuation.ace_tag {color: #bbb}.ace-ayu-mirage .ace_constant.ace_character {color: #D4BFFF}.ace-ayu-mirage .ace_constant.ace_character.ace_escape {color: #95E6CB}.ace-ayu-mirage .ace_constant.ace_other {color: #D4BFFF}.ace-ayu-mirage .ace_support.ace_function {color: #F28779}.ace-ayu-mirage .ace_support.ace_class {color: #5CCFE6}.ace-ayu-mirage .ace_support.ace_type {color: #5CCFE6}.ace-ayu-mirage .ace_meta.ace_tag,.ace-ayu-mirage .ace_tag-name.ace_tag,.ace-ayu-mirage .ace_storage,.ace-ayu-mirage .ace_keyword {color: #FFA759}.ace-ayu-mirage .ace_storage.ace_type {color: #FFA759}.ace-ayu-mirage .ace_invalid {color: #FF3333}.ace-ayu-mirage .ace_invalid.ace_deprecated {color: #FFFFFF;background-color: #FFA759}.ace-ayu-mirage .ace_string {color: #BAE67E}.ace-ayu-mirage .ace_string.ace_regexp {color: #95E6CB}.ace-ayu-mirage .ace_comment {color: #5C6773}.ace-ayu-mirage .ace_variable {color: #FFD580}.ace-ayu-mirage .ace_variable.ace_parameter {color: #D4BFFF}.ace-ayu-mirage .ace_entity.ace_other.ace_attribute-name {color: #FFD580}.ace-ayu-mirage .ace_entity.ace_name.ace_function {color: #FFD580}.ace-ayu-mirage .ace_entity.ace_name.ace_tag {color: #5CCFE6}.ace-ayu-mirage .ace_heading {color: #8987ff;}.ace-ayu-mirage .ace_list {color: #4ad3ac;}"})),ace.define("ace/theme/chrome",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!1,t.cssClass="ace-chrome",t.cssText=".ace-chrome .ace_gutter {color: #1069a9;}.ace-chrome .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAADElEQVQI12P4/PkzAAW2AtoE25PsAAAAAElFTkSuQmCC) right repeat-y;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color: rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {border: 2px solid #eee;box-sizing: border-box;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}"})),ace.define("ace/theme/dracula",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!0,t.cssClass="ace-dracula",t.cssText=".ace-dracula .ace_gutter {color: rgb(144,145,148)}.ace-dracula .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAADElEQVQI12PQNbMHAAE2AKNSM6cKAAAAAElFTkSuQmCC) right repeat-y;}.ace-dracula .ace_print-margin {width: 1px;background: #e8e8e8}.ace-dracula {color: #ddd}.ace-dracula .ace_cursor {color: #F8F8F0}.ace-dracula .ace_marker-layer .ace_selection {background: #063e63;border-radius: 0;}.ace-dracula.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px black;}.ace-dracula .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-dracula .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #F8F8F0}.ace-dracula .ace_marker-layer .ace_active-line {border: 2px solid #3a424a;box-sizing: border-box;}.ace-dracula .ace_marker-layer .ace_selected-word {background-color: rgba(125, 81, 64, 0.8);}.ace-dracula .ace_keyword {color: #d3a0ff}.ace-dracula .ace_keyword.ace_operator {color: #ddd}.ace-dracula .ace_constant.ace_language {color: #bd93f9}.ace-dracula .ace_constant.ace_numeric {color: #c3e8d1}.ace-dracula .ace_constant.ace_character {color: #bd93f9}.ace-dracula .ace_constant.ace_character.ace_escape {color: #ff79c6}.ace-dracula .ace_constant.ace_other {color: #bd93f9}.ace-dracula .ace_identifier {color: #aef1ff}.ace-dracula .ace_support.ace_function {color: #57afff}.ace-dracula .ace_support.ace_constant {color: #aef1ff}.ace-dracula .ace_support.ace_class {color: #aef1ff}.ace-dracula .ace_support.ace_type {color: #aef1ff}.ace-dracula .ace_meta.ace_tag,.ace-dracula .ace_storage {color: #57afff}.ace-dracula .ace_storage.ace_type {color: #57afff}.ace-dracula .ace_invalid {color: #F8F8F0;background-color: #ff79c6}.ace-dracula .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #bd93f9}.ace-dracula .ace_string {color: #f1fa8c}.ace-dracula .ace_comment {color: #7988b5}.ace-dracula .ace_constant,.ace-dracula .ace_variable {color: #a6ffbd}.ace-dracula .ace_variable.ace_parameter {color: #aef1ff}.ace-dracula .ace_entity.ace_other.ace_attribute-name {color: #aef1ff}.ace-dracula .ace_entity.ace_name.ace_function {color: #fff8d3}.ace-dracula .ace_xml-pe.ace_xml,.ace-dracula .ace_punctuation.ace_tag {color: #999}.ace-dracula .ace_tag-name.ace_tag,.ace-dracula .ace_entity.ace_name.ace_tag {color: #57afff}.ace-dracula .ace_heading {color: #aef1ff;}.ace-dracula .ace_markup.ace_list {color: #57afff;}"})),ace.define("ace/theme/monokai",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!0,t.cssClass="ace-monokai",t.cssText=".ace-monokai .ace_gutter {color: #8F908A}.ace-monokai .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAADElEQVQI12PQNbMHAAE2AKNSM6cKAAAAAElFTkSuQmCC) right repeat-y;}.ace-monokai .ace_print-margin {width: 1px;background: #555651}.ace-monokai {color: #ddd}.ace-monokai .ace_cursor {color: #F8F8F0}.ace-monokai .ace_marker-layer .ace_selection {background: #063e63;border-radius: 0;}.ace-monokai.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px black;}.ace-monokai .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-monokai .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #F8F8F0}.ace-monokai .ace_marker-layer .ace_active-line {border: 2px solid #3a424a;box-sizing: border-box;}.ace-monokai .ace_marker-layer .ace_selected-word {background-color: rgba(125, 81, 64, 0.8);}.ace-monokai .ace_invisible {color: #52524d}.ace-monokai .ace_entity.ace_name.ace_tag,.ace-monokai .ace_keyword,.ace-monokai .ace_meta.ace_tag,.ace-monokai .ace_storage {color: #F92672}.ace-monokai .ace_punctuation,.ace-monokai .ace_punctuation.ace_tag {color: #bbb}.ace-monokai .ace_constant.ace_character,.ace-monokai .ace_constant.ace_language,.ace-monokai .ace_constant.ace_numeric,.ace-monokai .ace_constant.ace_other {color: #AE81FF}.ace-monokai .ace_invalid {color: #F8F8F0;background-color: #F92672}.ace-monokai .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #AE81FF}.ace-monokai .ace_support.ace_constant,.ace-monokai .ace_support.ace_function {color: #66D9EF}.ace-monokai .ace_storage.ace_type,.ace-monokai .ace_support.ace_class,.ace-monokai .ace_support.ace_type {color: #66D9EF}.ace-monokai .ace_entity.ace_name.ace_function,.ace-monokai .ace_entity.ace_other,.ace-monokai .ace_entity.ace_other.ace_attribute-name,.ace-monokai .ace_variable {color: #A6E22E}.ace-monokai .ace_variable.ace_parameter {color: #FD971F}.ace-monokai .ace_string {color: #E6DB74}.ace-monokai .ace_comment {color: #75715E}.ace-monokai .ace_heading {color: #66D9EF;}.ace-monokai .ace_markup.ace_list {color: #A6E22E;}"})),ace.define("ace/theme/xcode",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!1,t.cssClass="ace-xcode",t.cssText=".ace-xcode .ace_gutter {color: #1069a9;}.ace-xcode .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAADElEQVQI12P4/PkzAAW2AtoE25PsAAAAAElFTkSuQmCC) right repeat-y;}.ace-xcode .ace_print-margin {width: 1px;background: #e8e8e8}.ace-xcode {color: black}.ace-xcode .ace_cursor {color: black}.ace-xcode .ace_marker-layer .ace_selection {background: #B5D5FF}.ace-xcode.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px #fff;}.ace-xcode .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-xcode .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #BFBFBF}.ace-xcode .ace_marker-layer .ace_active-line {border: 2px solid #eee;box-sizing: border-box;}.ace-xcode .ace_marker-layer .ace_selected-word {border: 1px solid #B5D5FF}.ace-xcode .ace_constant.ace_language,.ace-xcode .ace_keyword,.ace-xcode .ace_meta,.ace-xcode .ace_variable.ace_language {color: #C800A4}.ace-xcode .ace_invisible {color: #BFBFBF}.ace-xcode .ace_constant.ace_character,.ace-xcode .ace_constant.ace_other {color: #275A5E}.ace-xcode .ace_constant.ace_numeric {color: #3A00DC}.ace-xcode .ace_entity.ace_other.ace_attribute-name,.ace-xcode .ace_support.ace_constant,.ace-xcode .ace_support.ace_function {color: #450084}.ace-xcode .ace_entity.ace_name.ace_tag,.ace-xcode .ace_support.ace_class,.ace-xcode .ace_support.ace_type {color: #790EAD}.ace-xcode .ace_heading {  color: #e20505;}.ace-xcode .ace_markup.ace_list {  color: #5400a3;}.ace-xcode .ace_storage {color: #C900A4}.ace-xcode .ace_string {color: #DF0002}.ace-xcode .ace_comment {color: #008E00}"})),m.module("card").__new__((function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"x-card",width:"40",label:"",accessoryIcon:'<i class="uk-icon-chevron-right uk-icon-large" style="margin-left:auto"></i>'},template:['<div class="uk-flex uk-flex-middle">','<div class="uk-margin-large-right">','<svg viewBox="{{viewBox}}" width="{{width}}">',"{{svg}}","</svg>","</div>",'<div class="uk-margin-top">',"<h5>{{title}}</h5>",'<p class="uk-margin-large-right">{{label}}</p>',"</div>","{{accessoryIcon}}","</div>"].join("")},UI.definitions.link)})),m.module("fileBreadcrumb").require("fileTree").__init__((function(e,{fileTree:t}){Object.assign(e,{fileTree:t})})).__init__((function(e){UI.def({__name__:e.__name__,$defaults:{listStyle:"breadcrumb",tagClass:"x-file-breadcrumb"},getFullPath:function(){return this._fullPath},setFullPath:function(t){this._fullPath=t=t||"",""===t?this.setData([]):this.setData(t.split("/").map((t,n,i)=>({view:"link",label:(n===i.length-1?e.fileTree.Rt(t):e.fileTree.Ut(e.fileTree.svg.openFolder,30,15))+"<span>"+t+"</span>",path:i.slice(0,n+1).join("/")})))}},UI.definitions.list)})),m.module("fileSelect").require("path","session").__init__((e,{path:t,session:n})=>{Object.assign(e,{path:t,session:n})}).__new__((function(e){UI.def({__name__:e.__name__,setFilesData:function(t){if(0==t.length)this.setData([{value:"",label:"No file selected",selected:!0}]),this.disable(),this.paths=null;else{var n=e.session.Oe()||"";this.setData(function(e,t){return e.map((function(e){return{label:GFS.relativeTo(e,t),value:e}}))}(t,n)),this.setActive("label","index.html"),this.enable(),this.paths=t}return t},getFilePaths:function(){return this.paths||[]},getSelectedFile:function(){var e=this.getSelected()[0];return e&&e.value&&e.fid?e:null}},UI.definitions.select)})),m.module("fileTree").__new__((function(e){e.svg={assetFile:'<path fill="#51DB78" d="M 2,0 2,18 16,18 16,5.4 10.75,0 z m 7.875,6.3 0,-4.95 4.8125,4.95 z"></path>',styleFile:'<path fill="#9648EA" d="M 2,0 2,18 16,18 16,5.4 10.75,0 z m 7.875,6.3 0,-4.95 4.8125,4.95 z"></path>',scriptFile:'<path fill="#E2C100" d="M 2,0 2,18 16,18 16,5.4 10.75,0 z m 7.875,6.3 0,-4.95 4.8125,4.95 z"></path>',textFile:'<path fill="#7F7F7F" d="M 2,0 2,18 16,18 16,5.4 10.75,0 z m 7.875,6.3 0,-4.95 4.8125,4.95 z"></path>',defaultFile:'<path fill="#82B1FF" d="M 2,0 2,18 16,18 16,5.4 10.75,0 z m 7.875,6.3 0,-4.95 4.8125,4.95 z"></path>',folder:'<path fill="#90CAF9" d="M 8,2 1,2 1,16 17,16 17,4 8,4 z"></path>',openFolder:'<path fill="#FFA000" d="M 8,2 1,2 1,16 17,16 17,4 8,4 z"></path>'}})),m.module("fileTree").__init__(e=>{UI.def({__name__:e.__name__,$defaults:{indentWidth:12,tagClass:"x-file-tree"},template:function(t){var n=this.config.allowDrag,i="";return i=t.search?"":'<span class="x-tree-icon" style="margin-left:{{margin}}px"><i class="uk-icon-{{chevron}}"></i></span><span class="uk-active-line"></span>{{svg}}',UI.interpolate('<a class="uk-flex-middle uk-flex {{itemClass}} {{statusClass}}">'+i+'<span class="x-text-overflow-ellipsis uk-flex-item-1">{{label}}</span>'+(n?'<i class="uk-hidden-notouch uk-icon-more-vertical menu"></i>':"")+"</a>",{itemClass:t.cls||"x-tree-item",statusClass:e.Mt(t.status),chevron:e.zt(t),svg:e.Dt(t),margin:t.$depth*this.indentWidth,label:t.label,message:t.message})},updateItemStatus:function(t,n){var i=this.getItemNode(t.id);i&&i.firstChild&&(UI.removeClass(i.firstChild,e.Mt(t.status)),UI.addClass(i.firstChild,e.Mt(n))),t.status=n}},UI.definitions.tree)}).def({zt:function(e){return e.$children&&e.$children.length>0?e.$closed?"chevron-right":"chevron-down":""},Dt:function(e){var t;return t=e.search?"":e.file?e.isDefaultLaunchFile?this.svg.defaultFile:this.Nt(e.path):e.$children&&0!==e.$children.length?e.$closed?this.svg.folder:this.svg.openFolder:this.svg.folder,this.Ut(t,30,15)},Ut:function(e,t,n){return UI.interpolate('<svg class="svg-icon file-svg-icon" width="{{w}}" height="{{h}}" viewBox="5 0 18 18">{{path}}</svg>',{path:e,w:t,h:n})},Rt:function(e){return this.Ut(this.Nt(e),30,15)},Mt:function(e){var{CONFLICT:t,CHANGED:n,ADDED:i,DELETED:o,IGNORED:a}=GitStatusTypes;return e&t?"x-git-conflict":e&n?"x-git-changed":e&i?"x-git-new":e&o?"x-git-deleted":e&a?"x-git-ignored":""},Nt:function(e){switch(GFS.ext(e)){case".png":case".gif":case".svg":case".jpg":case".jpeg":case".bmp":case".woff":case".woff2":case".eot":case".ttf":case".otf":case".mp3":case".acc":case".flac":case".ogg":case".wav":return this.svg.assetFile;case".css":case".scss":case".sass":case".less":return this.svg.styleFile;case".js":case".jsx":case".ts":case".coffee":return this.svg.scriptFile;case".html":case".htm":case".xhtml":case".xml":case".csv":default:return this.svg.textFile}}}),m.module("keyButton").require("keyOption","vibrate").__init__((function(e,t){UI.def({__name__:e.__name__,$events:{touchstart:{lazy:!1,dispatch:"onTouchStart"},mousedown:{lazy:!1,defaultEvent:!1,callback:function(){return!1}}},$defaults:{tagClass:"x-key-button",dropdownEvent:"onOpenDropdown",dropdownOptions:{dropdownClass:"x-key-popup",blank:!0}},__init__:function(n){n.dropdownOptions=UI.defaults({marginX:n.offset||0,pos:n.pos||"top-center"},n.dropdownOptions),this.addListener("onTouchStart",(function(n,i,o){if(!e.activeKey){var a=this;t.vibrate.Gt(),a.selectOption(a.defaultIndex||0,0),e.activeKey=a,e.initialPos={x:o.touches[0].clientX,y:o.touches[0].clientY},e.touchReleased=!1,e.deltaX=0,e.deltaY=0,setTimeout((function(){!e.touchReleased&&Math.abs(e.deltaX)<50&&Math.abs(e.deltaY<50)&&a.dispatch("onOpenDropdown",[a.config,a.element])}),750)}}))},selectOption:function(t,n){var i=this.dropdownPopup.$components[0].$components;if(e.selectedOption&&(e.selectedOption.deselect(),e.selectedOption=null),t=t<0?0:t,!(n<=-3)){if(this.multirow){var o=i[0].$components.length-1,a=i.length-1;if(n>=a+2)return;n=(n=n<0?0:n)>a?a:n,t=t>o?o:t,e.selectedOption=i[i.length-1-n].$components[t]}else{if(n>=2)return;t=t>=i.length?i.length-1:t,e.selectedOption=i[t]}e.selectedOption.select()}}},UI.definitions.link)})).__init__((function(e){UI.support.touch&&(UI.$windowListeners.touchend.push((function(){if(e.touchReleased=!0,e.activeKey){if(e.selectedOption){var t=e.activeKey.config.editorOptions,n=t.editor,i=e.selectedOption.config,o=i.value||i.label,a=i.offset||t.offset||0;n.focus(!0),n.insertTextAtCursor(o,{chars:a,rows:0})}e.activeKey.dropdownPopup.close(),e.activeKey=null}})),UI.$windowListeners.touchmove.push((function(t){if(e.activeKey){var n=t.touches[0],i=n.clientX-e.initialPos.x,o=-(n.clientY-e.initialPos.y),a=e.activeKey.defaultIndex+Math.floor(i/42+.5),r=Math.floor(o/47-.5);e.activeKey.selectOption(a,r),e.deltaX=i,e.deltaY=o}})))})),m.module("keyOption").__new__((function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"x-key-option"},select:function(){UI.addClass(this.element,"uk-active")},deselect:function(){UI.removeClass(this.element,"uk-active")}},UI.definitions.link)})),m.module("keybindingLink").__new__((function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"x-keybinding-link",editorId:"mainEditor",command:""},template:function(e){var t="<span>{{label}}</span>",n=$$(this.editorId);if(n&&e.command){var i=n.$editor.$ace.commands,o=i.byName[e.command];if(o){var a=o.bindKey[i.platform];a&&(a=a.split("|")[0],t+=UI.interpolate('<span="uk-notouch">{{key}}</span>',{key:a}))}}return t}},UI.definitions.link)})),m.module("menuIcon").__new__((function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"x-menu-icon"},$events:{touchstart:{lazy:!0,dispatch:"onMouseDown"},mousedown:{lazy:!0,dispatch:"onMouseDown",defaultEvent:!1,callback:function(){return!1}}}},UI.definitions.icon)})),m.module("menuTitle").__new__((function(e){UI.def({__name__:e.__name__,$defaults:{visible:!0,collapsable:!0,tagClass:"x-menu-title"},$events:{click:{dispatch:"onClick",defaultEvent:!0}},__after__:function(){this.$onClickListenerId=this.addListener("onClick",this._onToggle),this.updateLabel()},_onToggle:function(e,t,n){e.collapsable&&(this.dispatch("onToggle",[e,t,n]),this.config.visible=!e.visible,this.updateLabel(),this.dispatch("onToggled",[e,t,n]))},updateLabel:function(){var{visible:e,label:t,collapsable:n}=this.config,i=function(e,t){for(;(e=e.parentElement)&&!(e.matches||e.matchesSelector).call(e,t););return e}(this.el,".x-menu-title-bar");e?UI.removeClass(i,"collapsed"):UI.addClass(i,"collapsed"),this.el.innerHTML=n?`<i class='uk-icon-${e?"triangle-down":"triangle-right"}'></i> ${t}`:t}},UI.definitions.link)})),m.module("menuToggle").__new__((function(e){UI.def({__name__:e.__name__,$defaults:{tagClass:"x-menu-toggle"},$setters:{outline:function(e){e?UI.addClass(this.el,"x-outline"):UI.removeClass(this.el,"x-outline")},selected:function(e){e?this.select():this.deselect()}},$events:{click:{dispatch:"onClick",defaultEvent:!0}},__after__:function(){this.$onClickListenerId=this.addListener("onClick",this._onToggle)},select:function(){this.config.$selected=!0,UI.addClass(this.el,"uk-active")},isSelected:function(){return!!this.config.$selected},deselect:function(){this.config.$selected=!1,UI.removeClass(this.el,"uk-active")},_onToggle:function(e,t,n){this.dispatch("onToggle",[e,t,n]),this.isSelected()?this.deselect():this.select(),this.dispatch("onToggled",[e,t,n])}},UI.definitions.icon)})),m.module("messages").__new__((function(e){e.messages={fileEncodeError:"Error encoding file.",fileDecodeError:"Error decoding file.",fileNotFoundError:"Missing file '{{name}}'",mainSaveFileError:"Error saving file.",deleteProjectMessage:"Deleted project '{{name}}'",gitRepoConnectionError:"Error connecting to git repo.",gitClientError:"Error accessing git client.",sameBranchError:"You are already on this branch.",switchBranchMessage:"Switched to branch '{{branch}}'",switchBranchError:"Error switching to branch '{{branch}}'",loadTemplateError:"Please check your internet connection.",searchBusyError:"Currently busy with another search.",openFileError:"Error opening file.",databaseError:"Error accessing local database.",exportZipError:"Error exporting project as zip."}})).def({Tt:function(e,t,n){var i=this.messages[e];i||($console.error("Unknown message id: "+e),i="An unknown error has occurred.");var o=UI.interpolate(i,t||{});this.Vt(o,n),GA_SendEvent("message_"+e,"n/a")},Vt:function(e,t){(t=t||{}).timeout=3500,AndroidRef&&AndroidRef.showToast?AndroidRef.showToast(e,"long"):UI.message(e,t)}}),m.module("searchField").__new__((function(e){UI.def({__name__:e.__name__,template:function(e){var t=this;t.$input=UI.createElement("INPUT",e.inputAttributes),UI.addClass(t.$input,e.inputClass);var n=[t.$input];e.clearSearch&&(e.searchOptions=e.searchOptions||[]).unshift({view:"menuIcon",icon:"close",title:"Clear",on:{onClick:function(){t.setValue(""),t.dispatch("onInput"),t.focus()}}});return e.searchOptions&&n.push({cls:"uk-flex uk-flex-middle",cells:e.searchOptions}),n},$defaults:{htmlTag:"DIV",placeholder:"",tagClass:"",cls:"x-menu-search",inputClass:"uk-search-field x-text-indent-remove",inputAttributes:{autocapitalize:"off",autocorrect:"off",spellcheck:"false"},flex:!0,type:"search"},__after__:function(){var e=this.getFormControl(),t=this.el;e.addEventListener("focus",(function(){UI.addClass(t,"uk-focus")})),e.addEventListener("blur",(function(){UI.removeClass(t,"uk-focus")}))},getFormControl:function(){return this.$input}},UI.definitions.input)})),m.module("touchButton").__new__((function(e){UI.def({__name__:e.__name__,$events:{touchstart:{lazy:!1,dispatch:"onTouchStart"},touchend:{lazy:!0,dispatch:"onTouchEnd"}}},UI.definitions.button)})),m.module("copyToProject").require("model","project").__init__((function(e,{model:t,project:n}){Object.assign(e,{model:t,project:n})})).def({Ht:function(){return $$("copyToProjectLabel")},Wt:function(){return $$("copyToProjectSelect")},Kt:function(){return $$("copyToProjectInput")},qt:function(){return $$("copyToProjectInputContainer")},Yt:function(){return $$("copyToProjectAddToggleIcon")},Qt:function(e){var t=this.Yt().isSelected(),n=GFS.basename(e);this.qt().showBatch([t?"input":"select","toggle"]),this.Ht().setValue(t?`Create a new project for "${n}":`:`Select a project to copy "${n}" to.`),t&&this.Kt().focus()},Jt:function(e){var t=this;return t.model.Ye().then(n=>{var i=t.Yt();0===n.length&&!i.isSelected()||n.length>0&&i.isSelected()?i.dispatch("onToggled"):t.Qt(e),t.Wt().setData(n.map(({dir:e})=>({label:GFS.basename(e),value:e}))),t.modal.open(e)})},Zt:function(e,t,n){return ENV.tmpDirAsync().then(i=>{var o=GFS.relativeTo(e,n||i);return this.project.F({name:GFS.basename(t),uniqueName:!1,currentFilePath:o,buildCallback:function({dir:t}){return GFS.mv(e,GFS.join(t,o))}})})}}),m.module("copyToProject").__init__((function(e){e.modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",closeButton:!1,center:!1,header:{cls:"x-menu-title-bar shadow",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:"COPY TO PROJECT",collapsable:!1}]},body:{flexLayout:"column",cells:[{id:"copyToProjectLabel",view:"label",margin:"top"},{id:"copyToProjectInputContainer",cls:"uk-form",margin:"top-sm",flexAlign:"middle",cells:[{id:"copyToProjectSelect",batch:"select",view:"select",flexSize:"flex",data:[],style:{maxWidth:"calc(100% - 56px)"}},{id:"copyToProjectInput",batch:"input",view:"input",flexSize:"flex",style:{maxWidth:"calc(100% - 56px)"},validate:function(e){var t=this.getValue();t?e&&e(t):this.raiseConcern("Project name cannot be empty.")}},{id:"copyToProjectAddToggleIcon",batch:"toggle",view:"menuToggle",cls:"x-menu-icon",margin:"left",icon:"plus",title:"Create Project",on:{onToggled:function(){e.Qt(e.modal.filepath)}}}]}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"copyToProjectCancelButton",view:"button",label:"CANCEL",on:{onClick:function(){e.modal.close()}}},{id:"copyToProjectOkButton",view:"button",label:"OK",style:{minWidth:"64px"},on:{onClick:function(){e.Yt().isSelected()?e.Kt().validate((function(t){e.Zt(e.modal.filepath,t),e.modal.close()})):(e.Zt(e.modal.filepath,e.Wt().getValue()),e.modal.close())}}}]},on:{onOpened:function(e,t,n){this.filepath=n}}},document.getElementById("appContainer"))})),m.module("progress").__init__((function(e){e.ProgressReporter={reportProgress:function({phase:t,loaded:n,total:i,lengthComputable:o}){var a=t,r=-1;o?(a=`(${n}/${i}) `+a,r=n/i*100):a=`(${n}) `+a,e.tt(a,r)},throttledReportProgress:deferLatestToNextAnimationFrame(t=>{e.ProgressReporter.reportProgress(t)},30),close:function(t){t?e.Xt():e.nt()}}})).def({Xt:function(){this.modal.close(),$$("progressBar").setValue(0)},nt:function(){setTimeout((function(){$$("progress").close(),$$("progressBar").setValue(0)}),1500)},tt:function(e,t,n){var i=$$("animatedProgressBar"),o=$$("progressBar"),a=$$("progressCloseButton");$$("progressLabel").setValue(e),t<0?(i.show(),o.hide()):(i.hide(),o.show(),o.setValue(t)),n?a.show():a.hide(),UI.hasClass(this.modal.el,"uk-open")||this.modal.open(),this.cancelCallback=n,n?$$("progressCloseButton").show():$$("progressCloseButton").hide()}}),m.module("progress").__init__((function(e){e.modal=UI.new({id:e.__name__,view:"modal",closeButton:!1,bgClose:!1,center:!1,body:{flexLayout:"column",cells:[{id:"progressLabel",cls:"x-text-overflow-ellipsis",view:"label",template:"{{label}}"},{id:"progressBar",view:"progress",size:"small",color:"primary",margin:"top"},{id:"animatedProgressBar",view:"progress",size:"small",value:100,color:"primary striped",margin:"top"}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"progressCloseButton",view:"button",label:"CANCEL",on:{onClick:function(){e.cancelCallback&&e.cancelCallback(),e.modal.close()}}}]}},document.getElementById("appContainer"))})),m.module("prompt").__new__((function(e){window.prompt=function(t,n){e.H(t,n,{showInput:!0})},e.activeModal=null})).def({me:function(e,t,n){this.H(e,"",{text:t,hideCancel:!0,onResult:function(){if(n)return n()}})},en:function(){return this.activeModal==this.modalGreen?this.modalBlue:this.modalGreen},H:function(e,t,n){t=t||"",n=n||{};var i=this.en();if(this.activeModal=i,i.label().config.label=e,i.label().render(),null!=t){var o=i.valueInput();o.setValue(t),o.set("help",""),o.setFormClass("")}i.onResult=n.onResult,i.onDismiss=n.onDismiss,i.onClosed=n.onClosed,i.onValidate=n.onValidate,this.tn(i,n),i.open()},tn:function(e,t){var n=e.okButton();n.config.label=t.okLabel||"OK",t.okColor&&n.set("color",t.okColor),n.render();var i=e.cancelButton();t.hideCancel?i.hide():i.show(),i.config.label=t.cancelLabel||"CANCEL",t.cancelColor&&i.set("color",t.cancelColor),i.render();var o=e.textLabel();t.text?(o.setValue(t.text),o.show()):o.hide();var a=e.valueInput();if(t.showInput){var r=t.placeholder||"";a.set("placeholder",r),a.show()}else a.hide()},nn:function(e){return Promise.resolve(this.activeModal?this.activeModal.result(e):null)},in:function(){this.activeModal&&this.activeModal.cancel()},an:function(){this.activeModal&&this.activeModal.ok()},rn:function(e){this.activeModal&&this.activeModal.valueInput().setValue(e)},sn:function(e){this.activeModal&&this.activeModal.valueInput().raiseConcern(e)}}),m.module("prompt").__init__((function(e){function t(e){return{id:"promptModal"+e,cls:"x-prompt",view:"modal",closeButton:!1,center:!1,header:{cls:"x-menu-title-bar shadow",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",id:"promptLabel"+e,label:"",collapsable:!1}]},body:{flexLayout:"column",cells:[{id:"promptTextLabel"+e,view:"label",margin:"top",hidden:!0},{id:"promptValueInput"+e,view:"input",width:"full",margin:"top",on:{onKeyUp:function(t,n,i){var o=$$("promptModal"+e);o.onValidate&&o.onValidate(this.getValue(),this.raiseConcern.bind(this)),"Enter"==i.key&&o.ok()}}}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"promptCancelButton"+e,view:"button",label:"CANCEL",on:{onClick:function(){var t=$$("promptModal"+e);!!t.onDismiss&&t.onDismiss(t.valueInput().getValue())||(t.close(),t.onClosed&&t.onClosed(!1))}}},{id:"promptOkButton"+e,view:"button",label:"OK",style:{minWidth:"64px"},on:{onClick:function(){var t=$$("promptModal"+e),n=t.valueInput(),i=n.getValue();t.onValidate?t.onValidate(i,n.raiseConcern.bind(n),t.result.bind(t,i)):t.result(i)}}}]},label:function(){return $$("promptLabel"+e)},textLabel:function(){return $$("promptTextLabel"+e)},valueInput:function(){return $$("promptValueInput"+e)},cancelButton:function(){return $$("promptCancelButton"+e)},okButton:function(){return $$("promptOkButton"+e)},result:function(e){var t,n=this;return n.onResult&&(t=n.onResult(e)),Promise.resolve(t).then((function(e){return n.close(),n.onClosed&&n.onClosed(!0),e}))},ok:function(){this.okButton().dispatch("onClick")},cancel:function(){this.cancelButton().dispatch("onClick")}}}e.modalGreen=UI.new(t("Green"),document.getElementById("appContainer")),e.modalBlue=UI.new(t("Blue"),document.getElementById("appContainer"))})),m.module("searchSettings").require("fileTree","fileTreeController","session").__init__((function(e,{session:t,fileTreeController:n}){e.minimatch=window.minimatch,Object.assign(e,{session:t,filteredFileList:[],treeController:new n.FileTreeController(e.cn),observable:new ObservableClass})})).__init__((function(e){var t=!1;e.modal=UI.new({id:e.__name__,view:"modal",closeButton:!1,dialogClass:"uk-flex uk-flex-column",dialogStyle:["scroll","blank"],header:{flexSize:"none",cls:"x-menu-title-bar shadow",flexLayout:"column",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:"EVENT LOG",collapsable:!1},{cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{id:"searchSettingsBackButton",view:"menuIcon",icon:"close",title:"Close",on:{onClick:function(){e.modal.close()}}}]}]},{id:"searchSettingsInput",cls:"x-menu-search",view:"searchField",placeholder:"File Glob Pattern",clearSearch:!0,on:{onInput:function(){e.cn().refresh()},onKeyUp:function(t,n,i){"Enter"===i.key&&(e.modal.close(),e.observable.run({action:"updateSettings"}))}}}]},body:{view:"scroller",cells:[{id:"searchSettingsFileTree",view:"fileTree",flexSize:"none",data:[],filter:function(n){if(t)return!1;var i=e.input().getValue(),o=!0;return i&&(o=n.$branch?n.$children.some((function(t){return e.minimatch(t.path,i,{matchBase:!0})})):e.minimatch(n.path,i,{matchBase:!0})),o&&n.file&&e.filteredFileList.push(n.path),o&&!n.$parentClosed},on:{onRefresh:function(){e.filteredFileList.length=0}}}]},on:{onOpened:function(){var n=e.session.Pe(),i=e.session.Oe(),o=e.ln();o.clearAll(),n&&i&&(o.addRoot(i),o.sync(i).then((function(){t=!1,e.cn().refresh()})))}}},document.getElementById("appContainer"))})).def({ln:function(){return this.treeController},cn:function(){return $$("searchSettingsFileTree")},input:function(){return $$("searchSettingsInput")},un:function(){return this.input().getValue()?this.filteredFileList:null}}),m.module("cookieBanner").require("model","prompt").__init__((function(e,t){e.banner=UI.new({id:e.__name__,flexAlign:"middle",position:"absolute",padding:"small",hidden:UI.support.touch||window.$embedMode||localStorage.$termsAgreed===window.$termsVersion&&localStorage.$privacyAgreed===window.$privacyVersion,cells:[{view:"label",label:(localStorage.$termsAgreed?"This site uses cookies and similar web technologies. By using Spck Editor, you agree to our new updated ":"This site uses cookies and similar web technologies. By using Spck Editor, you agree to our ")+'<a href="/terms.html" target="_blank">legal terms</a> and <a href="/privacy.html" target="_blank">privacy policy</a>.',flexSize:"flex"},{id:"cookieBannerActions",flexSize:"none",flexAlign:"middle",margin:"left-sm",cells:[{id:"cookieBannerDeclineButton",view:"button",color:"muted",label:"DECLINE",on:{onClick:function(){var n=GFS.uuid4().toUpperCase();t.prompt.H('<span class="uk-text-danger">DANGER: Irreversible Data Loss!</span>',"Are you sure?",{text:UI.interpolate('Type <span class="uk-text-danger">{{phrase}}</span> to confirm. This will <span class="uk-text-danger">PERMANENTLY</span> delete all data this site stores for you including all projects, files, and settings!',{phrase:n}),okLabel:"DELETE EVERYTHING!",okColor:"danger",showInput:!0,onValidate:function(e,t,n){t(null),n&&n()},onResult:function(i){if(i!==n){var o=UI.interpolate('What you typed did not match "{{phrase}}".',{phrase:n});return t.prompt.sn(o),GA_SendEvent("banner_clear_all_reject","banner"),Promise.reject(o)}$$(e.__name__).hide(),t.model.P("RISKY_STUFF").then(()=>{t.files.ln().clearAll(),sessionStorage.clear(),localStorage.clear(),GA_SendEvent("banner_clear_all","banner")})}})}}},{id:"cookieBannerAgreeButton",view:"button",color:"primary",label:"AGREE",margin:"y-sm",on:{onClick:function(){$$(e.__name__).hide(),localStorage.$termsAgreed=window.$termsVersion,localStorage.$privacyAgreed=window.$privacyVersion,GA_SendEvent("banner_accept_terms","banner")}}}]}]},document.body)})),m.module("editor").require("completion","model","lang","prompt","dom","session","path","set","vibrate","memory").__init__((function(e,{completion:t,model:n,lang:i,prompt:o,dom:a,session:r,path:s,set:c,vibrate:l,memory:u}){Object.assign(e,{completion:t,model:n,lang:i,prompt:o,dom:a,session:r,path:s,set:c,vibrate:l,memory:u}),e.Range=ace.require("ace/range").Range})).__init__((function(e){e.CompletionServer=function(t){var n=this;n.languageClient=new e.lang.LanguageServerClient(t),n.externalUrls=[],n.editor=t,n.initializeCommands(t),n.initializeFileObservers(),t.$ace.completers=[n.languageClient.getCompleter()],setTimeout((function(){n.languageClient.start()}),0)},e.CompletionServer.prototype={initializeCommands:function(t){var n=this.languageClient;function i(){n.getRenameLocations(e.renameSymbol.bind(e,t))}function o(e){return n.getSignature(e,(function(e){t.hintManager.open(e)}))}function a(){n.getInfo((function(e){t.hintManager.open(e)}))}function r(){n.goToDefinition(e.goToFile.bind(e,t))}t.getSignature=o,t.getInfo=a,t.renameSymbol=i,t.goToDefinition=r,t.addCommands([{name:"goToDefinition",exec:r,bindKey:{win:"Ctrl-B",mac:"Command-B"}},{name:"getInfo",exec:a,bindKey:{win:"Ctrl-I",mac:"Command-I"}},{name:"getSignature",exec:o,bindKey:{win:"Ctrl-P",mac:"Command-P"}},{name:"renameSymbol",exec:i,bindKey:{win:"Alt-R|F2",mac:"Option-R|F2"}}])},initializeFileObservers:function(){var t=this.languageClient,n=e.memory;n.observable.subscribe(({lowOnMemory:e})=>{e&&t.stop()}),e.session.observable.subscribe(({action:e,project:i})=>{switch(e){case"open":t.clearFiles(),GFS.readdirDeep(i.dir).then(e=>{if(e.length<n.ALLOWED_LANGUAGE_SERVICE_INITIAL_FILES_LIMIT){var i=n.ALLOWED_LANGUAGE_SERVICE_INITIAL_SIZE_LIMIT;return PromisePool({data:e,promiseGenerator:e=>GFS.size(e).then(o=>{if(o<n.LANGUAGE_SERVICE_FILE_SIZE_LIMIT&&i>0)return GFS.readFile(e,{encoding:"utf8"}).then(n=>{GFS.isBinaryContent(n)||(t.addFile(e,n),i-=o)})}),useRaf:!0})}$console.warn("File threshold exceeded for auto file import.")})}}),this.editor.observable.subscribe(({action:e,path:n,text:i})=>{"sessionChange"===e&&(t.setCurrentDirectory(GFS.dirname(n)),t.addFile(n,i))}),GFS.observable.subscribe(({action:i,type:o,path:a,oldpath:r,skipLanguageService:s})=>{var c=e.session.Pe();if(c){var l=c.dir,u=c.pdir||l,d="file"===o;if(u&&GFS.childOf(r,u)&&!e.path.Ge(r))switch(i){case"mv":if(GFS.childOf(a,l)){d?t.moveFile(r,a):t.moveFolder(r,a);break}case"rmdir":case"rm":d?t.removeFile(r):t.removeFolder(r)}if(l&&GFS.childOf(a,l)&&!e.path.Ge(a))switch(i){case"mv":if(u&&GFS.childOf(r,u))break;case"write":if(d&&!s)return n.ve(a).then(e=>{e&&GFS.readFile(a,{encoding:"utf8"}).then(e=>{GFS.isBinaryContent(e)||(t.addFile(a,e),n.fe())})})}}})},doEdit:function(e){var t=this.editor.getSession().getDocument().positionToIndex(e.start),n=e.lines.join("\n"),i="insert"===e.action?t:t+n.length,o="remove"===e.action?"":n;this.editor.getCurrentFilePathAsync().then(n=>{this.languageClient.editFile(n,e.id,o,t,i)})},clearFiles:function(){this.languageClient.clearFiles()}}})).def({goToFile:function(e,t){if(t&&t.def&&1==t.def.length){var n=t.def[0];this.dn(n.fileName,n.textSpan.start)}},renameSymbol:function(e,t){var n=this;t&&t.renameInfo.canRename&&n.prompt.H("RENAME "+t.renameInfo.kind.toUpperCase(),t.renameInfo.fullDisplayName,{showInput:!0,onResult:function(e){n.applyChanges(e,t.rename)}})},applyChanges:function(e,t){var n,i,o=Object.create(null);for(n=0;n<t.length;++n)o[(i=t[n]).fileName]=o[i.fileName]||[],o[i.fileName].push(i);var a,r,s=[];for(r in o){for(a=[],(t=o[r]).sort(c),n=0;n<t.length;++n)i=t[n],a.push({text:e,range:new this.Range(i.textSpan.startPosition.row,i.textSpan.startPosition.column,i.textSpan.endPosition.row,i.textSpan.endPosition.column)});s.push(this.hn({path:r,changes:a}))}return Promise.all(s);function c(e,t){return e.textSpan.start-t.textSpan.start}}}),m.module("editor").__init__((function(e){e.HintManager=function(e){var t=this,n=e.$ace;n.on("blur",(function(){e.observable.run({action:"blur"})})),n.on("focus",(function(){e.observable.run({action:"focus"})})),n.on("click",(function(){t.close()})),this.editor=e,this.hintPopup=UI.new({view:"hintPopup"},e.element)},e.HintManager.prototype={open:function(e,t){this.hintPopup.open(this.editor,e,t)},close:function(){this.hintPopup.close()},isOpened:function(){return this.hintPopup.isOpened()}}})).__init__((function(){UI.def({__name__:"hintPopup",__after__:function(){this.element.style.margin=0,this.element.style.pointerEvents="auto",this.element.tabIndex=-1},displayPartToHTML:function(e){var t="";switch(e.kind){case"functionName":t="ace_entity ace_name ace_function";break;case"parameterName":t="ace_variable ace_parameter";break;case"keyword":t="ace_storage ace_type";break;case"punctuation":case"space":case"text":default:return e.text}return UI.interpolate('<span class="{{class}}">{{text}}</span>',{class:t,text:e.text})},buildInfoHTML:function(e){var t=e.displayParts.map(this.displayPartToHTML);return e.documentation&&(t.push("<div>"),(t=t.concat(e.documentation.map(this.displayPartToHTML))).push("</div>")),t.join("")},buildSignatureHTML:function(e){var t=this,n=e.items[e.selectedItemIndex],i=n.separatorDisplayParts.map(t.displayPartToHTML),o=n.prefixDisplayParts.map(t.displayPartToHTML);return n.parameters.forEach((function(n,a,r){a===e.argumentIndex&&o.push('<span class="selected-param">'),o=o.concat(n.displayParts.map(t.displayPartToHTML)),a===e.argumentIndex&&o.push("</span>"),r.length>a+1&&(o=o.concat(i))})),o=o.concat(n.suffixDisplayParts.map(t.displayPartToHTML)),n.documentation&&(o.push("<div>"),(o=o.concat(n.documentation.map(t.displayPartToHTML))).push("</div>")),o.join("")},open:function(e,t,n){var i=this.element;if(t)if(t.info)i.innerHTML=this.buildInfoHTML(t.info);else{if(!t.signature)return this.close();i.innerHTML=this.buildSignatureHTML(t.signature)}else n&&(i.textContent=n);i.parentNode||e.element.appendChild(i),i.className="ace-lang-hint "+e.getTheme().cssClass;var o=e.getCursorElement();if(o){var a=o.getBoundingClientRect(),r=e.element.getBoundingClientRect();this.positionNextTo(o,"bottom-center",0,2),this.moveWithinBoundary(r,{bottom:a.top},{left:e.$ace.renderer.gutterWidth+5})}},close:function(){this.element.parentNode&&this.element.parentNode.removeChild(this.element)},isOpened:function(){return!!this.element.parentNode}},UI.definitions.element,UI.AbsolutePositionMethods)})),m.module("editor").__init__((function(e){e.IndentManager=function(t){this.editor=t,t.$ace.on("paste",(function(n){if(t.focus(),1==t.getAllSelectionRanges().length&&e.pn(n.text.split("\n"))&&!t.isCurrentSessionBlank()){var i=t.getCursorPosition(),o=t.getSession(),a=o.getState(i.row),r=o.getLine(i.row),s=t.getTabString(),c=o.getMode().getNextLineIndent(a,r.slice(0,i.column),s),l=t.getTabSize();n.text=e.mn(n.text,t.getMode(),c,l)}}))},e.IndentManager.prototype={indent:function(t){var n=this.editor,i=n.getValue(),o=e.mn(i,n.getMode(),"",n.getTabSize()),a=n.getCursorPosition();(t||e.vn(i,o))&&(n.setValue(o),n.navigateTo(a.row,a.column))}}})).def({gn:function(e,t,n){var i={indent_size:n,indent_char:" ",max_preserve_newlines:"0",preserve_newlines:!0,keep_array_indentation:!0,break_chained_methods:!1,indent_scripts:"normal",brace_style:"none,preserve-inline",space_before_conditional:!0,unescape_strings:!1,jslint_happy:!1,end_with_newline:!1,wrap_line_length:"0",indent_inner_html:!1,comma_first:!1,e4x:!0,indent_empty_lines:!1};switch(t){case".less":case".scss":case".css":return beautifier.css(e,i);case".json":case".js":case".jsx":case".ts":return beautifier.js(e,i);case".html":case".htm":case".xhtml":case".xml":case".svg":return beautifier.html(e,i);default:return e}},mn:function(e,t,n,i){n=n||"";for(var o=(e=this.gn(e,this.bn(t),i)).split(/[\r]?\n/gi),a=1;a<o.length;a++)o[a]=n+o[a];return o.join("\n")},pn:function(e){return(e=e.filter((function(e){return!/^\s*$/.test(e)}))).length>1},vn:function(e,t){if(e!=t){var n=t.split(/\r?\n/gi);if(n.length<2e4)for(var i=e.split(/\r?\n/gi),o=0,a=Math.ceil(.05*Math.min(n.length,i.length)),r=0;r<n.length;r++)if(n[r]!=i[r]&&++o>=a)return!0}return!1}}),m.module("editor").def({wn:function(e){var t=this.yn,n=e.$ace.commands,i=n.bindKey.bind(n);i(t("Ctrl-Shift-D|Ctrl-Y","Command-Shift-D|Command-Y"),"removeline"),i(t("Ctrl-D","Command-D"),"copylinesdown"),i(t("Ctrl-R","Command-Option-F"),"replace"),i(t("Ctrl-Shift-Up","Command-Shift-Up"),"movelinesup"),i(t("Ctrl-Shift-Down","Command-Shift-Down"),"movelinesdown"),n.removeCommand("showSettingsMenu"),n.removeCommand("jumptomatching"),n.removeCommand("modifyNumberUp"),n.removeCommand("modifyNumberDown"),n.removeCommand("toggleFoldWidget"),n.removeCommand("gotoline")},yn:function(e,t){return{win:e,mac:t}}}),m.module("editor").__init__((function(e){e.ContextMenuManager=function(t){this.editor=t,window.$embedMode||(t.$ace.renderer.$gutter.addEventListener("contextmenu",(function(n){UI.preventEvent(n),e.gutterContextMenu.open(t),e.gutterContextMenu.position(n.clientY,n.clientX),e.gutterContextMenu.moveWithinBoundary()})),t.$ace.renderer.container.addEventListener("contextmenu",(function(n){UI.preventEvent(n),setTimeout(()=>{e.editorContextMenu.open(t),e.editorContextMenu.position(n.clientY,n.clientX),e.editorContextMenu.moveWithinBoundary()},25)})))}})).__init__((function(e){var t=["typescript","tsx","javascript","jsx"];e.editorContextMenu=UI.new({view:"dropdown",dropdownClass:"uk-dropdown-close x-editor-context-menu",dropdownAnimation:"",dropdown:{view:"list",listStyle:"dropdown",filter:function(e){return!(e.mode&&this.mode&&-1===e.mode.indexOf(this.mode)||e.tokenTypes&&-1===e.tokenTypes.indexOf(this.leftTokenType)&&-1===e.tokenTypes.indexOf(this.rightTokenType)||e.excludeTokenTypes&&-1!==e.excludeTokenTypes.indexOf(this.tokenType))},data:[{view:"keybindingLink",label:"Go to Definition",mode:t,tokenTypes:"identifier",value:"jump"},{view:"keybindingLink",label:"Show Info",mode:t,tokenTypes:["entity.name.function","identifier"],value:"info"},{view:"keybindingLink",label:"Rename Symbol",mode:t,tokenTypes:["entity.name.function","identifier"],value:"rename"},{$divider:!0,mode:t,tokenTypes:["entity.name.function","identifier"]},{view:"keybindingLink",command:"find_in_file",label:"Find all",value:"find",excludeTokenTypes:["",null]},{view:"keybindingLink",command:"format",label:"Format File",value:"format"},{$divider:!0},{view:"keybindingLink",command:"undo",label:"Undo",value:"undo"},{view:"keybindingLink",command:"redo",label:"Redo",value:"redo"}],on:{onItemClick:function(t){var n=this.editor;if(n)switch(t.value){case"find":e.kn(n.getSelectedTextOrWordAtCursor()),GA_SendEvent("editor_menu_find","editor_menu");break;case"format":n.indentManager.indent(!0),GA_SendEvent("editor_menu_format","editor_menu");break;case"jump":n.goToDefinition(),GA_SendEvent("editor_menu_goto","editor_menu");break;case"info":n.getInfo(),GA_SendEvent("editor_menu_info","editor_menu");break;case"rename":n.renameSymbol(),GA_SendEvent("editor_menu_rename","editor_menu");break;case"undo":n.undo(),GA_SendEvent("editor_menu_undo","editor_menu");break;case"redo":n.redo(),GA_SendEvent("editor_menu_redo","editor_menu")}},onOpened:function(e,t,n){n&&n.execCommand&&(this.editor=n,this.mode=this.editor.getMode(),this.leftTokenType=this.editor.getTokenType(),this.rightTokenType=this.editor.getTokenType(1),this.refresh())}}},listComponent:function(){return this.$components[0]}},document.body),e.gutterContextMenu=UI.new({view:"dropdown",dropdown:{view:"list",listStyle:"dropdown",data:[{view:"keybindingLink",command:"goToLine",label:"Go to Line...",value:"gotoline"}],on:{onItemClick:function(e){var t=this.editor;if(t)switch(e.value){case"gotoline":t.execCommand(e.command)}},onOpened:function(e,t,n){n&&n.execCommand&&(this.editor=n,this.refresh())}}},listComponent:function(){return this.$components[0]}},document.body)})),m.module("editor").require("model","session","messages","memory").__new__((function(e){e.editorComponents=[],e.touchEditors=[],e.defaultTabSize=2,e.defaultWordWrap=!0,e.defaultUseAceWorkers=!1,e.SupportedExtensions={".js":"javascript",".jsx":"jsx",".ts":"typescript",".tsx":"tsx",".coffee":"coffee",".json":"json",".yaml":"yaml",".yml":"yaml",".md":"markdown",".txt":"text",".as":"actionscript",".bat":"batchfile",".cfm":"coldfusion",".clj":"clojure",".cs":"csharp",".dart":"dart",".ejs":"ejs",".ex":"elixir",".exs":"elixir",".fs":"fsharp",".fsx":"fsharp",".gitignore":"gitignore",".go":"golang",".handlebars":"handlebars",".hbs":"handlebars",".hs":"haskell",".hx":"haxe",".hjson":"hjson",".ini":"ini",".java":"java",".jsp":"jsp",".jl":"julia",".kt":"kotlin",".kts":"kotlin",".tex":"latex",".lgt":"logtalk",".lua":"lua",".m":"objectivec",".ml":"ocaml",".mli":"ocaml",".pas":"pascal",".php":"php",".pl":"perl",".pp":"pascal",".psql":"pgsql",".py":"python",".r":"r",".rb":"ruby",".red":"red",".reds":"red",".rhtml":"html_ruby",".rs":"rust",".rss":"xml",".scala":"scala",".sc":"scala",".scm":"scheme",".ss":"scheme",".sh":"sh",".sql":"sql",".swift":"swift",".xq":"xquery",".xql":"xquery",".xqm":"xquery",".xquery":"xquery",".xqy":"xquery",".svg":"svg",".xml":"xml",".html":"html",".xhtml":"html",".htm":"html",".jade":"jade",".pug":"jade",".css":"css",".scss":"scss",".sass":"sass",".less":"less",".styl":"stylus"},e.SupportedModes=Object.keys(e.SupportedExtensions).reduce((function(t,n){return t[e.SupportedExtensions[n]]=n,t}),{})})).__init__((function(e,{model:t,session:n,messages:i,vibrate:o,memory:a}){Object.assign(e,{model:t,session:n,messages:i,vibrate:o,memory:a,observable:new ObservableClass}),e.$dummyAceSession=ace.createEditSession("","text"),e.$dummyUndoManager=e.$dummyAceSession.getUndoManager(),e.$sessionMetaCache={},a.observable.subscribe(({lowOnMemory:t})=>{t&&e.xn(!1)})})).def({Sn:function(e){return e in this.SupportedExtensions},An:function(e){return this.SupportedExtensions[GFS.ext(e)]||"text"},bn:function(e){return this.SupportedModes[e]||".txt"},_n:function({inode:e,hash:t}){var n=this.$sessionMetaCache[e];return n?(n.hash=t,n):null},Cn:function({inode:e,hash:t}){var n=this.$sessionMetaCache[e];return n&&n.hash===t?n:this.$sessionMetaCache[e]={undoManager:new ace.UndoManager,hash:t}},Fn:function(e){var t=this;if(!e.inode)return Promise.reject({source:"editor.module",fn:"pvSaveSessionAsync",code:GlobalErrorCodes.EditorSessionNotLinked,message:"Session inode not defined"});var n=e.getValue(),i=e.inode;return Promise.all([GFS.inodePath(i),ENV.tmpDirAsync()]).then(([e,o])=>e.startsWith(o)?Promise.reject({source:"editor.module",fn:"pvSaveSessionAsync",code:GlobalErrorCodes.ProjectNotSaved}):e.startsWith("ext://")?GFS.writeExternal(e.slice(6),n):GFS.write(e,n,{updateStatus:!0,skipLanguageService:!0}).then(()=>{var e=t._n({inode:i,hash:sha1(n)});return e?Promise.resolve(e):Promise.reject({source:"editor.module",fn:"pvSaveSessionAsync",message:"Could not find inode.",inode:i,code:"unknown_inode"})}))},In:function(e){e=e||"chrome",this.editorComponents.forEach((function(t){t.setTheme(e)}))},En:function(e){this.defaultUseAceWorkers=e,this.editorComponents.forEach((function(t){t.setAutocomplete(e)}))},xn:function(e){this.defaultUseAceWorkers=e,this.editorComponents.forEach((function(t){t.getSession().setUseWorker(e)}))},$n:function(e){this.defaultWordWrap=e,this.editorComponents.forEach((function(t){t.getSession().setUseWrapMode(e),t.refresh()}))},Pn:function(e){this.touchEditors.forEach((function(t){t.setExtraTouchKeyboard&&t.setExtraTouchKeyboard(e)}))},Gn:function(e){this.touchEditors.forEach((function(t){t.setTouchKeyboard&&t.setTouchKeyboard(e)}))},jn:function(e){this.touchEditors.forEach((function(t){t.setKeyboardPosition&&t.setKeyboardPosition(e)}))},Tn:function(e){this.editorComponents.forEach((function(t){t.setFontSize(e)}))},On:function(e){this.editorComponents.forEach((function(t){t.setDisplayIndentGuides(e)}))},Bn:function(e){this.editorComponents.forEach((function(t){t.setShowGutter(e)}))},Ln:function(e){this.defaultTabSize=+e,this.editorComponents.forEach((function(t){t.setTabSize(+e)}))},Rn:function(){for(var e="",t=0;t<this.defaultTabSize;t++)e+=" ";return e},Un:function(e){this.vibrate.enabled=e},Mn:function(e,t,n){var i=t.getUndoManager();t.setUndoManager(this.$dummyUndoManager),e.getSession()===t?(e.$silentChange=!0,t.setValue(n),e.$silentChange=!1):t.setValue(n),t.setUndoManager(i),this.$dummyUndoManager.reset()},kn:function(e){return this.observable.run({action:"findAllInFiles",text:e})},dn:function(e,{row:t,column:n}){return this.observable.run({action:"jumpToFile",path:e,row:t,column:n})},hn:function({path:e,changes:t}){var n=this;return Promise.all([GFS.inode(e),GFS.readFile(e,{encoding:"utf8"})]).then(([i,o])=>{var a=sha1(o),r=n.Cn({inode:i,hash:a}),s=n.$dummyAceSession;s.setUndoManager(n.$dummyUndoManager),s.setValue(o),s.setUndoManager(r.undoManager);for(var c=0;c<t.length;c++)s.replace(t[c].range,t[c].text);var l=s.getValue();s.markUndoGroup(),n.$dummyUndoManager.reset();var u=sha1(l);return n._n({inode:i,hash:u}),GFS.write(e,l,{updateStatus:!0}).then(()=>n.observable.run({action:"replaceInFile",inode:i,text:l}))})}}),m.module("editor").__new__((function(e){ace.require("ace/ext/language_tools"),e.useragent=ace.require("ace/lib/useragent"),e.emmet=ace.require("ace/ext/emmet")})).__init__((function(e){UI.def({__name__:"editor",$defaults:{value:"",margin:"",flexSize:"flex",scrollMargin:UIkit2.support.touch?64:40,editorOptions:{}},$setters:{editorOptions:function(e){this.editorOptions=e},readonly:function(e){var t=this.$ace;t.setOptions({readOnly:e,highlightActiveLine:!e,highlightGutterLine:!e}),t.renderer.$cursorLayer.element.style.opacity=e?0:1}},__init__:function(e){var t=UI.uid("editorContainer");e.id&&(UI.components[e.id]=this),this.element=this.el=UI.createElement("DIV",{id:t}),UI.addClass(this.el,"uk-flex-item-1"),this.observable=new ObservableClass,this.sessionCache={},this.config=e,this.$ace=ace.edit(this.el),this.$ace.renderer.scrollBarV.width=0,this.init(this.$ace)},__after__:function(t){e.editorComponents.push(this),this.setTabSize(t.tabSize||e.defaultTabSize),this.setMode(t.mode||"javascript"),this.setAutoSave(!0)},init:function(t){var n=this.config.scrollMargin,i={scrollPastEnd:.5,useTextareaForIME:!1,enableLiveAutocompletion:!1,enableBasicAutocompletion:!0,enableSnippets:!1,enableEmmet:!0,showPrintMargin:!1,fadeFoldWidgets:!0,tooltipFollowsMouse:!UI.support.touch};e.useragent.isIOS||(i.copyWithEmptySelection=!0),t.setOptions(i),t.$blockScrolling=1/0,t.renderer.setScrollMargin(n,8),this.completionServer=new e.CompletionServer(this),this.indentManager=new e.IndentManager(this),this.hintManager=new e.HintManager(this),this.initSmartEditingSupport(this),this.initKeybindings(this),this.initProxyEvents(this)},initSmartEditingSupport:function(e){var t=e.$ace;t.on("guttermousedown",(function(e){e.stop()})),t.on("change",(function(t){if(!e.$silentChange){try{e.completionServer.doEdit(t),e.observable.run({action:"edit",edit:t})}catch(e){$console.error(e)}e.autoSave&&e.debouncedSave()}})),t.commands.on("afterExec",(function(t){switch(t.command.name){case"backspace":case"insertstring":if(!e.autocompleteOff){var n,i=t.args,o=e.hintManager.isOpened(),a=e.getMode(),r=!1;o||("html"===a&&"<"===i?(n="<",r=!0):/^[\w.]$/.test(i)&&"."==i?(n=".",r=!0):/^[A-Za-z]$/.test(i)&&(r=!0)),r?e.debouncedStartAutocomplete(n):(o||"("===i||","===i)&&e.debouncedShowSignature(i)}}})),t.onPaste=function(e,t){if(1!==e.length||8232!==e.charCodeAt(0)){var n={text:e,event:t};this.commands.exec("paste",this,n)}},t.textInput.getElement().setAttribute("autocomplete","off")},initAutocompleteTokenizer:function(){var e=this.$ace;if(!this.tokenizerInitialized&&e){if(!e.completer&&(e.commands.byName.startAutocomplete.exec(e),!e.completer))return;this.tokenizerInitialized=!0;var t=e.completer.getPopup();t.session.bgTokenizer.$tokenizeRow=function(e){var n=t.data[e],i=[];if(!n)return i;"string"==typeof n&&(n={value:n});var o=n.caption||n.value||n.name;function a(e,t){e&&i.push({type:(n.className||"")+(t||""),value:e})}n.kind&&a(" ","completion_icon ace-lang-completion-"+n.kind);for(var r=o.toLowerCase(),s=(t.filterText||"").toLowerCase(),c=0,l=0,u=0;u<=s.length;u++)if(u!=l&&(n.matchMask&1<<u||u==s.length)){var d=s.slice(l,u);l=u;var h=r.indexOf(d,c);if(-1==h)continue;a(o.slice(c,h),""),c=h+d.length,a(o.slice(h,c),"completion-highlight")}return a(o.slice(c,o.length),""),n.meta&&i.push({type:"completion-meta",value:n.meta}),i}}},initProxyEvents:function(e){var t=e.$ace;t.on("searchBoxOpen",()=>e.observable.run({action:"searchBoxOpen"})),t.on("searchBoxClose",()=>e.observable.run({action:"searchBoxClose"}))},initKeybindings:function(t){function n(e,t){return{win:e,mac:t}}t.addCommands([{name:"force-save",bindKey:n("Ctrl-S","Command-S"),exec:function(){t.observable.run({action:"save",manual:!0})}},{name:"find_in_file",bindKey:n("Ctrl-Shift-F","Command-Shift-F"),exec:function(){e.kn(t.getSelectedText())}},{name:"format",bindKey:n("Alt-F","Option-F"),exec:function(){t.indentManager.indent(!0)}},{name:"goToLine",bindKey:n("Ctrl-G","Command-G"),exec:function(){e.prompt.H("ENTER LINE NUMBER","",{showInput:!0,onResult:function(e){t.$ace.gotoLine(parseInt(e))}})}}]),e.wn(t)},debouncedSave:UIkit2.Utils.debounce((function(){this.observable.run({action:"save"})}),650,!1),debouncedShowSignature:UIkit2.Utils.debounce((function(e){this.getSignature(e)}),250,!1),debouncedStartAutocomplete:UIkit2.Utils.debounce((function(e){this.isAutoCompleteOpen()||this.startAutoComplete(e)}),125,!1),isAutoCompleteOpen:function(){var e=this.getAutoCompleter();return e&&e.activated},getAutoCompletePopup:function(){var e=this.getAutoCompleter();return e?e.getPopup():null},getAutoCompleter:function(){return this.$ace.completer},startAutoComplete:function(e){this.initAutocompleteTokenizer(),this.$ace.autoCompleteTriggerCharacter=e,this.$ace.commands.byName.startAutocomplete.exec(this.$ace),this.dispatch("onStartAutocomplete",[e])},getCursorElement:function(){return this.element.querySelector(".ace_cursor")},isTextSelected:function(){return this.$ace.getSelectedText().length>0},clearSelection:function(){this.$ace.selection.clearSelection()},selectWord:function(){this.$ace.selection.selectWord()},selectAll:function(){this.$ace.selection.selectAll()},copyText2:function(){this.isTextSelected()||this.$ace.selection.selectLine(),document.execCommand("copy"),this.copiedText=this.$ace.getSelectedText()},pasteText2:function(){AndroidRef&&AndroidRef.clipboardText?this.$ace.execCommand("paste",AndroidRef.clipboardText()):!document.execCommand("paste")&&this.copiedText&&this.$ace.execCommand("paste",this.copiedText)},cutText2:function(){this.copyText2(),this.$ace.execCommand("cut")},getSelectedText:function(){return this.$ace.getSelectedText()},getSelectedTextOrWordAtCursor:function(){var e=this.getSelectedText();return e||(this.$ace.selection.selectWord(),this.getSelectedText())},setScrollMargin:function(e,t){this.$ace.renderer.setScrollMargin(t,e)},setAutoSave:function(e){e=!!e,this.autoSave=e},addCommands:function(e){this.$ace.commands.addCommands(e)},execCommand:function(e,t){this.$ace.execCommand(e,t)},getMode:function(){return this.getSession().$modeId.split("/").pop()||""},setMode:function(e){return this.getSession().setMode("ace/mode/"+e)},getTheme:function(){return(this.$ace.renderer.$themeId||"").split("/").pop()||""},setTheme:function(e){return this.$ace.setTheme("ace/theme/"+e)},setShowGutter:function(e){return this.$ace.renderer.setShowGutter(e)},getShowGutter:function(){return this.$ace.renderer.getShowGutter()},getValue:function(){return this.$ace.getValue()},setValue:function(t){e.Mn(this,this.getSession(),t),this.clearSelection()},isDialogOpened:function(){return!!this.$ace.searchBox&&"none"!=this.$ace.searchBox.element.style.display},insertAutoCompleteMatch:function(){if(this.getAutoCompleter()&&this.isAutoCompleteOpen())return this.getAutoCompleter().insertMatch(),!0},insertTextAtCursor:function(e,t){this.getSession().insert(this.$ace.selection.getCursor(),e),this.moveCursorBy(t.rows,t.chars),"()"==e&&-1==t.chars&&this.debouncedShowSignature()},getCursorPosition:function(){return this.$ace.getCursorPosition()},getAllSelectionRanges:function(){return this.$ace.selection.getAllRanges()},setSelectionRanges:function(e){if(e.length>0){this.$ace.selection.setRange(e[0]);for(var t=1;t<e.length;t++)this.$ace.selection.addRange(e[t])}},navigateTo:function(e,t){this.$ace.navigateTo(e,t)},triggerTabPress:function(){if(!this.insertAutoCompleteMatch()){var e=this.getSession(),t=this.getCursorPosition(),n=e.getTokenAt(t.row,t.column);if(null!==n){var i=n.value,o=n.start+i.length;"."===i||"identifier"===n.type&&o===t.column?this.startAutoComplete():this.$ace.indent()}else this.$ace.indent()}},findDialog:function(e){e?this.$ace.searchBox.hide():this.$ace.execCommand("find")},replaceDialog:function(e){e?this.$ace.searchBox.hide():this.$ace.execCommand("replace")},moveCursorBy:function(e,t){this.clearSelection(),this.$ace.selection.moveCursorBy(e||0,t||0)},moveCursorLeft:function(){this.clearSelection(),this.$ace.selection.moveCursorLeft()},moveCursorRight:function(){this.clearSelection(),this.$ace.selection.moveCursorRight()},expandEmmet:function(){var t=this.$ace;e.emmet.isAvailable(t)&&(e.emmet.runEmmetCommand.call({action:"expand_abbreviation_with_tab"},t),GA_SendEvent("emmet_expand","n/a"))},autoCompleteNavigateUp:function(){if(this.isAutoCompleteOpen())return this.getAutoCompletePopup().navigateUp(),!0},moveCursorUp:function(){this.clearSelection(),this.$ace.selection.moveCursorUp()},autoCompleteNavigateDown:function(){if(this.isAutoCompleteOpen())return this.getAutoCompletePopup().navigateDown(),!0},moveCursorDown:function(){this.clearSelection(),this.$ace.selection.moveCursorDown()},scrollToLine:function(e,t,n,i){this.$ace.scrollToLine(e,t,n,i||m.noop)},undo:function(){this.getSession().getUndoManager().undo()},redo:function(){this.getSession().getUndoManager().redo()},resize:function(){this.$ace.resize()},isFocused:function(){return this.$ace.isFocused()},focus:function(e){e&&this.$ace.renderer.scrollCursorIntoView(),this.$ace.focus()},blur:function(){this.$ace.blur()},setFontSize:function(e){this.fontSize=e,this.$ace.setFontSize(e);var t=this.getAutoCompletePopup();t&&t.setFontSize(e)},setTabSize:function(e){this.tabSize=e,this.$ace.getSession().setTabSize(e)},getTabSize:function(){return this.$ace.getSession().getTabSize()},getTabString:function(){return this.$ace.getSession().getTabString()},refresh:function(){this.$ace.renderer.updateFull()},getCurrentFilePathAsync:function(){return GFS.inodePath(this.getSession().inode).catch(()=>null)},cachedModeSessionWithPath:function(t){return this.cachedModeSession(e.An(t))},cachedModeSession:function(e){var t=this,n=t.sessionCache[e];return n||(e="@blank"==e?"javascript":e,n=ace.createEditSession("","ace/mode/"+e),t.sessionCache[e]=n,n.selection.on("changeSelection",()=>t.observable.run({action:"selectionChange",selectedText:t.getSelectedText(),selectionRanges:t.getAllSelectionRanges()})),n.selection.on("changeCursor",()=>t.observable.run({action:"positionChange",position:t.getCursorPosition()})),t.hintManager&&(n.on("changeScrollTop",(function(){t.hintManager.close()})),n.on("changeScrollLeft",(function(){t.hintManager.close()})))),n},saveCurrentSessionAsync:function(){var t=this,n=t.getSession();return e.Fn(n).then(e=>{e.ranges=t.getAllSelectionRanges(),e.scrollTop=n.getScrollTop(),e.scrollLeft=n.getScrollLeft()})},openBlankSession:function(){var t=this.cachedModeSession("@blank");return e.Mn(this,t,""),this.setSession(t),t},isCurrentSessionBlank:function(){return!this.getSession().inode},changeSessionAsync:function(t,{externalContent:n,externalPath:i}){var o=this;return Promise.resolve(i?n:GFS.readFile(t,{encoding:"utf8"})).then(n=>GFS.isBinaryContent(n)?Promise.reject("Cannot open binary file in editor."):o.observable.run({action:"sessionChange",path:t,text:n}).then(()=>GFS.inode(i?`ext://${i}`:t).then(i=>{var a=sha1(n),r=e.Cn({inode:i,hash:a}),s=o.cachedModeSessionWithPath(t);return s.inode=i,e.Mn(o,s,n),void 0!==r.scrollTop&&(s.setScrollTop(r.scrollTop),s.setScrollLeft(r.scrollLeft)),o.setSession(s),s.setUndoManager(r.undoManager),r.ranges&&o.setSelectionRanges(r.ranges),s})))},refreshCurrentSession:function(){var t=this,n=t.getSession(),i=t.getAllSelectionRanges(),o=n.getScrollTop(),a=n.getScrollLeft(),r=n&&n.inode;return r?GFS.inodePath(r).then(e=>GFS.readFile(e,{encoding:"utf8"})).then(r=>(e.Mn(t,n,r),n.setScrollTop(o),n.setScrollLeft(a),t.setSelectionRanges(i),n)):Promise.resolve(n)},getSession:function(){return this.$ace.getSession()},setSession:function(t){var n=this.editorOptions;function i(e,t){return void 0===e?t:e}t.setUseWorker(i(n.useWorker,e.defaultUseAceWorkers)),t.setUseWrapMode(i(n.wordWrap,e.defaultWordWrap)),this.$ace.setSession(t),this.$ace.resize(),this.setTabSize(this.tabSize||e.defaultTabSize),this.onSetSession&&this.onSetSession(t)},setAutocomplete:function(e){this.autocompleteOff=!e},setDisplayIndentGuides:function(e){this.$ace.setOption("displayIndentGuides",e||!1)},getTokenType:function(e){e=e||0;var t=this.getSession(),n=this.getCursorPosition(),i=t.getTokenAt(n.row,n.column+e);return i?i.type:null}},UI.Dispatcher,UI.PropertySetter)})).__init__((function(e){UI.def({__name__:"touchEditor",$defaults:{flexLayout:"column",margin:"",editor:{view:"editor"},keyboard:!0},__after__:function(t){var n=this;e.touchEditors.push(n);var i=n.$editor=UI.new(t.editor);if(n.$components.push(i),n.element.appendChild(i.element),t.keyboard){var o=n.$keyboard=n.addChild(e.keyboardTemplate(i));o.hideExtraKeys(),n.initKeyboard(i),n.element.appendChild(o.element)}UI.support.touch?n.touchCursors=new e.TouchCursors(i):n.contextMenuManager=new e.ContextMenuManager(i),i.element.addEventListener("scroll",(function(){0!==i.element.scrollTop&&(i.element.scrollTop=0)})),i.addListener("onStartAutocomplete",(function(){n.initAutocomplete(i)}))},setExtraTouchKeyboard:function(e){this.$keyboard&&(this.$hideExtraTouchKeyboard=!e)},setTouchKeyboard:function(e){this.$keyboard&&(e?this.$keyboard.showKeys():this.$keyboard.hideKeys())},setKeyboardPosition:function(e){if(UIkit2.support.touch){var t=this.$keyboard,n=this.$editor,i=t.element,o=$$(t.keysId+"HideKeyboard"),a=$$(t.dropdownId),r=a.element.firstChild;switch(e){case"top":t.set("flexLayout","column-reverse"),o.hide(),n.setScrollMargin(8,142),UI.addClass(i,"position-top"),UI.addClass(r,"uk-animation-slide-top"),UI.removeClass(r,"uk-animation-slide-bottom"),a.pos="bottom-left";break;default:t.set("flexLayout","column"),o.show(),n.setScrollMargin(8,64),UI.removeClass(i,"position-top"),UI.removeClass(r,"uk-animation-slide-top"),UI.addClass(r,"uk-animation-slide-bottom"),a.pos="top-left"}}},initKeyboard:function(e){var t=this,n=e.$ace;n.on("focus",(function(){t.$hideExtraTouchKeyboard||t.$keyboard.showExtraKeys(),t.$keyboard.hideMenu(),e.observable.run({action:"focus"})})),n.on("blur",(function(){setTimeout(t.$keyboard.hideExtraKeys,1)})),t.$editor.observable.subscribe((function({action:e,path:n}){if("sessionChange"===e)switch(GFS.ext(n)){case".css":case".scss":case".less":t.$keyboard.changeMode("css");break;case".svg":case".xml":case".html":t.$keyboard.changeMode("html");break;case".js":case".jsx":case".ts":case".tsx":default:t.$keyboard.changeMode("js")}}))},initAutocomplete:function(e){var t=e.getAutoCompleter();if(!this.touchEnabled&&t){this.touchEnabled=!0;var n=0,i=t.getPopup();i.renderer.$maxLines=window.innerWidth<=480?5:8,i.container.style.fontSize=e.fontSize,i.on("touchmove",(function(e){var o=i.getFirstVisibleRow(),a=i.getLastVisibleRow(),r=i.getRow();0==o||a==t.completions.filtered.length-1?(n+=e.wheelY)<-15?(i.setRow(Math.max(r-1,o)),n=0):n>15&&(i.setRow(Math.min(r+1,a)),n=0):r!=o+1&&(n=0,i.setRow(o+1))}))}}},UI.definitions.flexgrid)})),m.module("editor").require("keyButton").def({keyboardTemplate:function(e){var t=UI.uid("dropdown"),n=UI.uid("icon"),i=UI.uid("keys"),o=UI.uid("keys"),a=this;return{cls:"x-editor-keyboard-container",device:"touch",flex:!0,flexLayout:"column",dropdownId:t,keysId:o,cells:[{id:t,view:"dropdown",cls:"x-editor-keyboard-dropdown",style:{position:"absolute",width:"100%"},pos:"top-left",dropdownAnimation:"uk-animation-slide-bottom",dropdown:{cls:"x-editor-options-list",cells:[{view:"list",cls:"uk-width-1-2",margin:"left",listStyle:"side",data:[{view:"link",icon:"list",label:"Format",value:"format"},{view:"link",icon:"search",label:"Find All",value:"find"},{view:"link",icon:"move",label:"Paste",value:"paste"},{view:"link",icon:"reply",label:"Undo",value:"undo"}],on:{onItemClick:function(t){switch(t.value){case"format":e.indentManager.indent(!0);break;case"find":a.kn(e.getSelectedTextOrWordAtCursor());break;case"paste":e.pasteText2();break;case"undo":e.undo()}}}},{view:"list",cls:"uk-width-1-2",margin:"right",listStyle:"side",data:[{view:"link",icon:"bolt",label:"Definition",value:"goto"},{view:"link",icon:"commenting",label:"Signature",value:"signature"},{view:"link",icon:"comments",label:"Info",value:"info"},{view:"link",icon:"forward",label:"Redo",value:"redo"}],on:{onItemClick:function(t){switch(t.value){case"redo":e.redo();break;case"signature":e.getSignature();break;case"goto":e.goToDefinition();break;case"info":e.getInfo()}}}}]},on:{onOpen:function(){UI.addClass($$(n).element,"uk-active")},onClose:function(){UI.removeClass($$(n).element,"uk-active")}}},{id:i,cls:"x-editor-keyboard",flexSize:"none",flexAlign:"middle",flexSpace:"around",cells:[{view:"keyButton",batch:"js",label:"()",pos:"top-left",multirow:!0,offset:-5,defaultIndex:0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"("},{view:"keyOption",label:"{"},{view:"keyOption",label:"["},{view:"keyOption",label:"<"},{view:"keyOption",label:"&#x2F",value:"/"}]},{cells:[{view:"keyOption",label:")"},{view:"keyOption",label:"}"},{view:"keyOption",label:"]"},{view:"keyOption",label:">"},{view:"keyOption",label:"&#x2F>",value:"/>"}]},{cells:[{view:"keyOption",label:"()",offset:-1},{view:"keyOption",label:"{}",offset:-1},{view:"keyOption",label:"[]",offset:-1},{view:"keyOption",label:"<>",offset:-1},{view:"keyOption",label:"<&#x2F>",value:"</>",offset:-1}]}]}},{view:"keyButton",batch:"html",label:"<>",pos:"top-left",multirow:!0,offset:-5,defaultIndex:0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"<"},{view:"keyOption",label:"&#x2F",value:"/"},{view:"keyOption",label:"{"},{view:"keyOption",label:"("},{view:"keyOption",label:"["}]},{cells:[{view:"keyOption",label:">"},{view:"keyOption",label:"&#x2F>",value:"/>"},{view:"keyOption",label:"}"},{view:"keyOption",label:")"},{view:"keyOption",label:"]"}]},{cells:[{view:"keyOption",label:"<>",offset:-1},{view:"keyOption",label:"<&#x2F>",value:"</>",offset:-1},{view:"keyOption",label:"{}",offset:-1},{view:"keyOption",label:"()",offset:-1},{view:"keyOption",label:"[]",offset:-1}]}]}},{view:"keyButton",batch:"css",label:"{}",pos:"top-left",multirow:!0,offset:-5,defaultIndex:0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"{"},{view:"keyOption",label:"("},{view:"keyOption",label:"<"},{view:"keyOption",label:"&#x2F",value:"/"},{view:"keyOption",label:"["}]},{cells:[{view:"keyOption",label:"}"},{view:"keyOption",label:")"},{view:"keyOption",label:">"},{view:"keyOption",label:"&#x2F>",value:"/>"},{view:"keyOption",label:"]"}]},{cells:[{view:"keyOption",label:"{}",offset:-1},{view:"keyOption",label:"()",offset:-1},{view:"keyOption",label:"<>",offset:-1},{view:"keyOption",label:"<&#x2F>",value:"</>",offset:-1},{view:"keyOption",label:"[]",offset:-1}]}]}},{view:"keyButton",batch:"js",label:"if",pos:"top-left",offset:-42,defaultIndex:1,multirow:!0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"in",value:"in "},{view:"keyOption",label:"sw",value:"switch "},{view:"keyOption",label:"case",value:"case "},{view:"keyOption",label:"br",value:"break"},{view:"keyOption",label:"=>",value:"=> "},{view:"keyOption",label:"let",value:"let "},{view:"keyOption",label:"cons",value:"const "}]},{cells:[{view:"keyOption",label:"for",value:"for "},{view:"keyOption",label:"if",value:"if "},{view:"keyOption",label:"else",value:"else "},{view:"keyOption",label:"ret",value:"return "},{view:"keyOption",label:"fn",value:"function "},{view:"keyOption",label:"var",value:"var "},{view:"keyOption",label:"this",value:"this"}]}]}},{view:"keyButton",batch:"css",label:"px",pos:"top-left",offset:-42,defaultIndex:1,multirow:!0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"!im",value:"!important"},{view:"keyOption",label:"pt"},{view:"keyOption",label:"rem"},{view:"keyOption",label:"rgba"},{view:"keyOption",label:"auto"}]},{cells:[{view:"keyOption",label:"%"},{view:"keyOption",label:"px"},{view:"keyOption",label:"em"},{view:"keyOption",label:"rgb"},{view:"keyOption",label:"none"}]}]}},{view:"keyButton",batch:"html",label:"div",pos:"top-left",offset:-42,defaultIndex:1,multirow:!0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"html",value:"<!doctype html></html>",offset:-7},{view:"keyOption",label:"head",value:"<head></head>",offset:-7},{view:"keyOption",label:"body",value:"<body></body>",offset:-7},{view:"keyOption",label:"style",value:"<style></style>",offset:-8},{view:"keyOption",label:"scp",value:"<script><\/script>",offset:-9},{view:"keyOption",label:"link",value:"<link>"},{view:"keyOption",label:"meta",value:"<meta>"}]},{cells:[{view:"keyOption",label:"form",value:"<form></form>",offset:-7},{view:"keyOption",label:"div",value:"<div></div>",offset:-6},{view:"keyOption",label:"span",value:"<span></span>",offset:-7},{view:"keyOption",label:"ul",value:"<ul></ul>",offset:-5},{view:"keyOption",label:"li",value:"<li></li>",offset:-5},{view:"keyOption",label:"btn",value:"<button></button>",offset:-9},{view:"keyOption",label:"img",value:"<img>"}]}]}},{view:"keyButton",batch:"html",label:"class",pos:"top-left",offset:-42,defaultIndex:1,multirow:!0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"click",value:'onclick=""',offset:-1},{view:"keyOption",label:"title",value:'title=""',offset:-1},{view:"keyOption",label:"data",value:'data=""',offset:-1},{view:"keyOption",label:"alt",value:'alt=""',offset:-1},{view:"keyOption",label:"rel",value:'rel="" ',offset:-1}]},{cells:[{view:"keyOption",label:"src",value:'src=""',offset:-1},{view:"keyOption",label:"class",value:'class=""',offset:-1},{view:"keyOption",label:"style",value:'style=""',offset:-1},{view:"keyOption",label:"id",value:'id=""',offset:-1},{view:"keyOption",label:"href",value:'href=""',offset:-1}]}]}},{view:"keyButton",batch:"js",label:"=",offset:21,defaultIndex:2,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:"*"},{view:"keyOption",label:"+"},{view:"keyOption",label:"="},{view:"keyOption",label:"-"},{view:"keyOption",label:"/"},{view:"keyOption",label:"%"}]}},{view:"keyButton",batch:"css",label:".",offset:21,defaultIndex:2,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:"_"},{view:"keyOption",label:"-"},{view:"keyOption",label:"."},{view:"keyOption",label:"#"},{view:"keyOption",label:"&"},{view:"keyOption",label:">"}]}},{view:"keyButton",batch:"html",label:"=",offset:21,defaultIndex:2,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:"*"},{view:"keyOption",label:"+"},{view:"keyOption",label:"="},{view:"keyOption",label:"-"},{view:"keyOption",label:"/"}]}},{view:"keyButton",batch:"js",label:"!",defaultIndex:2,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:"_"},{view:"keyOption",label:"$"},{view:"keyOption",label:"!"},{view:"keyOption",label:"@"},{view:"keyOption",label:"#"}]}},{view:"keyButton",batch:"js",label:"&&",defaultIndex:2,multirow:!0,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"<="},{view:"keyOption",label:">="},{view:"keyOption",label:"||"},{view:"keyOption",label:"!="},{view:"keyOption",label:"!=="}]},{cells:[{view:"keyOption",label:"<"},{view:"keyOption",label:">"},{view:"keyOption",label:"&&"},{view:"keyOption",label:"=="},{view:"keyOption",label:"==="}]}]}},{view:"keyButton",batch:"css",label:":",defaultIndex:1,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:"+"},{view:"keyOption",label:":"},{view:"keyOption",label:"@"}]}},{view:"keyButton",batch:"css",label:";",defaultIndex:1,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:","},{view:"keyOption",label:";"},{view:"keyOption",label:"!"}]}},{view:"keyButton",batch:"js",label:";",defaultIndex:1,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:":"},{view:"keyOption",label:";"},{view:"keyOption",label:"?:",value:"?  :",offset:-2}]}},{view:"keyButton",batch:"js",label:".",pos:"top-right",offset:44,defaultIndex:2,editorOptions:{editor:e},dropdown:{cells:[{view:"keyOption",label:"\\"},{view:"keyOption",label:"/"},{view:"keyOption",label:"."},{view:"keyOption",label:",",value:", "}]}},{view:"keyButton",batch:"js",label:"''",pos:"top-right",multirow:!0,offset:4,defaultIndex:3,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"/"},{view:"keyOption",label:"`"},{view:"keyOption",label:'"'},{view:"keyOption",label:"'"}]},{cells:[{view:"keyOption",label:"//",offset:-1},{view:"keyOption",label:"``",offset:-1},{view:"keyOption",label:'""',offset:-1},{view:"keyOption",label:"''",offset:-1}]}]}},{view:"keyButton",batch:"html",label:'""',pos:"top-right",multirow:!0,offset:4,defaultIndex:3,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"`"},{view:"keyOption",label:"'"},{view:"keyOption",label:'"'}]},{cells:[{view:"keyOption",label:"``",offset:-1},{view:"keyOption",label:"''",offset:-1},{view:"keyOption",label:'""',offset:-1}]}]}},{view:"keyButton",batch:"css",label:"''",pos:"top-right",multirow:!0,offset:4,defaultIndex:3,editorOptions:{editor:e},dropdown:{flexLayout:"column",cells:[{cells:[{view:"keyOption",label:"`"},{view:"keyOption",label:'"'},{view:"keyOption",label:"'"}]},{cells:[{view:"keyOption",label:"``",offset:-1},{view:"keyOption",label:"''",offset:-1},{view:"keyOption",label:'""',offset:-1}]}]}},{view:"menuIcon",batch:"html",icon:"bolt",style:{width:"40px"},on:{onMouseDown:function(){a.vibrate.Gt(),e.expandEmmet(),e.focus(!0)}}}]},{id:o,cls:"x-editor-keyboard",flexSize:"none",style:{padding:"0 6px"},cells:[{id:o+"Tab",view:"menuIcon",flexSize:"flex",icon:"arrow-right",on:{onMouseDown:function(){a.vibrate.Gt(),e.insertAutoCompleteMatch()||(e.triggerTabPress(),e.focus(!0))}}},{id:o+"Up",view:"menuIcon",flexSize:"flex",icon:"chevron-up",on:{onMouseDown:function(){a.vibrate.Gt(),e.autoCompleteNavigateUp()||(e.moveCursorUp(),e.focus(!0))}}},{id:o+"Down",view:"menuIcon",flexSize:"flex",icon:"chevron-down",on:{onMouseDown:function(){a.vibrate.Gt(),e.autoCompleteNavigateDown()||(e.moveCursorDown(),e.focus(!0))}}},{id:o+"Left",view:"menuIcon",flexSize:"flex",icon:"chevron-left",on:{onMouseDown:function(){a.vibrate.Gt(),e.moveCursorLeft(),e.focus(!0)}}},{id:o+"Right",view:"menuIcon",flexSize:"flex",icon:"chevron-right",on:{onMouseDown:function(){a.vibrate.Gt(),e.moveCursorRight(),e.focus(!0)}}},{id:n,view:"menuIcon",flexSize:"flex",icon:"plus",on:{onClick:function(e,n,i){UI.preventEvent(i);var o=$$(t);o&&!o.isOpened()&&setTimeout((function(){o.open(),o.positionNextTo(o.element.parentNode,o.pos,0,1)}),325)}}},{id:o+"HideKeyboard",view:"menuIcon",flexSize:"flex",icon:"triangle-down"}]}],on:{onInitialized:function(){this.optionsKey=$$(n),this.leftKey=$$(o+"Left"),this.rightKey=$$(o+"Right"),this.upKey=$$(o+"Up"),this.downKey=$$(o+"Down"),this.tabKey=$$(o+"Tab"),this.changeMode("js")}},hideMenu:function(){$$(t).close()},showExtraKeys:function(){$$(i).show()},hideExtraKeys:function(){$$(i).hide()},changeMode:function(e){$$(i).showBatch(e)},showKeys:function(){$$(o).show()},hideKeys:function(){$$(o).hide()}}}}),m.module("editor").require("touchButton").__init__((function(e){e.scrollingStates={},e.activeActionBar=null})).__init__((function(e){e.TouchCursors=function(t){var n=t.$ace,i=n.renderer,o=t.element,a=this;a.$touching=!1,a.editor=t,a.caretCursor=UI.new({cls:"x-caret-cursor",hidden:!0,position:"absolute"},o),a.leftCursor=UI.new({cls:"x-left-cursor",hidden:!0,position:"absolute"},o),a.rightCursor=UI.new({cls:"x-right-cursor",hidden:!0,position:"absolute"},o),a.actionBar=UI.new({cls:"x-action-bar",animation:"fade",hidden:!0,position:"absolute",cells:[{view:"touchButton",label:"CUT",on:{onTouchEnd:function(){t.cutText2(),a.actionBar.hide()}}},{view:"touchButton",label:"COPY",on:{onTouchEnd:function(){t.copyText2(),a.actionBar.hide()}}},{view:"touchButton",label:"PASTE",on:{onTouchEnd:function(){t.pasteText2(),a.actionBar.hide()}}}]},o),a.pasteActionBar=UI.new({cls:"x-action-bar",animation:"fade",hidden:!0,position:"absolute",cells:[{view:"touchButton",label:"PASTE",on:{onTouchEnd:function(){t.pasteText2(),a.pasteActionBar.hide()}}},{view:"touchButton",label:"SELECT ALL",on:{onTouchEnd:function(){a.pasteActionBar.hide(),t.selectAll();var e=t.getAllSelectionRanges().pop();e&&t.scrollToLine(e.end.row)}}}]},o),n.on("blur",(function(){a.caretCursor.hide()})),n.on("focus",(function(){a.updateTextSelectionCursors()})),a.caretCursor.element.addEventListener("touchmove",(function(e){a.$touching=!0,function e(t){if(t){for(var o,r,s,c=i.$cursorLayer,l=c.element.getBoundingClientRect(),u=c.config.offset,d=n.selection.getRange(),h=n.session.getLength(),f=0;f<h&&!((s=c.getPixelPosition({row:f+1,column:0},!0).top-u+22)>=t.clientY);f++);d.start.row=d.end.row=f;for(var p=n.session.getLine(f).length,m=i.$textLayer.$fontMetrics.$characterSize.height,v=0;v<p&&(r=(o=c.getPixelPosition({row:f,column:v},!0)).left+l.left+3,s=o.top-u+m+22,!(r>=t.clientX&&s>=t.clientY));v++);d.start.column=d.end.column=v,n.selection.setRange(d);var{row:g,column:b}=n.selection.lead;a.scrollTarget={afterScroll:e.bind(this,t),scrollPos:c.getPixelPosition({row:g,column:b})},a.updateTextSelectionCursors()}}(e.changedTouches[0]),e.cancelable&&UI.preventEvent(e)})),a.rightCursor.element.addEventListener("touchmove",(function(e){UI.preventEvent(e),a.$touching=!0,function e(t){if(t){for(var o,r,s,c=i.$cursorLayer,l=c.element.getBoundingClientRect(),u=c.config.offset,d=n.selection.getRange(),h=n.session.getLength(),f=d.start.row;f<h&&!((s=c.getPixelPosition({row:f+1,column:0},!0).top-u+18)>=t.clientY);f++);d.end.row=f;for(var p=n.session.getLine(f).length,m=d.start.row==f?d.start.column+1:0,v=i.$textLayer.$fontMetrics.$characterSize.height,g=m;g<p&&(r=(o=c.getPixelPosition({row:f,column:g},!0)).left+l.left+18,s=o.top-u+v+18,!(r>=t.clientX&&s>=t.clientY));g++);d.end.column=g,n.selection.setRange(d);var{row:b,column:w}=n.selection.lead;a.scrollTarget={afterScroll:e.bind(this,t),scrollPos:c.getPixelPosition({row:b,column:w})},a.updateTextSelectionCursors()}}(e.changedTouches[0])})),a.leftCursor.element.addEventListener("touchmove",(function(e){UI.preventEvent(e),a.$touching=!0,function e(t){if(t){for(var o,r,s,c=i.$cursorLayer,l=c.element.getBoundingClientRect(),u=c.config.offset,d=n.selection.getRange(),h=d.end.row;h>=0&&!((s=c.getPixelPosition({row:h,column:0},!0).top-u+18)<=t.clientY);h--);d.start.row=h;for(var f=d.end.row==h?d.end.column-1:n.session.getLine(h).length,p=i.$textLayer.$fontMetrics.$characterSize.height,m=0;m<f&&(r=(o=c.getPixelPosition({row:h,column:m},!0)).left+l.left,s=o.top-u+p+18,!(r>=t.clientX&&s>=t.clientY));m++);d.start.column=m,n.selection.setRange(d);var{row:v,column:g}=n.selection.anchor;a.scrollTarget={afterScroll:e.bind(this,t),scrollPos:c.getPixelPosition({row:v,column:g})},a.updateTextSelectionCursors()}}(e.changedTouches[0])})),i.on("afterRender",a.updateTextSelectionCursors.bind(a));var r=null,s=!1,c=0,l=0;function u(e,t){t||document.hasFocus()&&UI.preventEvent(e),null!==r&&(clearTimeout(r),r=null)}function d(){var e=a.scrollTarget;if(e&&a.cursorScroll){var t=Date.now(),n=.005*(t-a.cursorScroll),o=0,r=0,s=Math.max(0,.5*window.innerWidth-50),c=Math.max(0,.5*window.innerHeight-35),l=Math.min(s,80),u=Math.min(s,80),h=Math.min(c,80),f=Math.min(c,160),p=e.scrollPos,m=p.top-h,v=p.left-l,g=p.top+f,b=p.left+u,w=i.session,y=w.getScrollTop(),k=w.getScrollLeft(),x=i.$size;y>m?r=Math.min(n*(m-y),-1):y+x.height<g&&(r=Math.max(n*(g-y-x.height),1)),k>v?o=Math.min(n*(v-k),-1):k+x.width<b&&(o=Math.max(n*(b-k-x.width),1)),(o||r)&&(o&&w.setScrollLeft(k+o),r&&w.setScrollTop(y+r),e.afterScroll())}a.cursorScroll&&(a.cursorScroll=t,requestAnimationFrame(d))}function h(e){a.cursorScroll||(a.cursorScroll=Date.now(),requestAnimationFrame(d)),u(e)}function f(){a.cursorScroll=0,a.$touching=!1,a.updateTextSelectionCursors()}o.addEventListener("touchmove",(function(e){var t=e.changedTouches[0],n=-(t.clientX-c),i=-(t.clientY-l);(Math.abs(i)>10||Math.abs(n)>10)&&null!==r&&(clearTimeout(r),r=null)})),o.addEventListener("touchstart",(function(u){var d=u.changedTouches[0];if(c=d.clientX,l=d.clientY,UI.hasClass(u.target,"ace_gutter-cell")||UI.hasClass(u.target,"ace_fold-widget")||UI.hasClass(u.target,"ace_fold"))UI.removeClass(i.$gutter,"invisible-fold-widget");else{a.cursorScroll=0,document.hasFocus()&&UI.preventEvent(u),UI.addClass(i.$gutter,"invisible-fold-widget"),i.$gutter.dispatchEvent(new CustomEvent("mouseout")),null!==r&&(clearTimeout(r),r=null);var h=u.changedTouches[0],f=i.pixelToScreenCoordinates(h.clientX,h.clientY);r=setTimeout((function(){if("start"===e.scrollingStates[o.id]){s=!0,n.selection.moveCursorToScreen(f.row,f.column),n.selection.clearSelection();var i=n.selection.getWordRange(),r=n.getSession().getTextRange(i);if(!/^\s+$/.test(r)){var c=n.selection.getCursor().column;(r.length<=3||i.start.column<c&&i.end.column>c)&&n.selection.selectWord()}if(n.isFocused()||n.focus(),!n.getSelectedText()){var l=t.getCursorElement(),u=a.pasteActionBar,d=t.$ace.renderer;e.zn(u);var h=u.element.getBoundingClientRect(),p=l.getBoundingClientRect(),m=p.left/2;m=(m=m<8?8:m)+h.width>d.$size.width-8?d.$size.width-8-h.width:m,u.element.style.left=m+"px",u.element.style.top=(p.top<120?p.bottom+32:p.top-h.height-16)+"px"}e.vibrate.Gt()}}),675)}})),a.caretCursor.element.addEventListener("touchstart",h),a.caretCursor.element.addEventListener("touchend",f),a.leftCursor.element.addEventListener("touchstart",h),a.leftCursor.element.addEventListener("touchend",f),a.rightCursor.element.addEventListener("touchstart",h),a.rightCursor.element.addEventListener("touchend",f),o.addEventListener("touchend",(function(t){var r=t.target&&UI.hasClass(t.target,"ace_content");if(u(t,!r),a.$touching=!1,r)if(s)s=!1;else if("start"===e.scrollingStates[o.id]){var c=t.changedTouches[0],l=i.pixelToScreenCoordinates(c.clientX,c.clientY);n.selection.clearSelection(),n.selection.moveCursorToScreen(l.row,l.column),n.focus(!0)}})),o.addEventListener("contextmenu",UI.preventEvent),o.addEventListener("click",(function(){n.isFocused()||n.focus()}))},e.TouchCursors.prototype={updateTextSelectionCursors:function(){var t=this.caretCursor,n=this.leftCursor,i=this.rightCursor,o=this.actionBar,a=this.editor.$ace,r=a.getSelectedText(),s=a.selection.getRange(),c=a.renderer,l=c.gutterWidth,u=c.$cursorLayer.config.offset,d=c.$textLayer.$fontMetrics.$characterSize.height,h=c.$cursorLayer.getPixelPosition(s.start,!0),f=c.$cursorLayer.getPixelPosition(s.end,!0),p=h.top+d-u,m=f.top+d-u;if(r&&r.length>0)if(t.hide(),n.show(),n.element.style.left=h.left-18+l-c.scrollLeft+"px",n.element.style.top=p+"px",i.show(),i.element.style.left=f.left+l-c.scrollLeft+"px",i.element.style.top=m+"px",this.$touching)e.zn();else{e.zn(o);var v=o.element.getBoundingClientRect(),g=(h.left+l)/2+(f.left+l)/2-v.width/2;g=(g=g<8?8:g)+v.width>c.$size.width-8?c.$size.width-8-v.width:g,o.element.style.left=g+"px",o.element.style.top=(p<120?m+32:p-d-v.height-16)+"px"}else a.isFocused()&&(t.show(),t.element.style.left=f.left-9+l-c.scrollLeft+1+"px",t.element.style.top=m+1+"px"),i.hide(),n.hide(),o.hide(),this.pasteActionBar.hide()}}})).__init__((function(e){var t=ace.require("ace/lib/event");t.addTouchMoveListener=function(n,i){if("ontouchmove"in n){var o,a,r,s,c,l,u=e.scrollingStates,d=n.id;t.addListener(n,"touchstart",(function(e){var t=e.changedTouches[0];o=t.clientX,a=t.clientY,c=Date.now(),r=s=0,u[d]="start"})),t.addListener(n,"touchmove",(function(e){var t=e.changedTouches[0],n=e.wheelX=-(t.clientX-o),l=e.wheelY=-(t.clientY-a),h=Date.now(),f=.001*(h-c);r=.5*r+n/f*.5,s=.5*s+l/f*.5,o=t.clientX,a=t.clientY,c=h,(Math.abs(n)>5||Math.abs(l)>5)&&(u[d]="scroll"),i(e)})),t.addListener(n,"touchend",(function(){(Math.abs(r)>10||Math.abs(s)>10)&&(c=l=Date.now(),u[d]="scroll",requestAnimationFrame(h))}))}function h(){var e,t,n,o,a;(r||s)&&(e=(a=Date.now())-l,t=.001*(a-c),c=a,o=s*t*Math.exp(-e/325),n=r*t*Math.exp(-e/325),Math.abs(o)>1||Math.abs(n)>1?(i({wheelX:n,wheelY:o,timeStamp:a}),requestAnimationFrame(h)):u[d]=!1)}}})).def({zn:function(e){this.activeActionBar&&this.activeActionBar.hide(),e&&(e.show(),this.activeActionBar=e)}}),m.module("diff-editor").__new__((function(e){var t=ace.require,n=t("ace/lib/dom"),i=t("ace/lib/oop"),o=t("ace/lib/lang"),a=t("ace/lib/event_emitter").EventEmitter,r=t("ace/layer/lines").Lines;e.Range=t("ace/range").Range;var s=function(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_gutter-layer ace_diff-gutter",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new r(this.element),this.$lines.$offsetCoefficient=1};function c(e){var t=n.createElement("span");n.addCssClass(t,"ace_line-number"),e.appendChild(t);var i=n.createElement("span");return n.addCssClass(i,"ace_line-number"),e.appendChild(i),e}(function(){i.implement(this,a),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){$console.warn&&$console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){$console.warn&&$console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.row,a=this.$annotations[i];a||(a=this.$annotations[i]={text:[]});var r=n.text;r=r?o.escapeHTML(r):n.html||"",-1===a.text.indexOf(r)&&a.text.push(r);var s=n.type;"error"==s?a.className=" ace_error":"warning"==s&&" ace_error"!=a.className?a.className=" ace_warning":"info"!=s||a.className||(a.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var i=new Array(n+1);i.unshift(t,1),this.$annotations.splice.apply(this.$annotations,i)}}},this.update=function(e){this.config=e;var t=this.session;if(t){var n=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=i,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var o=t.getNextFoldLine(n),a=o?o.start.row:1/0,r=null,s=-1,l=n;;){if(l>a&&(l=o.end.row+1,a=(o=t.getNextFoldLine(l,o))?o.start.row:1/0),l>i){for(;this.$lines.getLength()>s+1;)this.$lines.pop();break}(r=this.$lines.get(++s))||(r=this.$lines.createCell(l,e,this.session,c),this.$lines.push(r)),this.$renderCell(r,e,o,l),l++}this.$updateGutterWidth(e)}},this.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,i=t.$firstLineNumber,o=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(o=t.getLength()+i);var a=n?n.getWidth(t,o,e):o.toString().length*e.characterWidth,r=this.$padding||this.$computePadding();(a+=r.left+r.right)===this.gutterWidth||isNaN(a)||(this.gutterWidth=a,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",a))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var i=t[n];if(i.row>=this.$cursorRow){if(i.row>this.$cursorRow){var o=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&o&&o.start.row==t[n-1].row))break;i=t[n-1]}i.element.className="ace_gutter-active-line "+i.element.className,this.$cursorCell=i;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n,i=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),o=this.oldLastRow;if(this.oldLastRow=i,!t||o<e.firstRow)return this.update(e);if(i<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(n=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);n>0;n--)this.$lines.shift();if(o>i)for(n=this.session.getFoldedRowCount(i+1,o);n>0;n--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),i>o&&this.$lines.push(this.$renderLines(e,o+1,i)),this.updateLineHighlight(),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,n){for(var i=[],o=t,a=this.session.getNextFoldLine(o),r=a?a.start.row:1/0;o>r&&(o=a.end.row+1,r=(a=this.session.getNextFoldLine(o,a))?a.start.row:1/0),!(o>n);){var s=this.$lines.createCell(o,e,this.session,c);this.$renderCell(s,e,a,o),i.push(s),o++}return i},this.$renderCell=function(e,t,i,o){var a=e.element,r=this.session,s=a.childNodes[0],c=a.childNodes[1],l=a.childNodes[2],u=r.$firstLineNumber,d=r.$breakpoints,h=r.$decorations,f=r.gutterRenderer||this.$renderer,p=this.$showFoldWidgets&&r.foldWidgets,m=i?i.start.row:Number.MAX_VALUE,v="ace_gutter-cell ";if(this.$highlightGutterLine&&(o==this.$cursorRow||i&&o<this.$cursorRow&&o>=m&&this.$cursorRow<=i.end.row)&&(v+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),d[o]&&(v+=d[o]),h[o]&&(v+=h[o]),this.$annotations[o]&&(v+=this.$annotations[o].className),a.className!=v&&(a.className=v),p){var g=p[o];null==g&&(g=p[o]=r.getFoldWidget(o))}if(g){v="ace_fold-widget ace_"+g,"start"==g&&o==m&&o<i.end.row?v+=" ace_closed":v+=" ace_open",l.className!=v&&(l.className=v);var b=t.lineHeight+"px";n.setStyle(l.style,"height",b),n.setStyle(l.style,"display","inline-block")}else l&&n.setStyle(l.style,"display","none");var w=(f?f.getText(r,o,"left"):"").toString(),y=(f?f.getText(r,o,"right"):o+u).toString();return w!==s.data&&(s.textContent=w),y!==c.data&&(c.textContent=y),n.setStyle(e.element.style,"height",this.$lines.computeLineHeight(o,t,r)+"px"),n.setStyle(e.element.style,"top",this.$lines.computeLineTop(o,t,r)+"px"),e.row=o,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?n.addCssClass(this.element,"ace_folding-enabled"):n.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=n.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(s.prototype),e.DiffGutterLayer=s})),m.module("diff-editor").require("editor","string").__init__((function(e,{string:t}){UI.def({__name__:"diff-editor",__init__:function(){var t=this.$ace,n=t.renderer;t.container.removeChild(n.$gutter),n.$gutter=UI.createElement("DIV"),n.$gutter.className="ace_gutter",t.container.appendChild(n.$gutter),n.$gutter.setAttribute("aria-hidden",!0);var i=n.$gutterLayer=new e.DiffGutterLayer(n.$gutter);i.on("changeGutterWidth",n.onGutterResize.bind(n)),i.setShowFoldWidgets(!1),i.$renderer={getWidth:function(){return 92},getText:function(e,t,n){var i=e.getFoldAt(t,0);return i&&i.isPatchHeader?"":e.rowNumbers[n][t]||""}}},init:function(e){var t=this.config.scrollMargin;e.$blockScrolling=1/0,e.renderer.setScrollMargin(t,8),e.setOptions({scrollPastEnd:.5,enableLiveAutocompletion:!1,enableBasicAutocompletion:!1,enableSnippets:!1,showPrintMargin:!1,fadeFoldWidgets:!1}),this.initKeybindings(this)},addGutterDecorationForRows:function(e,t,n,i){for(var o=t;o<=n;o++)e.addGutterDecoration(o,i)},Dn:function(n,i){var o=this,a=e.Range,r=i[0],s=r&&!(r.added||r.removed)&&r.nextChanged&&t.$t(r.value)>3,c=s?"":"@@@\n",l=c.length,u=[],d=[],h=o.cachedModeSessionWithPath(n),f=h.getDocument();h.rowNumbers={left:u,right:d},e.Nn(h),Object.keys(h.$backMarkers).forEach(e=>h.removeMarker(e)),h.$decorations.forEach((function(e,t,n){n[t]=""})),h.setValue(i.reduce((function(e,t){return e+t.value}),c));var p={firstFold:!0,range:new a(0,0,0,1/0),oldLine:0,newLine:0},m=s?[]:[p],v=l;i.forEach((function(n,i,r){var s=f.indexToPosition(v+1);v+=n.value.length;var c=f.indexToPosition(v+n.value.length),l=t.$t(n.value);n.added?(h.addMarker(a.fromPoints(s,c),"ace_added-line","fullLine"),o.addGutterDecorationForRows(h,s.row,c.row,"ace_added-line"),e.Vn(d,l)):n.removed&&(h.addMarker(a.fromPoints(s,c),"ace_removed-line","fullLine"),o.addGutterDecorationForRows(h,s.row,c.row,"ace_removed-line"),e.Vn(u,l));var g={row:s.row,column:0},b={row:c.row+(r.length==i+1?1:0),column:1/0};if(n.nextChanged&&(b.row=Math.max(g.row,b.row-3)),n.previousChanged&&(g.row=Math.min(b.row,g.row+3)),!n.added&&!n.removed){var w=b.row-g.row,y=g.row-s.row;if(e.Vn(u,y),e.Vn(d,y),w>0){p.header=UI.interpolate(" @@ -{{oldLine}},{{changesOld}} +{{newLine}},{{changesNew}} @@ ",{changesOld:(u.slice(-1)[0]||1)-p.oldLine,changesNew:(d.slice(-1)[0]||1)-p.newLine,oldLine:p.oldLine+1,newLine:p.newLine+1}),e.Vn(u,w),e.Vn(d,w);var k=a.fromPoints(g,b);p={oldLine:(u.slice(-1)[0]||0)+1,newLine:(d.slice(-1)[0]||0)+1,range:k},m.push(p)}var x=l-y-w;e.Vn(u,x),e.Vn(d,x)}})),!p.header&&p.firstFold&&(p.header=UI.interpolate(" @@ -{{oldLine}},{{changesOld}} +{{newLine}},{{changesNew}} @@ ",{changesOld:(u.slice(-1)[0]||1)-p.oldLine,changesNew:(d.slice(-1)[0]||1)-p.newLine,oldLine:p.oldLine+1,newLine:p.newLine+1})),m.forEach((function(e){var t=h.addFold(e.header||" ... ",e.range),n=e.range;t.firstFold=!!e.firstFold,t.isPatchHeader=!0,h.addMarker(n,"ace_expanded-line","fullLine"),o.addGutterDecorationForRows(h,n.start.row,n.end.row,"ace_expanded-line")})),o.setSession(h)}},UI.definitions.editor)})).def({Vn:function(e,t){for(var n=(e.slice(-1)[0]||0)+1,i=0;i<t;i++)e.push(n+i)},Nn:function(e){e.$patchedExpandFold||(e.$patchedExpandFold=e.expandFold,e.expandFold=function(e){e.firstFold||this.$patchedExpandFold(e)})}}),m.module("diff").require("model","session","path","messages","diff-editor","fileBreadcrumb","gitClient","string").__init__((function(e,{model:t,session:n,path:i,encode:o,messages:a,gitClient:r,string:s}){e.Diff=window.Diff,Object.assign(e,{model:t,path:i,session:n,encode:o,messages:a,gitClient:r,string:s})})).def({Hn:function(){return $$("diffFileBreadcrumb")},s:function(){return $$("diffEditor")},lines:function(){return $$("diffLinesCount")},Wn:function(e,t){var n=this.Diff.diffLines(e||"",t||"",{newlineIsToken:!0}),i=!1;return n.filter((function(e,t,n){if(e.added||e.removed)i=!0;else{var o=n[t+1];o&&(o.added||o.removed)&&(e.nextChanged=!0),i&&(i=!1,e.previousChanged=!0)}return e.count>0}))},Kn:function(e,t){return this.Diff.diffChars(e||"",t||"")},qn:function(e){var t=this,n=t.session.Oe();return Promise.all([GFS.readFile(e,{encoding:"utf8"}).catch(()=>""),t.gitClient.Yn(n,GFS.relativeTo(e,n))]).then(([n,i])=>{t.Dn(e,t.Wn(i,n))})},Dn:function(e,t){e=GFS.relativeTo(e,this.session.Oe()),this.Hn().setFullPath(e),this.s().Dn(e,t),this.lines().setLines(t.reduce((function(e,t){var n=t.value.split("\n").length-1;return t.added?n+e:e}),0),t.reduce((function(e,t){var n=t.value.split("\n").length-1;return t.removed?n+e:e}),0)),this.modal.open(),GA_SendEvent("diff_file","diff")}}),m.module("diff").__init__((function(e){e.modal=UI.new({id:e.__name__,view:"modal",closeButton:!1,dialogStyle:["full","large","blank"],dialogClass:["uk-overflow-hidden","uk-position-relative"],header:{cls:["x-bar","float"],fill:"width",flexSize:"",flexAlign:"middle",cells:[{id:"diffBackButton",view:"menuIcon",icon:"chevron-left",on:{onClick:function(){e.modal.close()}}},{id:"diffFileBreadcrumb",view:"fileBreadcrumb",data:[]},{id:"diffLinesCount",template:'<span class="x-diff-added-lines uk-margin-left">+{{addedLines}}</span><span class="x-diff-removed-lines">-{{removedLines}}</span>',addedLines:0,removedLines:0,setLines:function(e,t){this.set("addedLines",e),this.set("removedLines",t),this.render()}}]},body:{flex:!0,fill:"height",template:{id:"diffEditor",view:"diff-editor",readonly:!0,scrollMargin:56,editorOptions:{useWorker:!1}}}},document.getElementById("appContainer"))})),m.module("gitClient").require("addGitAuth","prompt","progress","path").__init__((e,{addGitAuth:t,prompt:n,progress:i,path:o})=>{Object.assign(e,{addGitAuth:t,prompt:n,progress:i,path:o}),e.Emitter={emit:function(e,t){if(e.includes("::progress"))return i.ProgressReporter.throttledReportProgress(t)}},git.plugins.set("emitter",e.Emitter)}).def({Qn:function({method:e,params:t,closeProgress:n=!1,immediate:i=!1}){var o=this;return t.emitterPrefix="::",git[e].call(git,t).then(e=>(n&&o.progress.ProgressReporter.close(i),e)).catch(t=>{n&&o.progress.ProgressReporter.close(i);var a="string"==typeof t?t:t&&t.message;return $console.warn(`[git:${e}] ${a}`),Promise.reject(t)})},Yn:function(e,t){return this.Qn({method:"getOidAtPath",params:{dir:e,path:t}}).then(t=>t?this.Qn({method:"readObject",params:{dir:e,oid:t,encoding:"utf8"}}).then(e=>e.object):null)},it:function(e,t){return this.Qn({method:"currentBranch",params:{dir:e,fullname:t}})},Jn:function(e){return this.it(e).then(t=>this.Zn({dir:e,path:`branch.${t}.remote`}))},Xn:function(e,t){return this.it(e).then(n=>this.Zn({dir:e,value:t,path:`branch.${n}.remote`}))},ei:function(e){return this.Qn({method:"log",params:{dir:e}}).then(GA_SendEvent_Success("git_log","git_core"),GA_SendEvent_Failure("git_log","git_core"))},ti:function(e,t){var n={dir:e,noGitSuffix:!0};return t&&(n.username=t.username,n.token=t.token),this.Qn({method:"pull",params:n,closeProgress:!0})},ni:function(e,t,n){return Promise.all([this.ii(e,t).catch((function(){return null})),this.ii(e,`remotes/${n}/${t}`).catch((function(){return null}))]).then(([e,t])=>({localRef:e,remoteRef:t,isAhead:e!==t}))},oi:function(e,t){return t=t||"origin",this.ai(e).then((function(e){return e.reduce((function(e,n){return e||n.remote===t&&n.url}),null)}))},ri:function(e,t){var n=this;return t=t||"origin",n.oi(e,t).then((function(i){return i?n.si(e).then((function(t){return t&&t.matrix&&0===t.matrix.length?n.ci(e,i):n.li(e,i).then((function(e){if(e){var t="Pull Successful";return e.alreadyMerged?(n.prompt.me(t,"Your branch is already up-to-date with the remote."),GA_SendEvent("pull_up_to_date","git_core")):e.fastForward?(n.prompt.me(t,"Fast-forwarded local branch to the remote."),GA_SendEvent("pull_fast_forward","git_core")):e.recursiveMerge&&(n.prompt.me(t,"Merged the remote with the local branch. Commit to save the merged files."),GA_SendEvent("pull_merged","git_core")),e}}))})).then(GA_SendEvent_Success("pull_git_repo","git_core"),GA_SendEvent_Failure("pull_git_repo","git_core")):Promise.reject({name:"Pull Error",message:`Remote '${t}' is missing.`})})).catch((function(e){return e.message&&e.name&&n.prompt.me(e.name,e.message),Promise.reject(e)}))},si:function(e){var t=this;return t.ui(e).then((function(e){return e.changes?t.di({resolveTo:e,error:{name:"Checkout Error: Uncommitted changes",message:`Your working directory is not clean with ${e.changes} change(s). Checking out will lose your current changes.`},ignoreLabel:"Revert & Checkout",obeyLabel:"Ok (Recommended)"}):e})).then(GA_SendEvent_Success("git_core_checkout","git_core"),GA_SendEvent_Failure("git_core_checkout","git_core"))},di:function({resolveTo:e,error:t,ignoreLabel:n,obeyLabel:i}){var o=this;return new Promise((function(a,r){o.prompt.H(t.name,null,{text:t.message,okLabel:i,cancelLabel:n,cancelColor:"danger",onResult:function(){r(t)},onDismiss:function(){a(e)}})}))},ui:function(e){var t=this;return t.hi(e).then((function(e){var n=t.fi(e);return n.matrix=e,n}))},fi:function(e){for(var t,n=0,i=0,o=0;o<e.length;o++)(t=e[o])[4]&&n++,t[1]!==t[2]&&i++;return{conflicts:n,changes:i}},li:function(e,t){var n=this,i=n.path.Ft(t);return n.addGitAuth.CredentialManager.getItemAsyncWithoutPrompt(i).then((function(t){return n.ti(e,t).catch((function(e){"string"==typeof e&&-1!==e.indexOf("MergeNoCommonAncestryError")?(n.prompt.me("Remote Diverged","Pull failed because no common ancestor was found between the remote and local branch."),GA_SendEvent("pull_diverged","git_core_f")):n.pi(e,"pull")}))}))},pi:function(e,t){if(e&&"string"==typeof e.message){var n=e.message,i=e.name||"HTTP Error";return n.includes("401")?(n=`Credentials provided failed for ${t}.`,i="Authentication Error!"):n.includes("404")&&(n=`Operation ${t} failed because HTTP url could not be found.`,i="Remote URL Not Found!"),this.prompt.me(i,n),Promise.reject(e)}throw e},ai:function(e){return this.Qn({method:"listRemotes",params:{dir:e}})},mi:function(e,t){return $console.log(`[git:add] ${t}`),this.Qn({method:"add",params:{dir:e,filepath:t}})},Be:function(e,t){return this.Qn({method:"listFiles",params:{dir:e,ref:t}})},vi:function(e,t){return $console.log(`[git:rm] ${t}`),this.Qn({method:"remove",params:{dir:e,filepath:t}})},hi:function(e){return this.Qn({method:"statusMatrix",params:{dir:e},closeProgress:!0,immediate:!0})},Me:function(e,t){return this.Qn({method:"status",params:{dir:e,filepath:t},closeProgress:!0,immediate:!0})},gi:function(e){return this.Qn({method:"fetch",params:{dir:e},closeProgress:!0,immediate:!0})},bi:function(e){var t=this,n=t.path.Ft(e);return t.addGitAuth.CredentialManager.getItemAsyncWithoutPrompt(n).then((function(n){return t.wi(e,n).then(e=>e?{remoteInfo:e,auth:n}:Promise.reject({name:"Connection Error: Repo url not found",message:"Cannot connect to remote repository. Please check your Git credentials or repo url."}))}))},yi:function(e){var t=this;return Promise.all([t.it(e),t.ai(e)]).then((function(n){var i=n[0],o=n[1][0];return o?i?t.ni(e,i,o.remote).then((function({isAhead:n,remoteRef:a}){if(n){if(null===a){var r=t.path.Ft(o.url);return t.addGitAuth.CredentialManager.getItemAsyncWithoutPrompt(r).then(n=>t.ki(e,n).then((function(){t.prompt.me("Push Successful","Successfully pushed commits to the remote.")})))}return t.bi(o.url).then(({remoteInfo:n,auth:o})=>n.refs&&n.refs.heads&&n.refs.heads[i]!==a?Promise.reject({name:"Push Error: Requires Update",message:"Your branch is behind the remote. Please pull in changes before push."}):t.ki(e,o).then((function(){t.prompt.me("Push Successful","Successfully pushed commits to the remote.")})))}return Promise.reject({name:"Push Error: No Commits",message:"Your repo does not have any commits to push."})})):Promise.reject({name:"Push Error: Detached HEAD",message:"Your repo is in a detached HEAD state. Please re-checkout a branch to fix this."}):Promise.reject({name:"Push Error: No Remote",message:"No remote repositories found! Please add a remote url."})})).catch((function(e){"string"==typeof e?-1!==e.indexOf("PushRejectedNoCommonAncestry")?t.prompt.me("Remote Diverged","Push rejected because no common ancestor was found with the remote branch."):-1!==e.indexOf("PushRejectedNonFastForward")?t.prompt.me("Requires Update","Your branch is behind the remote. Please pull in changes before push."):-1!==e.indexOf("PushRejectedTagExists")?t.prompt.me("Requires Update","Push rejected because a tag already exists."):-1!==e.indexOf("ReadObjectFail")&&t.prompt.me("Missing Git Object","Push rejected because of a missing git commit object."):t.pi(e,"clone")}))},ki:function(e,t){var{username:n,token:i}=t||{};return this.Qn({method:"push",params:{dir:e,noGitSuffix:!0,username:n,token:i},closeProgress:!0,immediate:!0})},wi:function(e,t){return t=t||{},this.Qn({method:"getRemoteInfo",params:{url:e,username:t.username,token:t.token}})},ii:function(e,t){return this.Qn({method:"resolveRef",params:{dir:e,ref:t}})},xi:function(e,t){var n=this,{CONFLICT:i,STAGED:o,DELETED:a}=GitStatusTypes,r=t.reduce((t,{path:r,status:s})=>{if(!(s&i||s&o)){var c=GFS.relativeTo(r,e);t.push(s&a?n.vi(e,c):n.mi(e,c))}return t},[]);return Promise.all(r)},Si:function(e){var t=this;return t.it(e).then(n=>t.ni(e,n,"origin").then(({isAhead:n})=>n?t.Qn({method:"listCommitsAndTags",params:{dir:e,start:["HEAD"],finish:["origin/HEAD"]}}).then(e=>e.size,()=>t.Qn({method:"log",params:{dir:e}}).then(e=>e.size)):0))},Ai:function(e,t,n){return this.it(e,!0).then(i=>this.Qn({method:"commit",params:{dir:e,message:t,author:n},ref:i,closeProgress:!0}).then(e=>($console.log(`[git:commit] ${e}`),e)))},_i:function(e,t){var n=this;return n.si(e).then(()=>n.Ci(e,t))},Fi:function(e,t,n){return this.Qn({method:"checkout",params:{dir:e,ref:t,filepaths:n},closeProgress:!0})},Ci:function(e,t){return this.Qn({method:"checkout",params:{dir:e,ref:t},closeProgress:!0})},Ii:function(e,t,n){return this.Qn({method:"branch",params:{dir:e,ref:t,checkout:n},closeProgress:!0})},Ei:function(e,t,n){return this.Qn({method:"addRemote",params:{dir:e,remote:t,url:n},closeProgress:!0})},$i:function(e,t){return this.Qn({method:"deleteRemote",params:{dir:e,remote:t},closeProgress:!0})},Pi:function(e,t){return this.Qn({method:"listBranches",params:{dir:e,remote:t}}).then(e=>($console.log(`[git:listBranches] (${e.join(", ")})`),e))},Zn:function(e){return this.Qn({method:"config",params:e})},Gi:function(e,t,n){var i={url:t,dir:e,noGitSuffix:!0,depth:1};return n&&(i.username=n.username,i.token=n.token),this.Qn({method:"clone",params:i,closeProgress:!0})},ci:function(e,t){var n=this,i=n.path.Ft(t);return n.addGitAuth.CredentialManager.getItemAsyncWithoutPrompt(i).then((function(i){return n.Gi(e,t,i).catch(e=>n.pi(e,"clone"))}))},ji:function(e){return this.Qn({method:"init",params:{dir:e}})}});Buffer=buffer.Buffer;function GHTTP({url:e,method:t="GET",headers:n={},body:i}){return Promise.resolve(i?(o=i,Promise.all(o).then(e=>Buffer.concat(e.map(e=>Buffer.from(e))))):void 0).then(i=>function(e,t){if(t.headers=t.headers||{},function(){try{var e=window.Android||self.Android;return e&&e.appVersion()>=12}catch(e){return!1}}())return t.body&&t.body.byteLength&&(t.headers["X-Request-Body"]=Buffer.from(t.body).toString("base64")),t.headers["X-Proxy-To"]=e,fetch("/proxy",t);var n=e.slice(e.indexOf("://")+3);return fetch(`https://cors.isomorphic-git.org/${n}`,t)}(e,{method:t,headers:n,body:i})).then(e=>{var t={},n=e.headers.entries();for(var[i,o]of n)t[i]=o;return e.arrayBuffer().then(n=>({headers:t,res:e,body:[new Uint8Array(n)]}))}).then(({headers:e,res:t,body:n})=>({url:t.url,method:t.method,statusCode:t.status,statusMessage:t.statusText,body:n,headers:e}));var o}git.plugins.set("fs",GFS),git.plugins.set("http",GHTTP),git.plugins.set("iterate",(function(e,t){return PromisePool({data:[...t],promiseGenerator:t=>e(t),maxConcurrency:10})})),m.module("landing").__new__(e=>{e.annoucements='\n\n# Update 0.9.7\n\n## Changes\n\n- Improved touch selection\n- Elastic touch cursor drag selection\n\n## Bug fixes\n\n- Fix project search\n\n# Update 0.9.6\n\n## Changes\n\n- "Launch" button will launch the current HTML file, otherwise defaults to the set \'Default Launch\' HTML file followed by \'index.html\'\n\n## Bug fixes\n\n- Layout fixes for desktop mode (introduced in 0.9.5)\n- Fixed image viewer not working (requires upgrade Android app to 3.0.9)\n- Fixed public BitBucket repo cloning\n\n# Update 0.9.5\n\n## PWA is here!\n\n#### An intermediate step in supporting iOS\n\n- New PWA version of app available for iOS and Android, available <a rel=\'noopener noreferrer\' href="https://spck.io/pwa" target="_blank">here</a>\n- For instructions to install PWAs visit <a rel=\'noopener noreferrer\' href="https://rangle.io/blog/progressive-web-apps-hit-the-desktop/" target="_blank">here</a>\n- Note that the PWA version uses IndexedDB and do not offer the same feature rich features as the Android App\n\n## Changes\n\n- App deep-linking available in Android app 3.0.8\n- Add new setting \'Keyboard Position\' (Mainly for iOS devices)\n\n# Update 0.9.4\n\n## Changes\n\n- Add emmet support to HTML keyboard behind the lightning key ⚡\n- If you\'re not familiar with emmet, visit this <a rel=\'noopener noreferrer\' href="https://devhints.io/emmet" target="_blank">link</a>\n- New "Share Link" feature available for files (App deeplinking will be available in upcoming release of Android app)\n- Update typings library for autocompletion\n\n## Bug fixes\n\n- Fix long press selecting white spaces only (hinders paste feature)\n- Fix Autocomplete to work like it used to (prior to 0.6.0)\n- Fix Function Signature lookup\n- Fix Autocomplete not working with HTML tags\n\n##\n\n# Update 0.9.3\n\n## Bug fixes\n\n- Fix corrupt zip file using "Export ZIP"\n- Fix editor focusing when scrolling\n\n# Update 0.9.2\n\n## Minor Changes\n\n- Add progress for import projects\n- Add Revert & Checkout option to git checkout dialog\n\n## Bug fixes\n\n- Fix import zip function for many cases\n- Fix interface bugs\n- Stability improvements to service worker\n- Memory usage improvements to Android app (3.0.7)\n\n# Update 0.9.1\n\n## Minor Changes\n\n- Add dark mode preloader\n- Add row numbers to search\n- Add editor window search button\n- Git is enabled by proxy on [browser editor](https://spck.io)\n- Increase font sizes for better compatibility with iOS\n- Improved searches text truncation limit\n- Improved word selection logic\n- Improved memory management logic\n\n## Bug fixes\n\n- Fixed search ordering by row number\n- Fixed git Revert All feature not deleting unstaged files\n- Fixed git status visual caching issues\n- Fixed sort order for git status list\n\n# Update 0.9.0.beta\n\n## Major changes\n\n- New interface for the New Year (Happy new year everyone!)\n- New zipping library (faster and more stable)\n- Add branch feature available for git\n- New dynamic extra keyboard (changes for HTML/CSS)\n\n## Bug fixes\n- Fixed search results being erased upon hitting maximum entries\n- Fixed no project sort order (sort by most recent)\n- Fixed various git status issues\n- Fixed wrong lstat mtime conversions (git-status related)\n- Fixed lstat caching problems with undo/redo (git-status)\n- Fixed git repo url not found issue (need update to Android app 3.0.4)\n- Fixed git branch checkout not finding remote branches\n- Fixed git checkout falsely failing checks (complain unstaged changes)\n- Fixed git library missing index entries upon checkout\n- Fixed git revert for deleted/added files and folders\n- Fixed git status problems with undo/redo actions\n\n# Update 0.8.0.beta\n\n## Major changes\n- Android FS is finally here (available in Android app 3.0.0)\n- New projects will be created in the internal storage folder of the app\n- Old projects will have an "IDB" label next to them\n- Old projects can be migrated when opened in new Android app (3.0.0)\n- Old projects still function, migration can be opted out temporarily\n- New: "Open in Browser" option for FS projects\n\n## Minor changes\n- "Console" option is now saved in preferences for Android app\n- Switched auto formatting to js-beautifier\n- Small tweaks to default templates\n- Improved offline mode, and will work in more network situations\n\n## Extra\n- Android Q now recommends "scoped" app storage, apps will no longer be freely able to store and access files created outside the app, this affects the design choices made on filesystem integration for compatibility with future versions of Android. For more information please visit [Manage scoped external storage access](https://developer.android.com/training/data-storage/files/external-scoped)\n'}),m.module("landing").require("project","gitClient","cloneRepo","messages","model","remote").__init__((function(e,{project:t,gitClient:n,cloneRepo:i,messages:o,model:a,remote:r}){Object.assign(e,{project:t,gitClient:n,cloneRepo:i,messages:o,model:a,remote:r}),e.md=window.markdownit({html:!0}),e.labIndex={},e.filters={}})).def({Ti:function(){return $$("landingTab")},Oi:function(){return $$("landingProjectsList")},Bi:function(){var e=this.md.render(this.annoucements);$$("landingScroller").showBatch("annoucements"),$$("landingProjectsSearch").hide(),$$("landingAnnoucements").element.innerHTML=e},Li:function(){return $$("landingProjectsSearch").show(),Object.keys(this.labIndex).length?Promise.resolve(this.Ri()):this.Ui()},Ui:function(){var e=this;return e.Mi().then((function(){e.Ri()})).then(GA_SendEvent_Success("landing_refresh_list","landing"),GA_SendEvent_Failure("landing_refresh_list","landing"))},Ri:function(){var e=this,t=e.Oi(),n=e.zi(Object.keys(e.labIndex).map((function(t){return e.labIndex[t]})));t.setData(n),$$("landingScroller").showBatch(n.length?"list":"empty")},Di:function(e,t){return(e=new Date(e.date).getTime())-(t=new Date(t.date).getTime())},zi:function(e){switch(this.filters.category){case"tag":return this.Ni(e.filter((function(e){return e.tagged})));default:return this.Ni(e).sort(this.Di)}},Ni:function(e){var t=$$("landingProjectsSearch").getValue().toLowerCase();return t?e.filter((function(e){return-1!==e.name.toLowerCase().indexOf(t)||-1!==e.label.toLowerCase().indexOf(t)})):e},Vi:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}return e},Mi:function(){var e=this;return e.remote.I({url:"labs/index.json",retryCount:1}).then((function(t){var n=tryParseJSON(t);return e.model.D("tagged").then((function(t){return t?Object.keys(n).forEach((function(e){n[e].tagged=-1!==t.indexOf(e),n[e].key=e})):Object.keys(n).forEach((function(e){n[e].key=e})),UI.extend(e.labIndex,n)}))}))},Hi:function(e){var t=this;return t.model.D("tagged").then((function(n){var i=n=n||[];if(-1===n.indexOf(e.key)?(e.tagged=!0,i=n.concat([e.key])):(e.tagged=!1,i=n.filter(t=>t!==e.key)),GA_SendEvent("tag_project","landing"),i!==n)return t.model.Ne("tagged",i)}))}}),m.module("landing").__init__((function(e){e.view=UI.new({batch:"landing",flexLayout:"column",cells:[{id:"landingTab",view:"list",cls:"x-horizontal-menu-tab",listStyle:"tab",itemTagClass:"x-chrome-tab",data:[{view:"link",style:{width:"3.5em"}},{view:"menuIcon",icon:"paint-bucket",value:"lab"},{view:"menuIcon",icon:"bookmark",value:"tag"},{view:"menuIcon",icon:"comments",value:"update"},{view:"link",style:{width:"3.5em"}}],setClassToItem:function(e,t){this.each((function(e){var n=this.getItemNode(e.id);n&&UI.removeClass(n,t)}),this);var n=this.getItemNode(e.id);n&&UI.addClass(n,t)},switchToTab:function(t){var n=this.data.find(e=>e.value===t),i=n&&n.value;if(i)switch(this.setClassToItem(this.next(n),"next"),this.setClassToItem(this.previous(n),"previous"),this.setActive("value",i),i){case"lab":return e.filters.category=null,e.Li();case"tag":return e.filters.category="tag",e.Li();case"update":return e.Bi()}},on:{onItemClick:function(e){this.switchToTab(e.value)}}},{cls:"x-menu-title-bar shadow",template:{id:"landingProjectsSearch",view:"searchField",cls:"x-menu-search",style:{width:"280px",marginLeft:"auto",marginRight:"auto",marginBottom:"0.5em"},clearSearch:!0,placeholder:"Search for Lab...",on:{onKeyUp:function(t,n,i){"Enter"===i.key&&e.Li()}}}},{id:"landingScroller",view:"scroller",flexSize:"flex",cells:[{batch:"list",id:"landingProjectsList",view:"list",flexSize:"flex",textAlign:"center",itemTagClass:"uk-flex-inline x-lab-item",template:function(t){return UI.new({flexLayout:"column",cells:[{flex:!1,position:"relative",cells:[{view:"icon",cls:"x-tag-icon"+(t.tagged?" uk-text-primary":""),icon:"bookmark",size:"large",on:{onClick:function(n,i,o){UI.preventEvent(o);var a=this.element;e.Hi(t).then((function(){t.tagged?UI.addClass(a,"uk-text-primary"):UI.removeClass(a,"uk-text-primary")}))}}},{view:"image",src:"labs/"+t.key+"/tb.nl.png",width:128,height:128}]},{cls:"x-lab-item-desc",flexLayout:"column",cells:[{view:"label",label:t.name},{view:"label",label:t.label,htmlTag:"SMALL"}]}]})},on:{onItemClick:function(t){e.project.Wi(t.name,null,null,t)}}},{batch:"empty",textAlign:"center",flexLayout:"column",flexAlign:["center","middle"],cells:[{view:"label",cls:"uk-h5",padding:"large",label:"No matching projects found.",style:{height:"160px",opacity:.5}}]},{id:"landingAnnoucements",batch:"annoucements",cls:"x-markdown",padding:"x",style:{paddingBottom:"48px"}}]}]})})),m.module("logger").__new__(e=>{var t=window;function n(n){return t.console&&t.console[n]?function(){var i=e.logs,o=Array.prototype.slice.call(arguments),a=i[0];return a&&a.args[0]===o[0]?(a.times++,a.time=new Date):i.unshift({method:n,time:new Date,args:o,times:1}),i.length=100,t.console[n].apply(t.console,o)}:i}function i(){}t.$console={log:n("log"),debug:n("debug"),warn:n("warn"),error:n("error")},e.logs=[]}).def({Oi:function(){return $$("loggerList")},Kt:function(){return $$("loggerSearchInput")}}),m.module("logger").__init__(e=>{e.modal=UI.new({id:e.__name__,view:"modal",closeButton:!1,dialogClass:"uk-flex uk-flex-column",dialogStyle:["scroll","blank"],header:{flexSize:"none",cls:"x-menu-title-bar shadow",flexLayout:"column",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:"EVENT LOG",collapsable:!1},{cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{id:"loggerCloseButton",view:"menuIcon",icon:"close",title:"Close",on:{onClick:function(){e.modal.close()}}}]}]},{id:"loggerSearchInput",cls:"x-menu-search",view:"searchField",placeholder:"Search Logs",clearSearch:!0,on:{onInput:function(){e.Oi().refresh()}}}]},body:{view:"scroller",cells:[{id:"loggerList",view:"list",padding:"x-sm y",batch:"list",selectable:!0,flexSize:"flex",listStyle:"side",filter:t=>{var n=e.Kt().getValue();return t.args.join(" ").includes(n)},template:e=>{var t=e.args.map(e=>String(e)).join(" ");return e.message=t+(e.times>1?`(${e.times})`:""),`<span>[${e.time.toLocaleTimeString()}] </span><span>${t}</span>`},data:[]}]},on:{onOpened:function(){e.Oi().setData(e.logs)}}},document.getElementById("appContainer"))}),m.module("main").__new__((function(e){var t=(e,t)=>`<svg xmlns="http://www.w3.org/2000/svg" width="${e}" height="${e}" viewBox="0 0 24 24">${t}</svg>`;Object.assign(e,{menuIcon:t(24,'<path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>'),playIcon:t(24,'<path d="M8 5v14l11-7z"/><path d="M0 0h24v24H0z" fill="none"/>'),splitIcon:t(20,'<path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 15h8v-2H3v2zm0 4h8v-2H3v2zm0-8h8V9H3v2zm0-6v2h8V5H3zm10 0h8v14h-8V5z"/>')})})),m.module("main").__init__((function(e){window.$embedMode||e.Ki()})).def({qi:function(){var e=this.location().hash.split("#lab:");e[1]&&(this.location().replace("/#"),this.project.Wi(null,null,null,e[1]))},Ki:function(){this.qi(),window.onhashchange=this.qi.bind(this)}}),m.module("main").require("editor","files","prompt","history","library","messages","preview","project","session","viewer","landing","search","menu","settings","fileTree","memory","share","copyToProject").__init__((function(e,{session:t,search:n,editor:i,path:o,model:a,files:r,prompt:s,library:c,messages:l,viewer:u,landing:d,preview:h,project:f,history:p,menu:m,settings:v,fileTree:g,memory:b,share:w,copyToProject:y}){e.historyTracker=new p.HistoryTracker,Object.assign(e,{session:t,search:n,editor:i,path:o,model:a,files:r,prompt:s,library:c,messages:l,viewer:u,landing:d,preview:h,project:f,history:p,menu:m,settings:v,fileTree:g,memory:b,share:w,copyToProject:y}),t.observable.subscribe(({action:t,project:n})=>{switch(t){case"open":e.k().show(),e.g().show(),e.Yi(),e.s().completionServer.clearFiles();break;case"setProject":n||(e.k().hide(),e.g().hide(),e.Qi().showLanding(),e.landing.Ti().switchToTab("lab"))}}),n.observable.subscribe(t=>{switch(t.action){case"jumpToFile":i.dn(t.path,t.item).then((function(){e.u().close(),e.Qi().showEditor()}))}}),i.observable.subscribe(t=>{var n=e.s();switch(t.action){case"findAllInFiles":e.u().open(),e.menu.switcher().switchToTab("search",!0),t.text&&(e.search.findInput().setValue(t.text),e.search.Ji());break;case"replaceInFile":var i=n.getSession();if(t.inode==i.inode){var o=i.getUndoManager();i.setUndoManager(e.editor.$dummyUndoManager),i.setValue(t.text),i.setUndoManager(o),e.editor.$dummyUndoManager.reset()}break;case"jumpToFile":return n.getCurrentFilePathAsync().then(n=>{if(t.path!==n)return e.T(t.path)}).then((function(){var e={row:t.row,column:t.column};n.navigateTo(e.row,e.column),n.scrollToLine(e.row,!0,!1),n.focus()}))}}),e.Yi()})).__init__((function(e){GFS.observable.subscribe(({action:t,oldpath:n})=>{var i=e.session.Oe(),{Ge:o}=e.path;if(i&&n&&GFS.childOf(n,i)&&!o(n))switch(e.preview.useLiveMode&&e.S().isVisible()&&e.Zi.bind(e),t){case"mv":case"rm":case"rmdir":if(e.Xi().startsWith(n)){var a=e.eo();if(a)return GFS.childOf(a,i)?(e.to(a),e.no(a)):(e.io(!0),e.no(null))}}}),e.files.observable.subscribe(({action:t,path:n,showInTree:i,skipSessionSave:o,preserveHistory:a,preview:r})=>{switch(t){case"update":var s=e.eo();if(s&&s===n)return e.T(n,{skipSessionSave:!0,skipFileSave:!0});case"open":if(null!==n)return e.T(n,{preserveHistory:a,skipSessionSave:o,showInTree:i,preview:r}).then((function(){GA_SendEvent("open_file","files"),UI.support.touch||e.s().focus()}));e.io()}}),e.preview.onHidePreviewContainer=function(){e.S().hide(),e.A().hide(),e.s().resize()},e.menu.observable.subscribe(({action:t})=>{switch(t){case"showMenu":e.u().show(),e.p().show(),e.s().resize();break;case"hideMenu":e.u().hide(),e.p().hide(),e.s().resize()}})})).__init__((function(){if(window.getChromeVersion){var e=getChromeVersion();e>=1&&e<51&&this.prompt.me("Chrome Update Required","This app only works for Chrome 51+.")}})).def({Yi:function(){this.historyTracker.reset()},oo:function(){return window.localStorage},ao:function(e){this.historyTracker.push(e),this.ro()},l:function(){return $$("mainFileBar")},so:function(){return $$("mainSearchIcon")},Qi:function(){return $$("mainContainer")},co:function(){return $$("mainEditorContainer")},S:function(){return $$("preview")},v:function(){return $$("mainMenuToggleIcon")},u:function(){return $$("menuContainer")},m:function(){return $$("menuVerticalTab")},p:function(){return $$("menuContainerResizer")},A:function(){return $$("previewContainerResizer")},s:function(){return this._editor||(this._editor=$$("mainEditor").$editor)},Hn:function(){return $$("mainFileBreadcrumb")},k:function(){return $$("mainLaunchButton")},g:function(){return $$("mainRunButton")},location:function(){var e=window.location;return{origin:e.protocol+"//"+e.hostname+(e.port?":"+e.port:""),hash:e.hash,replace:e.replace.bind(e)}},Zi:UIkit2.Utils.debounce((function(){this.preview.lo(!0)}),600,!1),uo:function(){return this.u().el.getBoundingClientRect().width},do:function(){return this.m().el.getBoundingClientRect().width},W:function({fileName:e,fileContent:t,externalPath:n}){var i=this;if(e){if(n){var o=t;return!o&&AndroidRef&&AndroidRef.getFileContent&&(o=AndroidRef.getFileContent()),i.T(e,{externalPath:n,externalContent:o,skipFileSave:!0,skipSessionSave:!0,preserveHistory:!0})}if(t){var a=i.share.ht(t);return i.ho(e,a).then(e=>i.T(e,{skipFileSave:!0,skipSessionSave:!0,preserveHistory:!0}))}}},fo:function(e){AndroidRef&&AndroidRef.launchWebView&&(UI.preventEvent(e),AndroidRef.launchWebView(e.currentTarget.getAttribute("href")),$console.log(`[launch] ${e.currentTarget.getAttribute("href")}`)),GA_SendEvent("launch","n/a")},ho:function(e,t){return ENV.tmpDirAsync(e).then(e=>GFS.rmdir(GFS.dirname(e)).then(()=>GFS.write(e,t).then(()=>e)))},po:function(){this.preview.lo(),this.A().show(),this.S().show(),this.S().open(),this.s().resize()},ro:function(){this.historyTracker.canUndo()?($$("mainBackButton").enable(),$$("mainBackMenuItem").enable()):($$("mainBackButton").disable(),$$("mainBackMenuItem").disable()),this.historyTracker.canRedo()?($$("mainForwardButton").enable(),$$("mainForwardMenuItem").enable()):($$("mainForwardButton").disable(),$$("mainForwardMenuItem").disable())},eo:function(){var e=this.s().getSession().inode;return e?GFS.inodePathSync(e):null},Xi:function(){var e=this.Hn();return GFS.join(this.session.Oe(),e.getFullPath())||""},to:function(e){var t=this.Hn();$$("mainNotSavedLink").hide(),e?(e=GFS.relativeTo(e,this.session.Oe()),t.setFullPath(e),t.show()):t.hide()},T:function(e,t){t=t||{};var n,i=this,o=GFS.ext(e),a=i.editor.Sn(o),r=i.viewer.Sn(o);if(n=a&&r?t.preview?i.mo.bind(i):i.vo.bind(i):r?i.mo.bind(i):i.vo.bind(i))return n(e,t).then(()=>{if(!t.skipSessionSave)return i.no(e)}).then(()=>{if(t.showInTree&&i.files.ln().showInTree(e),!t.preserveHistory)return GFS.inode(e).then(e=>i.ao(e))})},vo:function(e,t){var n=this;return n.memory.ge(e,t).then(i=>{if(i)return Promise.resolve(t.skipFileSave?null:n.bo()).then(()=>Promise.all([n.s().changeSessionAsync(e,t||{}),ENV.tmpDirAsync()])).then(([,t])=>{e.startsWith(t)&&(e=GFS.relativeTo(e,t)),n.Qi().showEditor(),n.to(e),n.files.ln().markActive(e),n.memory.fe()}).catch((function(e){$console.error(e),n.messages.Tt(e&&e.messageId||"openFileError")}));n.prompt.me("File Size Too Large","File exceeds the maximum size of 5 MB allowed by the editor.")})},mo:function(e){var t=this;return Promise.all([t.viewer.wo(e),ENV.tmpDirAsync()]).then(([,n])=>{e.startsWith(n)&&(e=GFS.relativeTo(e,n)),t.Qi().showViewer(),t.to(e),t.files.ln().markActive(e)}).catch(e=>{$console.error(e),t.messages.Tt(e&&e.messageId||"openFileError")})},yo:function(){var e=this;return e.historyTracker.undo(!0),e.ro(),GFS.inodePath(e.historyTracker.current).then(t=>t?e.T(t,{preserveHistory:!0}):Promise.reject())},ko:function(){var e=this;return e.historyTracker.redo(!0),e.ro(),GFS.inodePath(e.historyTracker.current).then(t=>{if(t)return e.T(t,{preserveHistory:!0})})},io:function(e){var t=this;t.historyTracker.canUndo()?t.yo().then(()=>{e&&(t.historyTracker.clearRedo(),t.ro())},()=>t.xo()):t.xo()},xo:function(){this.Qi().showEditor(),this.to(),this.s().isCurrentSessionBlank()||this.s().openBlankSession(),this.historyTracker.current=null},no:function(e){var t=this.session.Je();return this.model.Ke(t,{currentFilePath:e})},bo:function(){var e=this;return e.s().saveCurrentSessionAsync().catch((function(t){switch(t&&t.code){case GlobalErrorCodes.ProjectNotSaved:case GlobalErrorCodes.EditorSessionNotLinked:$$("mainNotSavedLink").show();break;default:$console.error(t),e.messages.Tt("mainSaveFileError"),t&&t.message&&GA_SendEvent("save_file_f","files_f","save_file_"+t.message)}}))},So:function(){var e=this,t=e.s().getSession();if(t){var n=t.getValue();if(!e.s().isCurrentSessionBlank())return Promise.all([GFS.inodePath(t.inode),ENV.tmpDirAsync()]).then(([t,n])=>t.startsWith(n)?e.copyToProject.Jt(t):e.bo());e.Ao(n)}},Ao:function(e){this.files._o(null,e)}}),m.module("main").require("menuIcon","fileTree","fileBreadcrumb").__init__((function(e){UI.new({fill:"height",flexLayout:"",cells:[{id:"mainMenuToggleIcon",view:"link",cls:"svg-icon",template:e.menuIcon,device:"touch",on:{onClick:function(){e.u().open()}}},e.menu.verticalTabView,e.menu.menuView,{id:"menuContainerResizer",view:"resizer",direction:"x",minValue:function(){return 280+e.do()},maxValue:function(){return 500+e.do()},on:{onHandleResized:function(t){var n=t-e.do();e.menu.switcher().element.style="width:"+n+"px",e.s().resize()}}},{id:"mainContainer",cells:[{id:"mainEditorContainer",batch:"editor",flexLayout:"column",position:"relative",cells:[{id:"mainFileBar",batch:"bar",fill:"width",flexSize:"",cls:["x-bar","float"],flexAlign:"middle",selectable:!1,cells:[{id:"mainBackButton",view:"menuIcon",device:"notouch",icon:"chevron-left",disabled:!0,iconClass:"",on:{onClick:function(){e.yo().then(GA_SendEvent_Success("previous_file","file_navigation"),GA_SendEvent_Failure("previous_file","file_navigation"))}}},{id:"mainForwardButton",view:"menuIcon",device:"notouch",icon:"chevron-right",disabled:!0,iconClass:"",on:{onClick:function(){e.ko().then(GA_SendEvent_Success("previous_file","file_navigation"),GA_SendEvent_Failure("previous_file","file_navigation"))}}},{view:"spacer",width:36,cls:"uk-hidden-notouch"},{id:"mainFileBreadcrumbScroller",view:"scroller",scrollDirection:"x",cells:[{id:"mainFileBreadcrumb",view:"fileBreadcrumb",data:[],dropdownEvent:"onPathItemClick",dropdownOptions:{id:"mainBreadcrumbDropdown",pos:"bottom-left",dropdownAnimation:"",marginX:-18},dropdown:{id:"mainBreadcrumbDropdownContent",flexLayout:"column",cls:"uk-overflow-hidden",cells:[{view:"list",device:"touch",listStyle:"dropdown",itemTagClass:"uk-flex-item-1",flex:!0,data:[{id:"mainBackMenuItem",view:"link",flexSize:"flex",icon:"chevron-left",label:"Back",wrap:"nowrap",disabled:!0,on:{onClick:function(){e.yo(),GA_SendEvent("previous_file","file_navigation")}}},{id:"mainForwardMenuItem",view:"link",flexSize:"flex",alignIconRight:!0,icon:"chevron-right",label:"Next",wrap:"nowrap",disabled:!0,on:{onClick:function(){e.ko(),GA_SendEvent("next_file","file_navigation")}}}]},{id:"mainFileBreadcrumbDropdownScroller",view:"scroller",cells:[{id:"mainFileBreadcrumbDropdownList",view:"list",listStyle:"dropdown",template:function(t){return"<a>"+e.fileTree.Dt(t)+t.label+"</a>"},on:{onItemClick:function(t){if(t.$branch){UI.removeClass($$("mainBreadcrumbDropdown").element,"uk-open");var n=e.files.ln().getParentBranch(t.path);$$("mainBreadcrumbDropdownContent").dispatch("onOpen",[null,null,{parent:n,files:t.$children}])}else e.T(t.path),GA_SendEvent("open_file_breadcrumb","file_navigation")}}}]}],on:{onOpen:function(e,t,n){this.element.style.height=n.files.length>12?"360px":null;var i=$$("mainFileBreadcrumbDropdownList"),o=n.files.map((function(e){return{path:e.path,label:e.label,file:e.file,$branch:e.$branch,$children:e.$children}}));n.parent&&o.unshift({path:n.parent.path,label:"..",file:!1,$branch:!0,$children:n.parent.$children}),i.setData(o),n.selectedPath&&i.select(i.findOne("path",n.selectedPath))}}},on:{onItemClick:function(t,n){var i=GFS.join(e.session.Oe(),t.path),o=e.files.ln(),a=o.getParentBranch(i),r=o.getParentBranch(a.path);this.dispatch("onPathItemClick",[{parent:r,files:a.$children,selectedPath:i},n.lastChild])}}},{id:"mainNotSavedLink",view:"link",textColor:"danger",label:"Not Saved",margin:"x-sm",hidden:!0,on:{onClick:function(){e.So()}}}]},{id:"mainSearchIcon",view:"menuToggle",cls:"x-menu-icon",icon:"search",title:"Search File",on:{onToggled:function(){var t=e.s();this.isSelected()?(t.execCommand("find"),GA_SendEvent("file_search","n/a")):t.$ace.searchBox&&t.$ace.searchBox.hide()}}},{id:"mainLaunchButton",view:"link",cls:"svg-icon",template:e.playIcon,hidden:!0,title:"Launch New Window",style:{color:"#0dbf7f"},on:{onInitialized:function(){this.element.addEventListener("mousedown",(function(){var t=e.eo(),n=GFS.hasExt(t,".html")?ENV.resource(t):e.preview.Co();UI.setAttributes(this,{href:n,target:"_blank",ref:"noopener noreferrer"})}))},onClick:function(t,n,i){e.fo(i)}}},{id:"mainRunButton",view:"link",cls:"svg-icon",hidden:!0,template:e.splitIcon,title:"Side Window",device:"notouch",style:{color:"#a5adb7"},on:{onClick:function(){e.po(),GA_SendEvent("run","n/a")}}}]},{batch:"editor",id:"mainEditor",view:"touchEditor",editor:{view:"editor",on:{onInitialized:function(){this.observable.subscribe(({action:t,manual:n})=>{switch(t){case"searchBoxOpen":e.so().select();break;case"searchBoxClose":e.so().deselect();break;case"save":n?e.So():e.bo();break;case"focus":$$("mainBreadcrumbDropdown").close()}})}}},on:{onResize:function(){if(this.isVisible()){var t=e.s();if(t.resize(),UI.support.touch){if(this.originalHeight){var n=window.innerHeight-this.originalHeight;t.isFocused()&&(n>80?t.blur():n<-80&&t.focus(!0))}this.originalHeight=window.innerHeight}}}}},e.viewer.view]},e.landing.view],on:{onInitialized:function(){this.showEditor()}},showEditor:function(){this.showBatch("editor"),e.co().showBatch(["bar","editor"])},showViewer:function(){this.showBatch("editor"),e.co().showBatch(["bar","viewer"])},showLanding:function(){this.showBatch("landing")}},{id:"previewContainerResizer",view:"resizer",direction:"x",hidden:!0,minValue:function(){var t=e.do();return e.uo()+t+320},maxValue:function(){return window.innerWidth-320},on:{onHandleResized:function(t){var n=e.do(),i=e.uo(),o=window.innerWidth-n-i,a=window.innerWidth-t,r=a/(o-a)*100;e.S().el.style.flexBasis=Math.round(r)+"%",e.s().resize()}}},e.preview.view]},document.getElementById("appContainer"))})),m.module("menu").require("session","search","projects").__init__((function(e,{session:t,search:n,projects:i}){var o=new ObservableClass;Object.assign(e,{observable:o}),t.observable.subscribe(({action:t,project:n})=>{switch(t){case"open":e.switcher().switchToTab("files",!0);break;case"setProject":n||(UI.support.touch?e.switcher().switchToTab("projects"):o.run({action:"hideMenu"}))}}),n.observable.subscribe(t=>{switch(t.action){case"blockDrawer":e.u().$blockDrawerPan=t.block}}),i.observable.subscribe(t=>{switch(t.action){case"blockDrawer":e.u().$blockDrawerPan=t.block}})})).def({u:function(){return $$("menuContainer")},Ti:function(){return $$("menuTab")},m:function(){return $$("menuVerticalTab")},switcher:function(){return $$("menuSwitcher")}}),m.module("menu").require("projects","files","search","settings","menuIcon","keyButton").__init__((function(e,{projects:t,files:n,search:i,settings:o,keyButton:a}){e.verticalTabView=UI.new({id:"menuVerticalTab",view:"list",cls:"x-vertical-menu-tab",listStyle:["tab","tab-left"],flexSize:"none",device:"notouch",data:[{id:"menuVerticalProjectsTab",view:"menuIcon",icon:"album",value:"projects"},{view:"menuIcon",icon:"folder",value:"files"},{view:"menuIcon",icon:"search",value:"search"},{view:"menuIcon",icon:"cog",value:"settings"}],on:{onItemClick:function(t){this.isSelected(t)?(this.deselectAll(),e.observable.run({action:"hideMenu"})):e.switcher().switchToTab(t.value,!0)}}});var r={id:"menuSwitcher",cls:["uk-offcanvas-bar","uk-overflow-hidden"],style:{width:"300px"},template:{flexLayout:"column",flexSize:"",fill:"height",cells:[{id:"menuTab",view:"list",cls:"x-horizontal-menu-tab",listStyle:"tab",itemTagClass:"x-chrome-tab",device:"touch",style:{zIndex:20},data:[{view:"link"},{id:"menuProjectsTab",view:"menuIcon",icon:"album",value:"projects"},{id:"menuFilesTab",view:"menuIcon",icon:"folder",value:"files"},{id:"menuSearchTab",view:"menuIcon",icon:"search",value:"search"},{id:"menuSettingsTab",view:"menuIcon",icon:"cog",value:"settings"},{view:"link"}],setClassToItem:function(e,t){this.each((function(e){var n=this.getItemNode(e.id);n&&UI.removeClass(n,t)}),this);var n=this.getItemNode(e.id);n&&UI.addClass(n,t)},on:{onItemClick:function(t){e.switcher().switchToTab(t.value)}}},{id:"menuSwitcherContainer",view:"list",cls:"x-min-height-0",flex:!0,flexSize:"flex",itemTagClass:"uk-flex uk-width-1-1",data:[t.view,n.view,i.view,o.view]}]},switchToTab:function(t,n){var i=e.Ti(),o=e.m(),a=i.data.find(e=>e.value===t),r=a&&a.value;if(r&&(i.setClassToItem(i.next(a),"next"),i.setClassToItem(i.previous(a),"previous"),i.setActive("value",r),o.setActive("value",r),$$("menuSwitcherContainer").showBatch(r),n))return e.observable.run({action:"showMenu"})}};e.menuView=UI.new({id:"menuContainer",view:"drawer",touchOnly:!0,edge:!0,flexSize:"",openable:function(){return!a.activeKey},template:r})})),m.module("preview").require("model","session","history","messages").__init__((function(e,{model:t,session:n,history:i,messages:o}){Object.assign(e,{model:t,session:n,history:i,messages:o}),e.historyTracker=new e.history.HistoryTracker,e.session.observable.subscribe(({action:t})=>{if("open"===t)return e.Yi(),e.Fo()}),GFS.observable.subscribe(({path:t,action:n})=>{if("write"===n){var i=e.session.Oe();if(i&&GFS.childOf(t,i))switch(GFS.ext(t)){case".html":e.Fo()}}}),e.Yi()})).def({onHidePreviewContainer:m.noop,Yi:function(){this.historyTracker.reset()},fileSelect:function(){return $$("previewFileSelect")},iframe:function(){return $$("iframe")},backButton:function(){return $$("previewBackIcon")},forwardButton:function(){return $$("previewForwardIcon")},Io:function(e){this.useLiveMode=e},lo:function(e){this.iframe().setSrc(ENV.resource(this.fileSelect().getValue()),e),window.focus()},Co:function(){var e=this.fileSelect().getFilePaths(),t=(this.session.Pe()||{}).defaultLaunchFilePath,n=-1!==e.indexOf(t)?t:this.fileSelect().getValue();return ENV.resource(n)||"about:blank"},Fo:function(){var e=this,t=e.session.Oe();return GFS.readdirDeep(t).then(t=>{e.fileSelect().setFilesData(t.filter(e=>GFS.hasExt(e,".html")))})}}),m.module("preview").require("fileSelect").__new__((function(e){e.view=UI.new({id:e.__name__,view:"drawer",touchOnly:!0,$blockDrawerPan:!0,hidden:!0,flexSize:"flex",template:{style:{width:"100%"},cls:["uk-offcanvas-bar","uk-offcanvas-bar-flip"],template:{flexLayout:"column",fill:"screen",cells:[{id:"previewActionBar",cls:["uk-form","x-bar"],flexAlign:"middle",flexSize:"none",cells:[{id:"previewBackIcon",view:"menuIcon",icon:"chevron-left",disabled:!0,on:{onClick:function(){e.iframe().back()}}},{id:"previewForwardIcon",view:"menuIcon",icon:"chevron-right",disabled:!0,on:{onClick:function(){e.iframe().forward()}}},{id:"previewRefreshIcon",view:"menuIcon",icon:"refresh",on:{onClick:function(){e.iframe().refresh()}}},{id:"previewFileSelect",view:"fileSelect",margin:"x-sm",style:{width:"100%"},on:{onChange:function(){e.lo()}}},{id:"previewHideIcon",view:"menuIcon",icon:"close",on:{onClick:function(){e.iframe().setSrc("about:blank"),e.onHidePreviewContainer()}}}]},{id:"iframe",flexSize:"flex",htmlTag:"IFRAME",style:{background:"white"},refresh:function(){e.lo(!0)},forward:function(){e.historyTracker.redo(!0),this.ro(),this.setSrc(e.historyTracker.current,!0)},back:function(){e.historyTracker.undo(!0),this.ro(),this.setSrc(e.historyTracker.current,!0)},ro:function(){e.historyTracker.canUndo()?e.backButton().enable():e.backButton().disable(),e.historyTracker.canRedo()?e.forwardButton().enable():e.forwardButton().disable()},getSrc:function(){return e.historyTracker.current},setSrc:function(t,n){if(t){n||(e.historyTracker.push(t),this.ro());var i=this.element;i.contentWindow&&null!=i.contentWindow.location?i.contentWindow.location=t:i.setAttribute("src",t)}}}]}},style:{flexBasis:"100%"}})})),m.module("project").__new__((function(e){e.ranks={html:0,css:10,vue:20,angularjs:30,angular:40,d3:60,backbone:70,react:50,jquery:55,bootstrap:20,semantic_ui:25,mdl:30,bulma:35,uikit:40},e.viewBox={javascript:"0 0 128 128",html:"0 0 128 128",css:"0 0 128 128",vue:"0 0 128 128",angularjs:"0 0 128 128",angular:"0 0 250 250",backbone:"0 0 128 128",d3:"0 0 128 128",react:"0 0 128 128",jquery:"0 0 128 128",bootstrap:"0 0 128 128",mdl:"0 0 24 24",bulma:"0 0 480 480",uikit:"0 0 200 200",semantic_ui:"0 0 256 256"},e.svg={javascript:'<path fill="#F0DB4F" d="M1.408 1.408h125.184v125.185h-125.184z"></path><path fill="#323330" d="M116.347 96.736c-.917-5.711-4.641-10.508-15.672-14.981-3.832-1.761-8.104-3.022-9.377-5.926-.452-1.69-.512-2.642-.226-3.665.821-3.32 4.784-4.355 7.925-3.403 2.023.678 3.938 2.237 5.093 4.724 5.402-3.498 5.391-3.475 9.163-5.879-1.381-2.141-2.118-3.129-3.022-4.045-3.249-3.629-7.676-5.498-14.756-5.355l-3.688.477c-3.534.893-6.902 2.748-8.877 5.235-5.926 6.724-4.236 18.492 2.975 23.335 7.104 5.332 17.54 6.545 18.873 11.531 1.297 6.104-4.486 8.08-10.234 7.378-4.236-.881-6.592-3.034-9.139-6.949-4.688 2.713-4.688 2.713-9.508 5.485 1.143 2.499 2.344 3.63 4.26 5.795 9.068 9.198 31.76 8.746 35.83-5.176.165-.478 1.261-3.666.38-8.581zm-46.885-37.793h-11.709l-.048 30.272c0 6.438.333 12.34-.714 14.149-1.713 3.558-6.152 3.117-8.175 2.427-2.059-1.012-3.106-2.451-4.319-4.485-.333-.584-.583-1.036-.667-1.071l-9.52 5.83c1.583 3.249 3.915 6.069 6.902 7.901 4.462 2.678 10.459 3.499 16.731 2.059 4.082-1.189 7.604-3.652 9.448-7.401 2.666-4.915 2.094-10.864 2.07-17.444.06-10.735.001-21.468.001-32.237z"></path>',html:'<path fill="#E44D26" d="M19.037 113.876l-10.005-112.215h109.936l-10.016 112.198-45.019 12.48z"></path><path fill="#F16529" d="M64 116.8l36.378-10.086 8.559-95.878h-44.937z"></path><path fill="#EBEBEB" d="M64 52.455h-18.212l-1.258-14.094h19.47v-13.762h-34.511l.33 3.692 3.382 37.927h30.799zM64 88.198l-.061.017-15.327-4.14-.979-10.975h-13.817l1.928 21.609 28.193 7.826.063-.017z"></path><path fill="#fff" d="M63.952 52.455v13.763h16.947l-1.597 17.849-15.35 4.143v14.319l28.215-7.82.207-2.325 3.234-36.233.335-3.696h-3.708zM63.952 24.599v13.762h33.244l.276-3.092.628-6.978.329-3.692z"></path>',css:'<path fill="#1572B6" d="M18.814 114.123l-10.054-112.771h110.48l-10.064 112.754-45.243 12.543-45.119-12.526z"></path><path fill="#33A9DC" d="M64.001 117.062l36.559-10.136 8.601-96.354h-45.16v106.49z"></path><path fill="#fff" d="M64.001 51.429h18.302l1.264-14.163h-19.566v-13.831h34.681999999999995l-.332 3.711-3.4 38.114h-30.95v-13.831z"></path><path fill="#EBEBEB" d="M64.083 87.349l-.061.018-15.403-4.159-.985-11.031h-13.882l1.937 21.717 28.331 7.863.063-.018v-14.39z"></path><path fill="#fff" d="M81.127 64.675l-1.666 18.522-15.426 4.164v14.39l28.354-7.858.208-2.337 2.406-26.881h-13.876z"></path><path fill="#EBEBEB" d="M64.048 23.435v13.831000000000001h-33.407999999999994l-.277-3.108-.63-7.012-.331-3.711h34.646zM64.001 51.431v13.831000000000001h-15.209l-.277-3.108-.631-7.012-.33-3.711h16.447z"></path>',angularjs:'<path fill="#B3B3B3" d="M63.81 1.026l-59.257 20.854 9.363 77.637 49.957 27.457 50.214-27.828 9.36-77.635z"></path><path fill="#A6120D" d="M117.536 25.998l-53.864-18.369v112.785l45.141-24.983z"></path><path fill="#DD1B16" d="M11.201 26.329l8.026 69.434 44.444 24.651v-112.787z"></path><path fill="#F2F2F2" d="M78.499 67.67l-14.827 6.934h-15.628l-7.347 18.374-13.663.254 36.638-81.508 14.827 55.946zm-1.434-3.491l-13.295-26.321-10.906 25.868h10.807l13.394.453z"></path><path fill="#B3B3B3" d="M63.671 11.724l.098 26.134 12.375 25.888h-12.446l-.027 10.841 17.209.017 8.042 18.63 13.074.242z"></path>',angular:'<g><polygon fill="#DD0031" points="125,30 125,30 125,30 31.9,63.2 46.1,186.3 125,230 125,230 125,230 203.9,186.3 218.1,63.2"/><polygon fill="#C3002F" points="125,30 125,52.2 125,52.1 125,153.4 125,153.4 125,230 125,230 203.9,186.3 218.1,63.2 125,30"/><path fill="#FFFFFF" d="M125,52.1L66.8,182.6h0h21.7h0l11.7-29.2h49.4l11.7,29.2h0h21.7h0L125,52.1L125,52.1L125,52.1L125,52.1   L125,52.1z M142,135.4H108l17-40.9L142,135.4z"/></g>',d3:'<path fill="#f69b44" d="M118.16 63.966c5.223-6.256 8.368-14.217 8.368-22.98C126.528 21.097 110.352 5 90.464 5H47.986c10.375 7 18.966 16 24.82 26h17.658c5.55 0 10.064 4.45 10.064 10s-4.515 10-10.064 10H80.047c.82 5 1.26 8.62 1.26 13.098 0 4.41-.433 8.902-1.224 12.902h10.382c5.55 0 10.064 4.95 10.064 10.5S96.013 98 90.464 98H72.92c-1.315 2-2.79 4.74-4.38 6.98C63.137 112.59 56.253 119 48.29 124H90.463c19.335 0 35.16-15.746 36.024-34.876-.017.31-.043.39-.066.698.062-.848.107-1.813.107-2.678-.002-8.766-3.148-16.92-8.37-23.178z"/><path fill="#f69b44" d="M61.03 97.543l.003-.18c.07-.1.138-.292.207-.39.077-.118.152-.275.228-.392.002-.002 0-.03.003-.034 6.14-9.33 9.727-20.41 9.727-32.39C71.197 31.5 44.624 5 11.962 5H1v26h10.962c18.32 0 33.23 14.823 33.23 33.144 0 4.984-1.113 9.675-3.088 13.924-.006.013-.013.36-.02.374C36.79 89.782 25.283 98 11.963 98H1v26h10.962c20.396 0 38.41-10.722 49.068-26.457z"/>',react:'<path fill="#53c1de" d="M107.3 45.2c-2.2-.8-4.5-1.6-6.9-2.3.6-2.4 1.1-4.8 1.5-7.1 2.1-13.2-.2-22.5-6.6-26.1-1.9-1.1-4-1.6-6.4-1.6-7 0-15.9 5.2-24.9 13.9-9-8.7-17.9-13.9-24.9-13.9-2.4 0-4.5.5-6.4 1.6-6.4 3.7-8.7 13-6.6 26.1.4 2.3.9 4.7 1.5 7.1-2.4.7-4.7 1.4-6.9 2.3-12.5 4.8-19.3 11.4-19.3 18.8s6.9 14 19.3 18.8c2.2.8 4.5 1.6 6.9 2.3-.6 2.4-1.1 4.8-1.5 7.1-2.1 13.2.2 22.5 6.6 26.1 1.9 1.1 4 1.6 6.4 1.6 7.1 0 16-5.2 24.9-13.9 9 8.7 17.9 13.9 24.9 13.9 2.4 0 4.5-.5 6.4-1.6 6.4-3.7 8.7-13 6.6-26.1-.4-2.3-.9-4.7-1.5-7.1 2.4-.7 4.7-1.4 6.9-2.3 12.5-4.8 19.3-11.4 19.3-18.8s-6.8-14-19.3-18.8zm-14.8-30.5c4.1 2.4 5.5 9.8 3.8 20.3-.3 2.1-.8 4.3-1.4 6.6-5.2-1.2-10.7-2-16.5-2.5-3.4-4.8-6.9-9.1-10.4-13 7.4-7.3 14.9-12.3 21-12.3 1.3 0 2.5.3 3.5.9zm-11.2 59.3c-1.8 3.2-3.9 6.4-6.1 9.6-3.7.3-7.4.4-11.2.4-3.9 0-7.6-.1-11.2-.4-2.2-3.2-4.2-6.4-6-9.6-1.9-3.3-3.7-6.7-5.3-10 1.6-3.3 3.4-6.7 5.3-10 1.8-3.2 3.9-6.4 6.1-9.6 3.7-.3 7.4-.4 11.2-.4 3.9 0 7.6.1 11.2.4 2.2 3.2 4.2 6.4 6 9.6 1.9 3.3 3.7 6.7 5.3 10-1.7 3.3-3.4 6.6-5.3 10zm8.3-3.3c1.5 3.5 2.7 6.9 3.8 10.3-3.4.8-7 1.4-10.8 1.9 1.2-1.9 2.5-3.9 3.6-6 1.2-2.1 2.3-4.2 3.4-6.2zm-25.6 27.1c-2.4-2.6-4.7-5.4-6.9-8.3 2.3.1 4.6.2 6.9.2 2.3 0 4.6-.1 6.9-.2-2.2 2.9-4.5 5.7-6.9 8.3zm-18.6-15c-3.8-.5-7.4-1.1-10.8-1.9 1.1-3.3 2.3-6.8 3.8-10.3 1.1 2 2.2 4.1 3.4 6.1 1.2 2.2 2.4 4.1 3.6 6.1zm-7-25.5c-1.5-3.5-2.7-6.9-3.8-10.3 3.4-.8 7-1.4 10.8-1.9-1.2 1.9-2.5 3.9-3.6 6-1.2 2.1-2.3 4.2-3.4 6.2zm25.6-27.1c2.4 2.6 4.7 5.4 6.9 8.3-2.3-.1-4.6-.2-6.9-.2-2.3 0-4.6.1-6.9.2 2.2-2.9 4.5-5.7 6.9-8.3zm22.2 21l-3.6-6c3.8.5 7.4 1.1 10.8 1.9-1.1 3.3-2.3 6.8-3.8 10.3-1.1-2.1-2.2-4.2-3.4-6.2zm-54.5-16.2c-1.7-10.5-.3-17.9 3.8-20.3 1-.6 2.2-.9 3.5-.9 6 0 13.5 4.9 21 12.3-3.5 3.8-7 8.2-10.4 13-5.8.5-11.3 1.4-16.5 2.5-.6-2.3-1-4.5-1.4-6.6zm-24.7 29c0-4.7 5.7-9.7 15.7-13.4 2-.8 4.2-1.5 6.4-2.1 1.6 5 3.6 10.3 6 15.6-2.4 5.3-4.5 10.5-6 15.5-13.8-4-22.1-10-22.1-15.6zm28.5 49.3c-4.1-2.4-5.5-9.8-3.8-20.3.3-2.1.8-4.3 1.4-6.6 5.2 1.2 10.7 2 16.5 2.5 3.4 4.8 6.9 9.1 10.4 13-7.4 7.3-14.9 12.3-21 12.3-1.3 0-2.5-.3-3.5-.9zm60.8-20.3c1.7 10.5.3 17.9-3.8 20.3-1 .6-2.2.9-3.5.9-6 0-13.5-4.9-21-12.3 3.5-3.8 7-8.2 10.4-13 5.8-.5 11.3-1.4 16.5-2.5.6 2.3 1 4.5 1.4 6.6zm9-15.6c-2 .8-4.2 1.5-6.4 2.1-1.6-5-3.6-10.3-6-15.6 2.4-5.3 4.5-10.5 6-15.5 13.8 4 22.1 10 22.1 15.6 0 4.7-5.8 9.7-15.7 13.4z"></path>',vue:'<path d="m-2.3125e-8 8.9337 49.854 0.1586 14.167 24.47 14.432-24.47 49.547-0.1577-63.834 110.14zm126.98 0.6374-24.36 0.0207-38.476 66.052-38.453-66.052-24.749-0.0194 63.211 107.89zm-25.149-0.008-22.745 0.16758l-15.053 24.647-14.817-24.647-22.794-0.1679 37.731 64.476zM25.997 9.3929l23.002 0.0087M25.997 9.3929l23.002 0.0087" fill="none"></path><path d="m25.997 9.3929 23.002 0.0087l15.036 24.958 14.983-24.956 22.982-0.0057-37.85 65.655z" fill="#35495e"></path><path d="m0.91068 9.5686 25.066-0.1711 38.151 65.658 37.852-65.654 25.11 0.0263-62.966 108.06z" fill="#41b883"></path></svg>',bootstrap:'<path fill="#7d4dc6" d="M75.701 65.603c-2.334-.768-5.694-.603-10.08-.603h-17.621v23h18.844c2.944 0 5.012-.315 6.203-.535 2.099-.376 3.854-1.104 5.264-1.982 1.409-.876 2.568-2.205 3.478-3.881.908-1.676 1.363-3.637 1.363-5.83 0-2.568-.658-4.54-1.975-6.436-1.316-1.896-3.141-2.965-5.476-3.733zM73.282 55.087c2.317-.688 4.064-1.89 5.239-3.487 1.176-1.598 1.763-3.631 1.763-6.044 0-2.286-.549-4.314-1.646-6.054s-2.662-2.413-4.699-3.056c-2.037-.641-5.53-.446-10.48-.446h-15.459v20h16.587c4.042 0 6.939-.38 8.695-.913zM126 18.625c0-9.182-7.443-16.625-16.625-16.625h-91.75c-9.182 0-16.625 7.443-16.625 16.625v91.75c0 9.182 7.443 16.625 16.625 16.625h91.75c9.182 0 16.625-7.443 16.625-16.625v-91.75zm-35.447 66.12c-1.362 2.773-3.047 4.911-5.052 6.415-2.006 1.504-4.521 2.78-7.544 3.548-3.022.769-6.728 1.292-11.113 1.292h-27.844v-69h27.42c5.264 0 9.485.609 12.665 2.002 3.181 1.395 5.671 3.497 7.474 6.395 1.801 2.898 2.702 5.907 2.702 9.071 0 2.945-.8 5.708-2.397 8.308-1.598 2.602-4.011 4.694-7.237 6.292 4.166 1.222 7.37 3.304 9.61 6.248 2.24 2.945 3.36 6.422 3.36 10.432 0 3.227-.681 6.225-2.044 8.997z"></path>',mdl:'<circle cx="12" cy="12" fill="#757575" r="12"/><path d="m3.6 3.6h16.8v16.8h-16.8z" fill="#bdbdbd"/><path d="m20.4 3.6-8.4 16.8-8.4-16.8z" fill="#fff"/><path d="m0 0h24v24h-24z" fill="none"/>',semantic_ui:'<g><path d="M0,0 L256,0 L256,256 L0,256 L0,0 Z" fill="#34BDB2"></path><path d="M168.461,87.041 C154.945,79.199 142.947,73.032 127.251,73.304 C118.271,73.46 110.561,78.341 108.94,87.274 C107.431,95.585 114.819,100.195 122.505,103.025 C135.252,107.719 146.349,112.675 158.874,117.894 C181.643,127.383 193.318,142.75 191.938,162.467 C190.182,187.554 175.084,205.547 151.089,211.479 C119.735,219.231 89.288,207.423 63.563,190.939 C70.056,181.048 77.589,174.296 84.043,164.465 C98.905,170.791 110.581,179.339 126.129,180.672 C137.092,181.612 149.514,181.089 151.977,168.212 C154.197,156.6 144.091,150.375 134.234,146.898 C122.499,142.759 110.786,137.696 99.278,132.996 C78.005,124.307 69.349,107.312 70.806,87.291 C70.806,75.552 80.546,51.825 104.427,44.445 C141.119,33.105 161.335,44.717 187.942,61.816 C180.875,71.162 175.442,77.807 168.461,87.041" fill="#FFFFFF"></path></g>',bulma:'<g stroke="none" stroke-width="1" fill="#00d1b2" fill-rule="evenodd"><polygon id="Path" points="136 296 156 156 236 76 336 176 276 236 356 316 236 396"></polygon></g>',uikit:'<path fill="#58BBE5" d="M136.167,42.291L108.47,59.07l31.695,18.186v47.708l-42.639,23.861l-41.864-23.858V87.989L27.91,73.733    v67.735l68.604,40.44l71.403-40.44V60.56L136.167,42.291z M123.344,35.611l-26.83-15.52L68.532,37.404l27.191,14.958    L123.344,35.611z"/>'}})),m.module("project").require("model","prompt","path","set","templates","messages","session","remote","editor","zipper").__init__((function(e,{model:t,prompt:n,messages:i,templates:o,labs:a,projects:r,files:s,path:c,set:l,session:u,remote:d,editor:h,zipper:f}){Object.assign(e,{model:t,prompt:n,messages:i,templates:o,labs:a,projects:r,files:s,path:c,set:l,session:u,remote:d,editor:h,zipper:f}),e.labLocation="labs/"})).def({switcher:function(){return $$("projectTabList")},nameInput:function(){return $$("projectNameInput")},createButton:function(){return $$("projectCreateButton")},Eo:function(e){var t=this;return t.$o("Enter a name for your new project.",e.name.split(/\.zip/i)[0]).then(n=>t.F({name:n,buildCallback:function({dir:n}){return t.zipper.Lt(n,e)}})).then(GA_SendEvent_Success("import_zip","zip"),GA_SendEvent_Failure("import_zip","zip"))},$o:function(e,t){var n=this;return new Promise((function(i,o){n.prompt.H("CREATE PROJECT",t||"",{showInput:!0,text:e,onResult:function(e){i(e)},onDismiss:function(){o()},onValidate:function(e,t,n){0===e.length?t("Name cannot be empty."):(t(null),n&&n())}})}))},F:function({name:e="Unknown",buildCallback:t=(()=>{}),uniqueName:n=!0,openAfter:i=!0,currentFilePath:o=null}){var a=this;return ENV.filesDirAsync(e).then(e=>n?a.model.qe(e):e).then(e=>{var n=Date.now(),r={pid:e,dir:e,currentFilePath:o,createdAt:n,modifiedAt:n};return Promise.resolve(t(r)).then(()=>a.model.We(r)).then(e=>{if(i)return a.session.N(e)}).then(()=>r)})},Wi:function(e,t,n,i){var o=this,a=o.templates.frameworks.js[t]||{},r=o.templates.frameworks.css[n]||{},s=i&&i.templates[0]||a.defaultFile;return o.F({name:e,currentFilePath:s,buildCallback:function(e){var{dir:t}=e;return Promise.resolve().then(()=>{if(i){var e=o.labLocation+i.key+"/";return Promise.all(i.templates.map((function(t){return o.remote.I({url:e+t,retryCount:1,responseType:"arraybuffer"}).then(e=>({path:t,contents:e}))})))}return Promise.all([o.templates.wt(a),o.templates.wt(r)]).then((function(e){var t=e[0],n=e[1];n.scripts=o.set.It(n.scripts,t.scripts),t.links=o.set.It(t.links,n.links);var i=a.templates||[],s={js:t,css:n,files:i,stylesheets:i.filter(e=>e.stylesheet),heading:(a.name||"")+(r.name?" + "+r.name:""),text:o.templates.bt(),cls:r.classes||{}};return Promise.all(i.map((function({src:e,path:t}){return o.templates.gt(e).then(e=>({path:t,contents:e(s)}))})))}))}).then((function(e){return PromisePool({data:e,promiseGenerator:function({path:e,contents:n}){return GFS.write(GFS.join(t,e),n)},maxConcurrency:1})})).catch(e=>($console.error(e),o.messages.Tt("loadTemplateError"),Promise.all([GFS.rmdir(t),ENV.trashDirAsync(t).then(e=>GFS.rmdir(e)),ENV.metadataDirAsync(t).then(e=>GFS.rm(e))]).then(()=>Promise.reject(e))))}}).then(()=>{GA_SendEvent(i?"lab_"+i.key:"framework_"+(t||"")+"+"+(n||""),"projects")})}}),m.module("project").__init__((function(e){e.modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",closeButton:!1,dialogClass:"uk-flex uk-flex-column",dialogStyle:["full","large","blank"],header:{cls:"x-menu-title-bar shadow",flexSize:"none",flexAlign:"middle",cells:[{id:"projectBackButton",view:"menuIcon",icon:"chevron-left",margin:"left",style:{fontSize:"1.25em"},on:{onClick:function(){var t=e.switcher();t.selectedCssFrameworkItem?t.setJsFrameworkItem(t.selectedJsFrameworkItem):t.selectedJsFrameworkItem?t.navigateToStart(!0):e.modal.close()}}},{id:"projectTitleSwitcherContainer",view:"list",cls:"uk-switcher",data:[{view:"label",cls:"x-menu-title",label:"JAVASCRIPT FRAMEWORK"},{view:"label",cls:"x-menu-title",label:"CSS FRAMEWORK"},{view:"label",cls:"x-menu-title",label:"ADD PROJECT"}]},{id:"projectCreateButton",view:"button",label:"CREATE",style:{marginLeft:"auto"},on:{onClick:function(){var t=e.switcher();e.Wi(e.nameInput().getValue(),t.selectedJsFrameworkItem.value,t.selectedCssFrameworkItem.value),e.nameInput().reset(),e.modal.close()}}}]},body:{view:"scroller",cells:[{id:"projectTabList",view:"list",flexSize:"none",hidden:!0,listStyle:"breadcrumb",switcherOptions:{connect:"#projectTypeSwitcherContainer, #projectTitleSwitcherContainer",animation:"slide-horizontal",swiping:!1},data:[{},{},{}],on:{onInitialized:function(){UI.delay((function(){this._switcher=UIkit2.switcher(this.element,this.switcherOptions)}),this,null)}},setJsFrameworkItem:function(t){this.selectedJsFrameworkItem=t,this.selectedCssFrameworkItem=null,this._switcher.show(1,!0),e.nameInput().setValue(t.title+" Seed"),e.createButton().hide()},setCssFrameworkItem:function(t){var n=this.selectedJsFrameworkItem;this.selectedCssFrameworkItem=t,this._switcher.show(2,!0),$$("projectConfirmList").setData([{htmlTag:"DIV",view:"card",title:n.title,svg:n.svg,viewBox:n.viewBox,accessoryIcon:""},{htmlTag:"DIV",view:"card",title:t.title,svg:t.svg,viewBox:t.viewBox,accessoryIcon:""}]),e.createButton().show(),setTimeout((function(){e.nameInput().getFormControl().focus()}),250)},navigateToStart:function(t){this.selectedJsFrameworkItem=null,this.selectedCssFrameworkItem=null,this._switcher.show(0,!!t),e.createButton().hide()}},{flexSize:"flex",template:{id:"projectTypeSwitcherContainer",view:"list",cls:"uk-switcher",data:[e.Po(),e.Go(),{view:"flexgrid",margin:"x y",flexLayout:"column",cells:[{template:'<span class="uk-h6">Name</span>',selectable:!1},{id:"projectNameInput",view:"input",width:"full",size:"large",margin:"top bottom-lg",on:{onKeyUp:function(t,n,i){"Enter"===i.key&&e.createButton().dispatch("onClick")}}},{template:'<span class="uk-h6">Packages</span>',margin:"bottom",selectable:!1},e.jo("projectConfirmList",[])]}]}}]},on:{onOpened:function(){e.switcher().navigateToStart()}}},document.getElementById("appContainer"))})).def({jo:function(e,t,n){return{id:e,view:"list",listStyle:"side line",cls:"uk-padding-remove",data:t,on:n}},Po:function(){var e=this,t=e.templates.frameworks.js;return e.jo("projectAppList",[{view:"card",title:"No JS Framework",label:"Work with a clean slate.",svg:e.svg.javascript,viewBox:e.viewBox.javascript,rank:1}].concat(Object.keys(t).map((function(n){var i=t[n];return{view:"card",value:n,title:i.name,label:i.info,svg:e.svg[n],viewBox:e.viewBox[n],rank:e.ranks[n]}}))).sort((function(e,t){return e.rank-t.rank})).concat([{view:"spacer",height:96}]),{onItemClick:function(t){e.switcher().setJsFrameworkItem(t)}})},Go:function(){var e=this,t=e.templates.frameworks.css;return e.jo("projectStyleList",[{view:"card",title:"No CSS Framework",label:"Work on a clean canvas.",value:"",svg:e.svg.css,viewBox:e.viewBox.css}].concat(Object.keys(t).sort().map((function(n){var i=t[n];return{view:"card",value:n,title:i.name,label:i.info,svg:e.svg[n],viewBox:e.viewBox[n]}}))).concat([{view:"spacer",height:96}]),{onItemClick:function(t){e.switcher().setCssFrameworkItem(t)}})}}),m.module("viewer").__init__((function(e){e.md=window.markdownit({html:!0});var t=e.To.bind(e),n=e.Oo.bind(e),i=e.Bo.bind(e),o=e.Lo.bind(e),a=e.Ro.bind(e);e.SupportedExtensions={".svg":t,".jpe":t,".jpg":t,".jpeg":t,".png":t,".gif":t,".bmp":t,".md":i,".woff":n,".woff2":n,".eot":n,".otf":n,".ttf":n,".mp4":a,".webm":a,".ogg":a,".mp3":o,".wav":o},e.styleContainer=document.createElement("style"),document.head.appendChild(e.styleContainer)})).def({Sn:function(e){return e in this.SupportedExtensions},wo:function(e){var t=this;return Promise.resolve(t.SupportedExtensions[GFS.ext(e)]).then(n=>n?n(e):t.Uo())},Bo:function(e){var t=this;return GFS.readFile(e,{encoding:"utf8"}).then(e=>{var n=t.md.render(e);t.view.showBatch("markdown"),$$("viewerMarkdown").element.innerHTML=n})},To:function(e){this.view.showBatch("image"),$$("viewerImage").set("src",ENV.resource(e))},Ro:function(e){this.view.showBatch("video"),$$("viewerVideo").config.src=ENV.resource(e),$$("viewerVideo").render()},Lo:function(e){this.view.showBatch("audio"),$$("viewerAudio").config.src=ENV.resource(e),$$("viewerAudio").render()},Oo:function(e){this.styleContainer.firstChild&&this.styleContainer.removeChild(this.styleContainer.firstChild),this.styleContainer.appendChild(document.createTextNode(`@font-face {font-family: 'CustomV Font' src: url('${ENV.resource(e)}')}`)),this.view.showBatch("font"),$$("viewerFont").element.style.fontFamily="CustomV Font"},Uo:function(){this.view.showBatch("invalid")}}),m.module("viewer").__init__((function(e){e.view=UI.new({id:e.__name__,batch:e.__name__,view:"scroller",singleView:!0,style:{paddingTop:"48px"},cells:[{batch:"image",style:{textAlign:"center",lineHeight:"calc(100vh - 48px)"},template:{id:"viewerImage",view:"image",valign:"middle"}},{id:"viewerFont",batch:"font",style:{textAlign:"center",lineHeight:"calc(100vh - 48px)"},template:{valign:"middle",style:{fontSize:"32px",lineHeight:"36px"},template:"<p>A B C D E F</p><p>G H I J K L M</p><p>N O P Q R S</p><p>T U V W X Y Z</p><p>a b c d e f</p><p>g h i j k l m</p><p>n o p q r s</p><p>t u v w x y z</p><p>1 2 3 4 5</p><p>6 7 8 9 0</p>"}},{batch:"markdown",id:"viewerMarkdown",cls:"x-markdown",padding:"x",style:{paddingBottom:"24px"}},{id:"viewerAudio",batch:"audio",style:{textAlign:"center",lineHeight:"calc(100vh - 48px)"},template:function(e){var t=e.src;return t?`<audio class='x-no-outline' controls>\n                <source src='${t}' type='${ExtensionMimeTypes[GFS.ext(t)]}'>\n                Your browser does not support the audio tag.\n              </audio>`:"<audio class='x-no-outline' controls>Your browser does not support the audio tag.</audio>"}},{id:"viewerVideo",batch:"video",style:{textAlign:"center",lineHeight:"calc(100vh - 48px)"},template:function(e){var t=e.src;return t?`<video class='x-no-outline' width='320' height='240' controls>\n                <source src='${t}' type='${ExtensionMimeTypes[GFS.ext(t)]}'>\n                Your browser does not support the video tag.\n              </video>`:"<video class='x-no-outline' width='320' height='240' controls>Your browser does not support the video tag.</audio>"}},{batch:"invalid",flex:!0,flexSize:"flex",flexAlign:"middle center",template:"File type not supported.",htmlTag:"H4"}]})})),m.module("addBranch").require("addGitAuth","gitClient").__init__((function(e,{addGitAuth:t,gitClient:n}){Object.assign(e,{addGitAuth:t,gitClient:n})})).def({an:function(){return $$("addBranchOkButton")},Kt:function(){return $$("addBranchInput")},Mo:function(e){this.Kt().setValue(""),this.modal.open(e)}}),m.module("addBranch").__init__((function(e){e.modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",closeButton:!1,center:!1,header:{cls:"x-menu-title-bar shadow",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:"ADD BRANCH",collapsable:!1}]},body:{flexLayout:"column",cls:"uk-form",margin:"top",cells:[{id:"addBranchInput",view:"input",placeholder:"Enter Branch Name",on:{onKeyUp:function(t,n,i){this.validate((function(){"Enter"==i.key&&e.an().dispatch("onClick")}))}},validate:function(t){var n=this,i=n.getValue();if(i){if(!(/[~^:\s\\]/.test(i)||i.endsWith("/")||i.includes("..")||i.startsWith(".")||i.toLowerCase().endsWith(".lock"))){var o=e.modal.projectDir;return Promise.all([e.gitClient.Pi(o),e.gitClient.Pi(o,"origin")]).then(([e,o])=>{o.includes(i)?n.raiseConcern(`Branch "${i}" already exists in remote.`):e.includes(i)?n.raiseConcern(`Branch "${i}" already exists.`):(n.raiseConcern(null),t&&t(i))})}n.raiseConcern("Branch name is not valid.")}else n.raiseConcern("Branch name cannot be empty.")}}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"addBranchCancelButton",view:"button",label:"CANCEL",on:{onClick:function(){e.modal.close()}}},{id:"addBranchOkButton",view:"button",label:"OK",style:{minWidth:"64px"},on:{onClick:function(){var t=e.modal.projectDir,n=e.Kt().getValue();t&&n&&e.gitClient.Ii(t,n),e.modal.close()}}}]},on:{onOpened:function(e,t,n){this.projectDir=n}}},document.getElementById("appContainer"))})),m.module("addGitAuth").require("git").__init__((function(e,{git:t}){e.git=t})).__init__((function(e){e.CredentialManager={prompt:function(t){return new Promise((function(n,i){e.zo(t,(function(){var i=e.git.le(t);n(i)}),i)}))},getItemAsync:function(t){var n=e.git.le(t);return n.username&&n.token?Promise.resolve({username:n.username,token:n.token}):this.prompt(t)},getItemAsyncWithoutPrompt:function(t){var n=e.git.ce(t)?e.git.le(t):null;return Promise.resolve(n)},setItem:function(t,n,i,o){e.git.ue(t,n,i,o)}}})).def({hostSelect:function(){return $$("addGitAuthHostSelect")},tokenInput:function(){return $$("addGitTokenInput")},usernameInput:function(){return $$("addGitUsernameInput")},authorEmailInput:function(){return $$("addGitAuthorEmailInput")},localStorage:function(){return window.localStorage},zo:function(e,t,n){if(e){var i=this.hostSelect();i.setValue(e),i.dispatch("onChange")}this.modal.open({onResult:t,onDismiss:n})},Do:function(){var e=this.usernameInput().getValue(),t=this.authorEmailInput().getValue(),n=this.tokenInput().getValue(),i=this.hostSelect().getValue();this.CredentialManager.setItem(i,e,n,t)}}),m.module("addGitAuth").__init__((function(e){e.modal=UI.new({id:e.__name__,cls:"x-prompt",view:"modal",closeButton:!1,bgClose:!1,center:!1,header:{cls:"x-menu-title-bar shadow",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:"GIT CREDENTIAL",collapsable:!1},{flexSize:"none",cells:[{view:"label",textColor:"muted",label:"Provider"},{id:"addGitAuthHostSelect",view:"select",textColor:"primary",margin:"x",style:{border:"none",padding:"0"},data:[{value:"git",label:"Default"},{value:"github.com",label:"GitHub",optgroup:"Host"},{value:"bitbucket.org",label:"BitBucket",optgroup:"Host"},{value:"gitlab.com",label:"GitLab",optgroup:"Host"}],on:{onChange:function(){var t=this.getValue();$$("addGitAuthMessage").showBatch(t),e.modal.updateFieldsForProvider(t)}}}]}]},body:{flexLayout:"column",margin:"top",cells:[{id:"addGitUsernameInput",view:"input",autocapitalize:"off",autocorrect:"off",spellcheck:"false",placeholder:"Username",on:{onKeyUp:function(t,n,i){"Enter"==i.key&&e.tokenInput().focus()}}},{id:"addGitTokenInput",view:"input",autocapitalize:"off",autocorrect:"off",spellcheck:"false",placeholder:"Token",on:{onKeyUp:function(t,n,i){"Enter"==i.key&&this.getValue()&&e.authorEmailInput().focus()}}},{id:"addGitAuthorEmailInput",view:"input",autocapitalize:"off",autocorrect:"off",spellcheck:"false",placeholder:"Email (Recommended)",type:"email",on:{onKeyUp:function(e,t,n){"Enter"==n.key&&$$("addGitAuthOkButton").dispatch("onClick")}}},{id:"addGitAuthMessage",margin:"top-sm left-sm",cells:[{batch:"github.com",htmlTag:"SPAN",template:"Create a <a href='https://github.com/settings/tokens' rel='noopener noreferrer' target='_blank'>GitHub token</a>."},{batch:"gitlab.com",htmlTag:"SPAN",template:"How to create a <a href='https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html' rel='noopener noreferrer' target='_blank'>GitLab token</a>."},{batch:"bitbucket.org",htmlTag:"SPAN",template:"How to create a <a href='https://confluence.atlassian.com/bitbucket/app-passwords-828781300.html' rel='noopener noreferrer' target='_blank'>BitBucket token</a>."}],on:{onInitialized:function(){this.showBatch(e.hostSelect().getValue())}}}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"addGitAuthCancelButton",view:"button",label:"CANCEL",on:{onClick:function(){e.modal.close()}}},{id:"addGitAuthOkButton",view:"button",label:"OK",style:{minWidth:"64px"},on:{onClick:function(){e.Do(),e.onModalResult&&(e.onModalResult(),e.onModalDismiss=null),e.modal.close()}}}]},on:{onOpened:function(t,n,i){var o=e.hostSelect().getValue();this.updateFieldsForProvider(o),e.onModalResult=i&&i.onResult,e.onModalDismiss=i&&i.onDismiss},onClosed:function(){e.onModalDismiss&&e.onModalDismiss()}},updateFieldsForProvider:function(t){var n=e.git.le(t);e.tokenInput().setValue(n.token),e.usernameInput().setValue(n.username),e.authorEmailInput().setValue(n.email)}},document.getElementById("appContainer"))})),m.module("checkoutBranch").require("addGitAuth","addBranch","gitClient","messages","session","prompt").__init__((function(e,{addGitAuth:t,addBranch:n,gitClient:i,messages:o,session:a,prompt:r}){Object.assign(e,{addGitAuth:t,addBranch:n,gitClient:i,messages:o,session:a,prompt:r})})).def({select:function(){return $$("checkoutBranchSelect")},No:function(e){var t=this;return t.gitClient.gi(e).then().then(()=>t.Vo(e)).then(()=>t.prompt.me("FETCH REMOTE","Successfully updated remote branches."))},Ho:function(e,t){return e.filter((function(e){return"HEAD"!==e})).map((function(e){return{label:e,value:e,optgroup:t}}))},Vo:function(e){var t=this;return Promise.all([t.gitClient.Pi(e),t.gitClient.Pi(e,"origin"),t.gitClient.it(e)]).then((function([e,n,i]){t.select().setData(t.Ho(e,"Local").concat(t.Ho(n,"Remote: origin"))),t.select().setValue(i)}))},Wo:function(e){var t=this;return t.Vo(e).then(()=>t.modal.open(e),()=>t.messages.Tt("gitClientError"))},Ko:function({dir:e,branch:t,noChecks:n}){var i=this;return(n?i.gitClient.Ci(e,t):i.gitClient._i(e,t)).then(()=>i.session.ot(e)).then(()=>i.session.Ze(i.session.Pe()))}}),m.module("checkoutBranch").__init__((function(e){e.modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",closeButton:!1,center:!1,style:{zIndex:1900},header:{cls:"x-menu-title-bar shadow",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:"CHECKOUT BRANCH",collapsable:!1}]},body:{cls:"uk-form",margin:"top",flexAlign:"middle",cells:[{id:"checkoutBranchSelect",view:"select",flexSize:"flex",data:[],style:{maxWidth:"calc(100% - 56px)"}},{view:"menuIcon",icon:"refresh",title:"Fetch Remote",margin:"x-sm",flexSize:"none",on:{onClick:function(){var t=e.modal.projectDir;t&&e.No(t)}}},{view:"menuIcon",icon:"plus",title:"Add Branch",margin:"x-sm",flexSize:"none",on:{onClick:function(){var t=e.modal.projectDir;t&&(e.modal.close(),e.addBranch.Mo(t))}}}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"checkoutBranchCancelButton",view:"button",label:"CANCEL",on:{onClick:function(){e.modal.close()}}},{id:"checkoutBranchOkButton",view:"button",label:"OK",style:{minWidth:"64px"},on:{onClick:function(){var t=e.modal.projectDir;t&&e.Ko({dir:t,branch:e.select().getValue()}),e.modal.close()}}}]},on:{onOpened:function(e,t,n){this.projectDir=n}}},document.getElementById("appContainer"))})),m.module("cloneRepo").require("gitClient","git","addGitAuth","initRepo","project").__init__((function(e,{gitClient:t,git:n,addGitAuth:i,initRepo:o,project:a}){Object.assign(e,{gitClient:t,git:n,addGitAuth:i,initRepo:o,project:a})})).__init__((function(e){e.modal=UI.new({id:e.__name__,view:"modal",closeButton:!1,center:!1,body:{flexLayout:"column",cells:[{htmlTag:"H4",template:"Clone Git Repo",selectable:!1},{view:"link",htmlTag:"SPAN",margin:"y-sm",template:"Set <a>credentials</a> to access for private repos.",on:{onClick:function(t,n,i){"A"===i.target.tagName&&(e.modal.close(),e.addGitAuth.zo())}}},{id:"cloneRepoUrlInput",view:"input",width:"full",size:"large",autocapitalize:"off",autocorrect:"off",spellcheck:"false",placeholder:"Paste a Git URL",on:{onKeyUp:function(e,t,n){this.validate((function(){"Enter"==n.key&&$$("cloneRepoOkButton").dispatch("onClick")}))}},validate:function(t){var n=this.getValue(),i=e.git.se(n);n?i?(this.raiseConcern(null),t&&t(i)):this.raiseConcern("Please enter a valid HTTPS repo url."):this.raiseConcern(null)}}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"cloneRepoCancelButton",view:"button",label:"CANCEL",on:{onClick:function(){e.modal.close()}}},{id:"cloneRepoOkButton",view:"button",label:"OK",style:{minWidth:"64px"},on:{onClick:function(){var t=$$("cloneRepoUrlInput");t.setValue(e.git.ie(t.getValue())),t.validate((function(t){e.modal.close(),e.qo(t.repoName,t.url)}))}}}]},on:{onOpened:function(){$$("cloneRepoUrlInput").setValue("")}}},document.getElementById("appContainer"))})).def({Yo:function(e){this.modal.open({onResult:e})},qo:function(e,t){var n=this;return n.project.F({name:e,buildCallback:function(e){var{dir:i}=e;return n.gitClient.ci(i,t).then(()=>n.gitClient.it(i).then(t=>{e.branch=t}))}}).then(GA_SendEvent_Success("clone_git_repo","git_core"),GA_SendEvent_Failure("clone_git_repo","git_core"))}}),m.module("commitMessage").require("git").__init__((function(e,{git:t}){e.git=t})).def({commitMessage:function(){return $$("commitMessageInput")},authorName:function(){return $$("commitAuthorName")},authorEmail:function(){return $$("commitAuthorEmail")},Qo:function(e){return new Promise((function(t,n){var i={message:null,author:{name:null,email:null}},o=!1;0===e.message.length&&(i.message="Commit message cannot be empty.",o=!0),0===e.author.name.length&&(i.author.name="Author name cannot be empty.",o=!0),0===e.author.email.length&&(i.author.email="Author email cannot be empty.",o=!0),o?n(i):t(e)}))},Jo:function(e,t){var n=this,i=n.git.le(e);return n.commitMessage().setValue(""),n.authorName().setValue(i.username),n.authorEmail().setValue(i.email),new Promise((function(e){n.modal.open({onResult:function(i){n.modal.close(),t?Promise.resolve(t(i)).then(e):e()},onValidate:n.Qo.bind(n)})}))}}),m.module("commitMessage").__init__((function(e){e.modal=UI.new({id:e.__name__,view:"modal",cls:"x-prompt",closeButton:!1,center:!1,header:{cls:"x-menu-title-bar shadow",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:"COMMIT",collapsable:!1}]},body:{flexLayout:"column",margin:"top",cells:[{id:"commitMessageInput",view:"input",autocapitalize:"off",autocorrect:"off",spellcheck:"false",placeholder:"Message",on:{onInput:function(){e.commitMessage().raiseConcern(null)},onKeyUp:function(t,n,i){"Enter"==i.key&&e.authorName().focus()}}},{id:"commitAuthorName",view:"input",autocapitalize:"off",autocorrect:"off",spellcheck:"false",placeholder:"Author Name",on:{onInput:function(){e.authorName().raiseConcern(null)},onKeyUp:function(t,n,i){"Enter"==i.key&&e.authorEmail().focus()}}},{id:"commitAuthorEmail",view:"input",autocapitalize:"off",autocorrect:"off",spellcheck:"false",placeholder:"Author Email",type:"email",on:{onInput:function(){e.authorEmail().raiseConcern(null)},onKeyUp:function(e,t,n){"Enter"==n.key&&$$("commitMessageOkButton").dispatch("onClick")}}}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"commitMessageCancelButton",view:"button",label:"CANCEL",on:{onClick:function(){e.modal.close()}}},{id:"commitMessageOkButton",view:"button",label:"OK",style:{minWidth:"64px"},on:{onClick:function(){e.modal.onValidate({message:e.commitMessage().getValue(),author:{name:e.authorName().getValue(),email:e.authorEmail().getValue()}}).then((function(t){e.modal.onResult(t)}),(function(t){e.commitMessage().raiseConcern(t.message),e.authorName().raiseConcern(t.author.name),e.authorEmail().raiseConcern(t.author.email)}))}}}]},on:{onOpened:function(t,n,i){this.onResult=i.onResult,this.onValidate=i.onValidate,e.commitMessage().raiseConcern(null),e.authorName().raiseConcern(null),e.authorEmail().raiseConcern(null)}}},document.getElementById("appContainer"))})),m.module("initRepo").require("gitClient","session","gitRemotes").__init__((function(e,{gitClient:t,session:n,gitRemotes:i}){Object.assign(e,{gitClient:t,session:n,gitRemotes:i})})).def({Zo:function({dir:e}){var t=this;return t.gitRemotes.Xo().then(n=>t.ea(e,n))},ea:function(e,t){var n=this;return n.gitClient.ji(e).then(()=>n.gitClient.Ei(e,"origin",t)).then(()=>n.session.ot(e))}}),m.module("gitLogger").require("gitClient").__init__((function(e,{gitClient:t}){Object.assign(e,{gitClient:t})})).def({Oi:function(){return $$("gitLoggerList")},Kt:function(){return $$("gitLoggerSearchInput")},ta:function(e){var t=this;return t.gitClient.it(e).then(n=>Promise.all([t.gitClient.ni(e,n,"origin"),t.gitClient.ei(e)]).then(([e,i])=>{var{remoteRef:o,localRef:a}=e,r=i.find(e=>e.oid===o),s=i.find(e=>e.oid===a);r&&(r.remote="origin/"+n),s&&(s.head=n),t.Oi().setData(i),t.modal.open()}))}}),m.module("gitLogger").__init__(e=>{e.modal=UI.new({id:e.__name__,view:"modal",closeButton:!1,dialogClass:"uk-flex uk-flex-column",dialogStyle:["scroll","blank"],header:{flexSize:"none",cls:"x-menu-title-bar shadow",flexLayout:"column",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:"GIT LOG",collapsable:!1},{cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{id:"gitLoggerCloseButton",view:"menuIcon",icon:"close",title:"Close",on:{onClick:function(){e.modal.close()}}}]}]},{id:"gitLoggerSearchInput",cls:"x-menu-search",view:"searchField",placeholder:"Search Logs",clearSearch:!0,on:{onInput:function(){e.Oi().refresh()}}}]},body:{view:"scroller",cells:[{id:"gitLoggerList",view:"list",padding:"x-sm y",batch:"list",selectable:!0,flexSize:"flex",listStyle:"side",filter:t=>{var n=e.Kt().getValue();return t.message.includes(n)||t.oid.includes(n)},template:e=>{var{author:t,oid:n,head:i,remote:o,message:a}=e,{timestamp:r,name:s,email:c}=t,l=new Date(1e3*r).toLocaleString(),u=[];return i&&u.push(`<span class='uk-badge uk-badge-notification'>HEAD: ${i}</span>`),o&&u.push(`<span class='uk-badge uk-badge-notification uk-badge-danger'>${o}</span>`),`${u.length?`<div>${u.join(" ")}</div>`:""}<span class='x-commit-title'>Commit:</span><small class='x-commit-oid uk-margin-small-right'>${n}</small>\n              <div><span class='x-commit-title'>Author:</span>${s} &lt;${c}&gt;</div>\n              <div><span class='x-commit-title'>Date:</span>${l}</div>\n              <div class='x-commit-message'>${a}</div>`},data:[]}]}},document.getElementById("appContainer"))}),m.module("gitRemotes").require("gitClient","git","prompt").__init__((function(e,{gitClient:t,git:n,prompt:i}){Object.assign(e,{gitClient:t,git:n,prompt:i})})).def({Oi:function(){return $$("gitRemotesList")},Kt:function(){return $$("gitRemotesSearchInput")},an:function(){return $$("gitRemotesOkButton")},na:function(){return $$("gitRemotesUrlInput")},Xo:function(){return new Promise((e,t)=>{this.addModal.open({resolve:e,reject:t})})},ia:function(e){var t=this;return t.gitClient.gi(e).then().then(()=>t.prompt.me("FETCH REMOTE",'Successfully fetched remote "origin".'))}}),m.module("gitRemotes").__init__(e=>{e.addModal=UI.new({id:"gitRemotesAddModal",view:"modal",cls:"x-prompt",closeButton:!1,bgclose:!1,center:!1,header:{cls:"x-menu-title-bar shadow",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:"ADD REMOTE",collapsable:!1}]},body:{flexLayout:"column",margin:"top",cells:[{id:"gitRemotesUrlInput",view:"input",placeholder:"Paste Git https:// Url",on:{onKeyUp:function(t,n,i){this.validate((function(){"Enter"==i.key&&e.an().dispatch("onClick")}))}},validate:function(t){var n=this.getValue(),i=e.git.se(n);n?i?(this.raiseConcern(null),t&&t(i)):this.raiseConcern("Please enter a valid HTTPS repo url."):this.raiseConcern("Url cannot be empty.")}}]},footer:{flexAlign:"right",margin:"y",cells:[{id:"gitRemotesCancelButton",view:"button",label:"CANCEL",on:{onClick:function(){e.addModal.close(),this.reject&&this.reject()}}},{id:"gitRemotesOkButton",view:"button",label:"OK",style:{minWidth:"64px"},on:{onClick:function(){var t=e.na();t.setValue(e.git.ie(t.getValue())),t.validate((function({url:n}){return e.gitClient.bi(n).then(()=>{e.addModal.close(),this.resolve&&this.resolve(n)},()=>{t.raiseConcern("Could not connect to repo url!")})}))}}}]},on:{onOpened:function(t,n,i){e.na().setValue(""),this.resolve=i.resolve,this.reject=i.reject}}},document.getElementById("appContainer")),e.modal=UI.new({id:e.__name__,view:"modal",closeButton:!1,dialogClass:"uk-flex uk-flex-column",dialogStyle:["scroll","blank"],header:{flexSize:"none",cls:"x-bar",flexAlign:"middle",cells:[{id:"gitRemotesSearchInput",cls:"x-menu-search",view:"search",width:"full",placeholder:"Search Logs...",on:{onInput:function(){e.Oi().refresh()}}},{id:"gitRemotesAddButton",view:"menuIcon",icon:"plus",on:{onClick:function(){e.oa()}}},{id:"gitRemotesCloseButton",view:"menuIcon",icon:"close",on:{onClick:function(){e.modal.close()}}}]},body:{view:"scroller",cells:[{id:"gitRemotesList",view:"list",padding:"x-sm y",batch:"list",selectable:!0,flexSize:"flex",listStyle:"side",filter:t=>{var n=e.Kt().getValue();return t.message.includes(n)||t.oid.includes(n)},data:[]},{view:"spacer",height:32}]}},document.getElementById("appContainer"))}),m.module("fileTreeController").require("model","path","session","fileTree").__init__((function(e,{model:t,path:n,session:i}){e.model=t,e.path=n,e.session=i})).__init__((function(e){e.FileTreeController=function(e){this.tree=e},e.FileTreeController.prototype={root:function(){return this.tree().findOne("root",!0)},sync:function(t){var n=this,i=e.path.Ge,o={};return GFS.readdirDeep(t,{folders:!0,files:!1}).then((function(e){e.sort(n.compareObjectsByPathDepth),e.forEach(e=>{if(!i(e)){var t=o[GFS.dirname(e)];o[e]=n.addBranch(e,t)}})})).then((function(){return GFS.readdirDeep(t).then(e=>{e.map(e=>{if(!i(e)){var t=o[GFS.dirname(e)];n.addLeaf(e,t)}})})}))},updateParentStatus:function(t){if(t){var n=e.aa(t);n!==t.status&&this.markStatus(t,n)}},compareObjectsByPathDepth:function(e,t){var n=/\//g,i=(e.match(n)||[]).length,o=(t.match(n)||[]).length;return i>o?1:i<o?-1:0},showInTree:function(e){var t=this;e.split("/").forEach((function(e,n,i){t.openBranch(i.slice(0,n+1).join("/"))}))},get:function(e,t){var n=this.tree().findOne("path",e);if(!n&&t)throw new Error(`Path ${e} not found.`);return n},markActive:function(e){this.tree().deselectAll();var t=this.get(e);t&&this.tree().select(t)},markStatus:function(e,t){if(e){this.tree().updateItemStatus(e,t);var n=e.$parent?this.tree().getItem(e.$parent):null;n&&this.updateParentStatus(n)}},clearAll:function(){this.tree().clearAll()},addRoot:function(e){var t=GFS.basename(e);return this.add({$branch:!0,$draggable:!1,label:t,name:t,path:e,root:!0,file:!1})},addBranch:function(e,t){if(t=t||this.getParentBranch(e)){var n=GFS.basename(e);return this.add({$branch:!0,$parent:t.id,$draggable:!0,$droppable:!0,label:n,name:n,path:e,root:!1,file:!1})}$console.warn("Could not find parent for: "+e)},setFileDefaultFlag:function(e,t){e&&this.tree().updateItem(e,{isDefaultLaunchFile:t})},openBranch:function(e){if(this.get(e))return this.tree().open(this.get(e,!0))},closeBranch:function(e){if(this.get(e))return this.tree().close(this.get(e,!0))},getParentBranch:function(e){return this.get(GFS.dirname(e))},addLeaf:function(e,t){if(t=t||this.getParentBranch(e)){var n=GFS.basename(e),i={$branch:!1,$parent:t.id,$draggable:!0,$droppable:!1,label:n,name:n,path:e,root:!1,file:!0};return i=this.add(i)}$console.warn("Could not find parent for: "+e)},add:function(e){var t=this.get(e.path);return t||(this.tree().add(e),e)},remove:function(e){if(e){var t=e.$parent?this.tree().getItem(e.$parent):null;this.tree().remove(e),t&&this.updateParentStatus(t)}}}})).def({aa:function(e){var{EMPTY:t,CONFLICT:n,SAME:i,IGNORED:o,ADDED:a,CHANGED:r}=GitStatusTypes,s=e.$children.reduce((e,t)=>e|t.status,t);return s&n||s&r||s&a||s&o||s&i}}),m.module("files").def({ra:function(e){var t=this;t.prompt.H("RENAME PROJECT",GFS.basename(e.dir),{showInput:!0,onResult:function(n){var i=`${GFS.dirname(e.dir)}/${n}`;return t.model.Ke(e.pid,{dir:i,pdir:e.dir}).then(()=>GFS.mv(e.dir,i,{updateStatus:!0})).then(()=>t.model.Ke(e.pid,{pdir:null}))}})},sa:function({oldpath:e,path:t}){return GFS.mv(e,t,{updateStatus:!0})},ca:function(){var e=this,{CONFLICT:t}=GitStatusTypes;return Promise.resolve(e.metadata.Le()).then(e=>{var n=e.filter(({status:e})=>e&t).length;return n?Promise.reject({message:`You have ${n} unmerged file(s) in conflict.`,name:"Commit Failed",files:e}):0===e.length?Promise.reject({message:"You have no changes to commit.",name:"No Changes",files:e}):e}).catch((function(t){return t&&t.name&&t.message&&e.prompt.me(t.name,t.message),Promise.reject(t)}))},la:function(e){var t=this;return Promise.all([t.ca(),t.gitClient.oi(e)]).then((function([n,i]){var o=t.path.Ft(i),a=t.gitClient.xi(e,n);return t.commitMessage.Jo(o,(function(n){return Promise.resolve(a).then((function(){return t.gitClient.Ai(e,n.message,n.author)})).then(()=>t.session.ot(e)).then(GA_SendEvent_Success("commit_all","git_core"),GA_SendEvent_Failure("commit_all","git_core"))}))}))},ua:function(e){var t=this;return t.gitClient.it(e).then((function(n){if(n)return t.checkoutBranch.Ko({dir:e,branch:n,noChecks:!0}).then(GA_SendEvent_Success("git_revert_all","git_core"),GA_SendEvent_Failure("git_revert_all","git_core"));t.prompt.me("Revert Failed","Revert failed due to missing HEAD commit. Please perform a checkout to fix this problem.")}))},da:function(){var e=this.historyTracker;e.truncate(0),e.clearRedo()},ha:function(e){var t=this.historyTracker;t.pushUndo(e),t.truncate(20),t.clearRedo()},fa:function(){var e=this;if(!e.historyTracker.canUndo())return Promise.reject({source:"files.model",fn:"pvUndoLastActionAsync",message:"No undo action exists."});var t,n=e.historyTracker.popUndo(),i=n.action;switch(i){case"delete":t=e.pa(n);break;case"updatePath":t=e.ma(n);break;case"addFile":t=e.va(n);break;case"addFolder":t=e.ga(n);break;default:t=Promise.reject({source:"files.model",fn:"pvUndoLastActionAsync",action:i,message:"Undo history action unrecognized"})}return t.then(t=>{e.historyTracker.pushRedo(t)}).then(GA_SendEvent_Success("undo_action","undo_redo"),GA_SendEvent_Failure("undo_action","undo_redo"))},ba:function(){var e=this;if(!e.historyTracker.canRedo())return Promise.reject({source:"files.model",fn:"pvRedoLastActionAsync",message:"No redo action exists."});var t,n=e.historyTracker.popRedo(),i=n.action;switch(i){case"delete":t=e.wa(n);break;case"updatePath":t=e.ya(n);break;case"addFile":t=e.ka(n);break;case"addFolder":t=e.xa(n);break;default:t=Promise.reject({source:"files.model",fn:"pvRedoLastActionAsync",action:i,message:"Redo history action unrecognized"})}return t.then(t=>{e.historyTracker.pushUndo(t)}).then(GA_SendEvent_Success("redo_action","undo_redo"),GA_SendEvent_Failure("redo_action","undo_redo"))},pa:function(e){var{oldpath:t,path:n}=e;return GFS.mv(n,t,{updateStatus:!0}).then(()=>e)},wa:function(e){var{oldpath:t,path:n}=e;return GFS.mv(t,n,{updateStatus:!0}).then(()=>e)},va:function(e){return ENV.trashDirAsync().then(t=>GFS.rm(e.path,{tmpDir:t,updateStatus:!0}).then(({oldpath:t,path:n})=>(Object.assign(e,{oldpath:t,path:n}),e)))},ka:function(e){return this.pa(e).then(()=>(e.path=e.oldpath,e))},ga:function(e){return this.va(e)},xa:function(e){return this.pa(e)},ma:function(e){var{path:t,oldpath:n}=e;return this.sa({oldpath:t,path:n}).then(()=>e)},ya:function(e){var{path:t,oldpath:n}=e;return this.sa({oldpath:n,path:t}).then(()=>e)},Sa:function(e){var t=this.session.Oe();return this.gitClient.mi(t,GFS.relativeTo(e,t))},Aa:function(e){var t=this,n=t.session.Oe();return t.gitClient.Yn(n,GFS.relativeTo(e,n)).then(n=>null===n?t._a(e):GFS.write(e,n,{updateStatus:!0}).then(()=>t.observable.run({action:"update",path:e}))).then(GA_SendEvent_Success("git_revert_file","git_core"),GA_SendEvent_Failure("git_revert_file","git_core"))},ki:function(e){return this.gitClient.yi(e).then(GA_SendEvent_Success("push_git_repo","git_core"),GA_SendEvent_Failure("push_git_repo","git_core"))},Ca:function(e){return ENV.trashDirAsync().then(t=>GFS.rm(e,{tmpDir:t,updateStatus:!0}))},_a:function(e){var t=this;return t.Ca(e).then(({oldpath:e,path:n})=>{t.ha({action:"delete",label:"Delete",oldpath:e,path:n})},e=>t.Fa(e))},Ia:function(e,t,n){if(0==e.length)return Promise.reject("Path cannot be empty.");var i=t?t.path:this.session.Oe();if(!i)return Promise.reject("Parent path cannot be empty.");if(e=GFS.join(i,e),!n){var o=this.editor.Rn();switch(GFS.ext(e)){case".html":n=this.templates.pt(o);break;case".js":n=this.templates.ft(o);break;case".css":n=this.templates.vt(o);break;default:n=""}}return this.Ea(e,n).then(()=>e)},$a:function(e,t){if(0==e.length)return Promise.reject("Path cannot be empty.");return e=GFS.join(t?t.path:this.session.Oe(),e),this.Pa(e)},Ga:function(e,t){if(0==e.length)return Promise.reject("Name cannot be empty.");var n=GFS.join(GFS.dirname(t.path),e);return this.ja(t.path,n,"Rename")},Ta:function(e,t){var n=GFS.join(t,GFS.basename(e));return this.ja(e,n,"Move")},ja:function(e,t,n){return this.sa({oldpath:e,path:t}).then(()=>{this.ha({action:"updatePath",label:n,oldpath:e,path:t})})},Oa:function(e,t){return GFS.write(e,t,{updateStatus:!0})},Ea:function(e,t){var n=this;return n.Oa(e,t).then(()=>{n.ha({action:"addFile",label:"Add File",path:e,content:t})}).catch(e=>n.Fa(e))},Ba:function(e){return GFS.mkdir(e)},Pa:function(e){var t=this;return t.Ba(e).then(()=>{t.ha({action:"addFolder",label:"Add Folder",path:e})}).catch(e=>t.Fa(e))},La:function(e){var t=this;return new Promise((function(n,i){t.prompt.H(e+" Total Conflicts Found",null,{text:"Do you want to recreate these "+e+" files?",cancelLabel:"KEEP FILES",okLabel:"RECREATE FILES",onResult:n,onDismiss:i})}))},Ra:function(e,t){for(var n=this,i=[],o=0;o<t.length;o++)i.push(n.Ua(t[o]).then((function(t){return{path:GFS.join(e,t.name),data:t.data}}),(function(){n.messages.Tt("fileEncodeError")})));var a=!1;return Promise.all(i).then((function(e){var t=e.map(e=>e.path);return n.Ma(t).then((function(e){if(e.length>0)return n.La(e.length).then((function(){return a=!0,e}),(function(){return a=!1,e}))})).then((function(t){return Promise.all(e.map((function(e){return t&&t.includes(e.path)?a?n._a(e.path).then((function(){return n.Ea(e.path,e.data)})):void 0:n.Ea(e.path,e.data)})))}))}))},Ma:function(e){return Promise.all(e.map(e=>GFS.exists(e))).then(t=>t.map((t,n)=>t?e[n]:null).filter(e=>e))},Ua:function(e){return new Promise((function(t,n){var i=new FileReader;i.addEventListener("error",(function(e){n(e)})),i.addEventListener("load",(function(){t({name:e.name,data:i.result})})),i.readAsArrayBuffer(e)}))},Fa:function(e){switch(e.code){case GlobalErrorCodes.FileNotFound:this.messages.Tt("fileNotFoundError",{name:GFS.basename(e.path)});break;default:$console.warn(`Failed to handle database error code: ${e.code}`),this.messages.Tt("databaseError")}return Promise.reject(e)}}),m.module("files").require("model","path","session","messages","templates","prompt","history","diff","project","gitClient","checkoutBranch","addBranch","commitMessage","gitRemotes","initRepo","string","fileTreeController","metadata","gitLogger","zipper","memory","share").__init__((function(e,{path:t,model:n,session:i,messages:o,templates:a,prompt:r,editor:s,viewer:c,history:l,diff:u,project:d,gitClient:h,checkoutBranch:f,addBranch:p,commitMessage:m,gitRemotes:v,initRepo:g,string:b,fileTreeController:w,metadata:y,gitLogger:k,zipper:x,memory:S,share:A}){Object.assign(e,{path:t,model:n,session:i,messages:o,templates:a,prompt:r,editor:s,viewer:c,history:l,diff:u,project:d,gitClient:h,checkoutBranch:f,addBranch:p,commitMessage:m,gitRemotes:v,initRepo:g,string:b,fileTreeController:w,metadata:y,gitLogger:k,zipper:x,memory:S,share:A}),e.minimatch=window.minimatch,e.observable=new ObservableClass,e.historyTracker=new l.HistoryTracker,e.treeController=new w.FileTreeController(e.cn),e.fileQuery={searchPhrase:""},y.observable.subscribe(({path:t,action:n,status:i})=>{var o=e.ln();switch(n){case"updateStatus":var a=o.get(t);a&&o.markStatus(a,i),e.za()}});var _=e.path.Ge;GFS.observable.subscribe(({action:t,type:n,path:o,oldpath:a})=>{var r=i.Pe();if(r){var s=e.ln(),c=r.dir,l=r.pdir||c;if(l&&GFS.childOf(a,l)&&!_(a))switch(t){case"mv":case"rmdir":case"rm":var u=s.get(a);u&&s.remove(u),$console.log(`[file:${t}] ${a}`)}if(c&&GFS.childOf(o,c)&&!_(o))switch(t){case"mv":"file"===n?s.get(o)||s.addLeaf(o):"folder"===n&&(s.get(o)||(o===c?s.addRoot(o):s.addBranch(o)),s.sync(o)),$console.log(`[file:sync] ${n}: ${o}`);break;case"write":s.get(o)||s.addLeaf(o);break;case"mkdir":s.get(c)||s.addRoot(c),GFS.normalizePath(o)!==c&&GFS.relativeTo(o,c).split("/").map((e,t,n)=>{var i=`${c}/${n.slice(0,t+1).join("/")}`;i===c||s.get(i)||s.addBranch(i)})}}}),i.observable.subscribe(({action:t,project:n})=>{switch(t){case"setProject":e.Da(n);break;case"open":var i=e.ln(),{dir:o,currentFilePath:a}=n;return i.clearAll(),e.da(),e.Qi().showBatch("list"),i.addRoot(o),i.sync(o).then(()=>a?(a.startsWith(o)||(a=GFS.join(o,a)),e.observable.run({action:"open",path:a,preserveHistory:!0,showInTree:!0,skipSessionSave:!0})):e.observable.run({action:"open",path:null})).then(()=>y.N(n)).then(()=>S.fe())}})})).def({u:function(){return $$("menuContainer")},ln:function(){return this.treeController},cn:function(){return $$("filesTree")},Na:function(){return $$("filesGitList")},Qi:function(){return $$("filesContainer")},contextMenu:function(){return $$("fileContextMenu")},Va:function(){return $$("filesGitInitMenu")},Ha:function(){return $$("filesAddMenuList")},Wa:function(){return $$("filesAddMenuIcon")},Ka:function(){this.Wa().dropdownPopup.close(),this.dropdownMenu.close()},za:UIkit2.Utils.debounce((function(){var e=this.metadata.Le();e.sort(),this.Na().setData(e)}),150),Da:function(e){if(e){var{git:t,branch:n}=e;$$("filesGitActionsContainer").showBatch(t?"git":"init"),$$("filesCurrentBranchItem").setValue(`Branch: ${n}`)}else $$("filesActionsContainer").showBatch(),$$("filesGitActionsContainer").showBatch()},qa:function(e){var{pid:t,defaultLaunchFilePath:n}=this.session.Pe(),i=this.ln();return i.setFileDefaultFlag(e,!0),n&&i.setFileDefaultFlag(i.get(n),!1),this.model.Ke(t,{defaultLaunchFilePath:e.path})},Ya:function(e,t){var n=this;n.prompt.H("ADD FILE","",{placeholder:"Enter Name or Path",showInput:!0,onResult:function(i){return n.Ia(i,e,t).then((function(e){return n.observable.run({action:"open",path:e})})).then(GA_SendEvent_Success("add_file","files"),GA_SendEvent_Failure("add_file","files"))},onValidate:n.Qa.bind(n,!1,e.path)})},_o:function(e,t){(e=e||this.ln().root())&&this.Ya(e,t)},Ja:function(e){var t=this;t.prompt.H("ADD FOLDER","",{placeholder:"Enter Name or Path",showInput:!0,onResult:function(n){return t.$a(n,e).then(GA_SendEvent_Success("add_folder","files"),GA_SendEvent_Failure("add_folder","files"))},onValidate:t.Qa.bind(t,!1,e.path)})},Za:function(e){(e=e||this.ln().root())&&this.Ja(e)},Xa:function(e){var t=this,n="Rename "+(e.file?"File":"Folder");t.prompt.H(n,e.label,{placeholder:"Enter a new name or path",showInput:!0,onResult:function(n){return t.Ga(n,e).then(GA_SendEvent_Success("rename_file","files"),GA_SendEvent_Failure("rename_file","files"))},onValidate:t.Qa.bind(t,!0,GFS.dirname(e.path))})},er:function(e){var t=this;t.prompt.H("Delete "+(e.file?"File":"Folder"),"",{text:`Delete '${e.label}'?`,okLabel:"DELETE",onResult:function(){return t._a(e.path).then(GA_SendEvent_Success("delete_file","files"),GA_SendEvent_Failure("delete_file","files"))}})},tr:function(e){this.prompt.H("Revert File","",{text:`Revert changes to '${GFS.basename(e)}'?`,okLabel:"REVERT",onResult:this.Aa.bind(this,e)})},nr:function(e){this.prompt.H("Revert All","",{text:"Revert all changes back to the HEAD commit? Warning: changes will be permanently lost!",okLabel:"REVERT",onResult:this.ua.bind(this,e)})},Qa:function(e,t,n,i,o){if(0===n.length)i("Name cannot be empty.");else{var a=this.path.xt(n);if(a)i("Invalid character detected in name: "+a);else{var r=GFS.join(t,n);!e&&this.ln().get(r)?i("Please change the name as it already exists."):(i(null),o&&o())}}},ir:function(){var e=$$("filesUndoIcon"),t=$$("filesRedoIcon");if(e){var n=this.historyTracker.getLastUndo();n?(e.enable(),e.setLabel("Undo "+n.label)):e.disable()}if(t){var i=this.historyTracker.getLastRedo();i?(t.enable(),t.setLabel("Redo "+i.label)):t.disable()}},or:function(e,t){var n=e&&e.path||"";return n.slice(n.indexOf("/")).toLowerCase().includes(t)},ar:function(e){var t=this,n=t.fileQuery.searchPhrase.toLowerCase();if(n){var i=RegExp("("+t.string.Et(n)+")","ig");return i.test(e.name)?(e.label=e.name.replace(i,'<span class="x-search-highlight">$&</span>'),t.cn().refreshItem(e)):e.label!==e.name&&(e.label=e.name,t.cn().refreshItem(e)),e.$branch?e.$children.some((function(e){return t.or(e,n)})):t.or(e,n)}return e.label!==e.name&&(e.label=e.name,t.cn().refreshItem(e)),!e.$parentClosed}}),m.module("files").require("fileTree").__init__((function(e,{fileTree:t}){var n={id:"filesBarContainer",flexSize:"none",flexLayout:"column",cls:"x-menu-title-bar shadow",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:"FILES",on:{onToggled:function(e){var t=$$("filesScroller");e.visible?t.show():t.hide()}}},{id:"filesActionsContainer",cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{batch:"search",view:"menuToggle",cls:"x-menu-icon",icon:"search",title:"Search Files",on:{onToggled:function(){var e=$$("filesSearch");this.isSelected()?(e.show(),e.focus()):e.hide()}}},{id:"filesAddMenuIcon",view:"menuIcon",batch:"add",icon:"plus",title:"Add Files",dropdownOptions:{pos:"bottom-right",relativeTo:"filesBarContainer",dropdownAnimation:""},dropdown:{id:"filesAddMenuList",view:"list",listStyle:"dropdown",data:[{view:"link",value:"file",icon:"file",label:"New File"},{view:"link",value:"folder",icon:"folder",label:"New Folder"},r("filesUploadButton"),{$divider:!0},{id:"filesUndoIcon",view:"link",value:"undo",icon:"reply",label:"Undo",disabled:!0},{id:"filesRedoIcon",view:"link",value:"redo",icon:"forward",label:"Redo",disabled:!0}],on:{onOpen:function(){$$("filesUploadButton").reset(),e.ir()},onItemClick:function(t){if(e.session.Pe())switch(t.value){case"file":e._o();break;case"folder":e.Za();break;case"undo":e.fa();break;case"redo":e.ba()}}}}}]}]},{id:"filesSearch",cls:"x-menu-search",view:"searchField",batch:"search",hidden:!0,flexSize:"none",placeholder:"Search Filename",clearSearch:!0,on:{onFocus:function(){e.u().$blockDrawerPan=!0,UI.addClass(this.el,"uk-focus")},onBlur:function(){e.u().$blockDrawerPan=!1,UI.removeClass(this.el,"uk-focus")},onInput:function(){e.fileQuery.searchPhrase=this.getValue(),e.cn().refresh()}}}]},i={id:"filesGitBarContainer",flexSize:"none",flexLayout:"column",cls:"x-menu-title-bar shadow collapsed",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:"SOURCE CONTROL",visible:!1,on:{onToggled:function(e){var t=$$("filesGitScroller");e.visible?t.show():t.hide()}}},{id:"filesGitActionsContainer",cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{view:"menuIcon",batch:"init",icon:"plus",title:"Git Init",on:{onClick:function(){var t=e.session.Pe();t&&e.initRepo.Zo(t)}}},{view:"menuIcon",batch:"git",icon:"git-fork",title:"Branch/Remotes",dropdownOptions:{pos:"bottom-right",relativeTo:"filesGitBarContainer",dropdownAnimation:""},dropdown:{view:"list",listStyle:"dropdown",data:[{view:"link",value:"git:branch",icon:"plus",label:"Add Branch"},{view:"link",value:"git:checkout",icon:"git-branch",label:"Checkout Branch"},{view:"link",value:"git:fetch",icon:"download",label:"Fetch Remote"},{view:"link",value:"git:log",icon:"list",label:"View Logs"}],on:{onItemClick:function(t){var n=e.session.Oe();if(n)switch(t.value){case"git:branch":e.addBranch.Mo(n);break;case"git:fetch":e.gitRemotes.ia(n);break;case"git:checkout":e.checkoutBranch.Wo(n);break;case"git:log":e.gitLogger.ta(n)}}}}},{view:"menuIcon",batch:"git",icon:"git-branch",title:"Git Operations",dropdownOptions:{pos:"bottom-right",relativeTo:"filesGitBarContainer",dropdownAnimation:""},dropdown:{view:"list",listStyle:"dropdown",data:[{id:"filesCurrentBranchItem",view:"label",cls:"uk-nav-header",label:"Branch:"},{id:"filesCommitAllMenuItem",view:"link",value:"git:commit",icon:"file-edit",label:"Commit All"},{view:"link",value:"git:pull",icon:"pull",label:"Pull"},{id:"filesPushMenuItem",view:"link",value:"git:push",icon:"push",label:"Push"},{id:"filesRevertAllMenuItem",view:"link",value:"git:revert",icon:"reply",label:"Revert All"}],on:{onOpen:function(){var t=e.session.Oe();if(t){var n=(e,t)=>t?`${e} <span class='x-menu-alt-text uk-text-primary'>${t}</span>`:e;e.gitClient.Si(t).then(e=>{$$("filesPushMenuItem").setLabel(n("Push",e))});var i=e.Na().data,o=i?i.length:0;$$("filesCommitAllMenuItem").setLabel(n("Commit All",o)),$$("filesRevertAllMenuItem").setLabel(n("Revert All",o))}},onItemClick:function(t){var n=e.session.Oe();if(n)switch(t.value){case"git:commit":e.la(n);break;case"git:revert":e.nr(n);break;case"git:pull":e.gitClient.ri(n);break;case"git:push":e.ki(n)}}}}}]}]}]};e.dropdownMenu=UI.new({view:"dropdown",dropdownAnimation:"",dropdown:{id:"fileContextMenu",view:"list",data:[{id:"pasteItemContextButton",view:"link",value:"paste",icon:"move",label:"Paste",batch:"pastable"},{$divider:!0,batch:"pastable"},{id:"newFileContextButton",view:"link",value:"new",icon:"file",label:"New File",batch:"folder"},{id:"newFolderContextButton",view:"link",value:"folder",icon:"folder",label:"New Folder",batch:"folder"},r("uploadFileContextButton"),{$divider:!0,batch:"folder"},{id:"cutItemContextButton",view:"link",value:"cut",icon:"move",label:"Cut",batch:"cutable"},{id:"renameItemContextButton",view:"link",value:"rename",icon:"pencil",label:"Rename",batch:"renameable"},{id:"deleteItemContextButton",view:"link",value:"delete",icon:"trash",label:"Delete",batch:"editable"},{id:"shareItemContextButton",view:"link",value:"share",icon:"link",label:"Share Link",batch:"editable"},{id:"exportItemContextButton",view:"link",value:"export",icon:"download",label:"Export",batch:"exportable"},{$divider:!0,batch:"folder:close"},{view:"link",value:"expand",icon:"expand",label:"Expand",batch:"folder:close"},{$divider:!0,batch:"folder:open"},{view:"link",value:"collapse",icon:"shrink",label:"Collapse",batch:"folder:open"},{$divider:!0,batch:"git:divider"},{view:"link",value:"diff",icon:"code",label:"View Diff",batch:"git:changed"},{view:"link",value:"resolve-conflict",icon:"check",label:"Mark Resolved",batch:"git:conflict"},{view:"link",value:"revert",icon:"refresh",label:"Revert",batch:"git:changed"},{$divider:!0,batch:"file"},{view:"link",value:"edit",icon:"file-edit",label:"Edit",batch:"file:edit"},{view:"link",value:"preview",icon:"forward",label:"Preview",batch:"file:preview"},{id:"setAsDefaultItemContextButton",view:"link",value:"default",icon:"star",label:"Launch Default",batch:"file:default"}],on:{onOpen:function(t,n,i){var o=["renameable"];if(this.masterConfig=i,i.root||(o.push("editable"),o.push("cutable")),i.file){var a=GFS.ext(i.path||""),r=e.editor.Sn(a),s=e.viewer.Sn(a),c=!1;o.push("file"),i.status&GitStatusTypes.CHANGED&&(e.path.St(i.path)||(o.push("git:changed"),c=!0)),i.status&GitStatusTypes.CONFLICT&&(o.push("git:conflict"),c=!0),c&&o.push("git:divider"),i.isDefaultLaunchFile||".html"!=a||o.push("file:default"),!r&&s||o.push("file:edit"),s&&o.push("file:preview")}else{if(this.source){var l=this.source.path,u=i.path;l===u||u.startsWith(l)||o.push("pastable")}o.push("folder"),o.push(i.$closed?"folder:close":"folder:open")}o.push("exportable"),this.showBatch(o),$$("uploadFileContextButton").reset()},onClose:function(){this.masterConfig=null},onItemClick:function(t){var n=t.value,i=this.masterConfig,o=i&&i.path;switch(n){case"cut":this.source=i,GA_SendEvent("cut_file","files");break;case"paste":var a=this.source&&this.source.path;e.ln().get(a)&&(a===o||o.startsWith(a)||(e.Ta(a,o),i.$branch&&i.$closed&&e.cn().open(i))),this.source=null,GA_SendEvent("paste_file","files");break;case"edit":e.observable.run({action:"open",path:o});break;case"share":e.share.lt(o);break;case"export":i.file?e.zipper.Bt(o):e.zipper.st(o);break;case"preview":e.observable.run({action:"open",path:o,preview:!0});break;case"expand":e.ln().openBranch(o);break;case"collapse":e.ln().closeBranch(o);break;case"folder":e.Za(i);break;case"new":e._o(i);break;case"rename":i.root?e.ra(e.session.Pe()):e.Xa(i);break;case"delete":e.er(i);break;case"diff":e.diff.qn(o);break;case"revert":e.tr(o);break;case"resolve-conflict":e.Sa(o);break;case"default":e.qa(i)}}}}},document.body);var o={id:"filesContainer",batch:"projects",flex:!1,flexLayout:"",flexSize:"",fill:"height",cells:[{id:"filesTree",view:"fileTree",batch:"list",flexSize:"flex",dataTransfer:"path",data:[],filter:e.ar.bind(e),allowDrag:!0,context:!0,draggable:function(){return!UI.support.touch},droppable:function(e){return!e.file},on:{onAdd:function(e){e.$closed=e.$branch&&e.$depth>0},onItemContext:function(t,n,i){i&&UI.preventEvent(i),e.dropdownMenu.open(t),e.dropdownMenu.position(i.clientY+2,i.clientX),e.dropdownMenu.moveWithinBoundary()},onItemDragStart:function(){e.u().$blockDrawerPan=!0},onItemDragEnd:function(){e.u().$blockDrawerPan=!1},onItemDrop:function(t,n){e.Ta(n.path,t.path),t.$branch&&t.$closed&&e.cn().open(t)},onItemClick:function(t,n,i){UI.preventEvent(i),e.Ka(),"I"==i.target.tagName&&UI.hasClass(i.target,"menu")?(e.dropdownMenu.open(t),e.dropdownMenu.positionNextTo(n,"bottom-right",this.config.dropdownMarginX,this.config.dropdownMarginY),e.dropdownMenu.moveWithinBoundary(),this.toggle(t)):t.$branch||e.observable.run({action:"open",path:t.path})}}},{batch:"list",view:"spacer",height:128}],on:{onInitialized:function(){this.showBatch()}}},a={id:"filesGitList",view:"list",cls:"x-file-git-list",listStyle:"side",itemTagClass:"uk-flex",template:function({status:n,path:i}){var o=e.session.Oe(),a=t.Mt(n),r=GFS.basename(i),s=GFS.dirname(GFS.relativeTo(i,o));return`<div class='uk-flex-item-1'>${`<span class='x-git-list-name x-text-overflow-ellipsis ${a}'>${r}</span>`}${"."!==s?`<span class='x-git-ignored x-git-list-dir x-text-overflow-ellipsis'>${s}</span>`:""}</div><div class='x-menu-icons'><i title='Revert' class='uk-icon-refresh revert'></i></div>`},on:{onItemClick:function({path:t},n,i){UI.preventEvent(i),"I"==i.target.tagName?UI.hasClass(i.target,"revert")&&e.tr(t):e.diff.qn(t)}}};function r(t){return{id:t,view:"link",uploader:"multiple",value:"upload",batch:"folder",icon:"upload",label:"Upload File",reset:function(){this._uploader.value=""},on:{onClick:function(t,n,i){this.reset(),this.parentConfig=e.contextMenu().masterConfig,e.session.Oe()||UI.preventEvent(i)},onFileChange:function(t,n){var i=e.session.Oe();if(i){var o=this.parentConfig?this.parentConfig.path:i;e.Ra(o,n.files),GA_SendEvent("upload_files","files")}}}}}e.view=UI.new({batch:"files",fill:"height",flexLayout:"column",cls:"x-max-width-100",cells:[n,{id:"filesScroller",view:"scroller",flexSize:"flex",cells:[o],on:{onScroll:function(){e.Ka()}}},i,{id:"filesGitScroller",view:"scroller",hidden:!0,flexSize:"flex",cells:[a],on:{onScroll:function(){e.Ka()}}}]})})),m.module("library").require("path","model","session","dom","set").__init__((function(e,{path:t,model:n,session:i,dom:o,set:a}){Object.assign(e,{path:t,model:n,session:i,dom:o,set:a,urls:{}})})).def({rr:function(e){var t=this;return e.filter((function(e){return t.path.we(e)})).map((function(e){return t.path.ye(e)}))},sr:function(){var e=this;return Object.keys(e.urls).reduce((function(t,n){var i=e.urls[n],o=e.set.It(t,i);return o.length?t.concat(o):t}),[])}}),m.module("projects").def({cr:UIkit2.Utils.debounce((function(){this.M()}),100,!1),M:function(){var e=this;return e.model.Ye().then((function(t){(t=t.filter(e=>e&&e.dir).map(({dir:e,git:t,modifiedAt:n})=>({modifiedAt:n,git:t,dir:e}))).sort((e,t)=>t.modifiedAt-e.modifiedAt),e.container().showBatch(t.length>0?"list":"empty"),e.Oi().setData(t),e.lr()}))}}),m.module("projects").require("prompt","project","messages","session","date","path","zipper","cloneRepo","addGitAuth","checkoutBranch","gitClient","model","landing","string","files").__init__((function(e,{prompt:t,project:n,messages:i,session:o,date:a,addGitAuth:r,path:s,cloneRepo:c,zipper:l,main:u,checkoutBranch:d,gitClient:h,model:f,landing:p,string:m,files:v}){Object.assign(e,{prompt:t,project:n,messages:i,session:o,date:a,addGitAuth:r,path:s,cloneRepo:c,zipper:l,main:u,checkoutBranch:d,gitClient:h,model:f,landing:p,string:m,files:v,observable:new ObservableClass}),o.observable.subscribe(({action:t})=>{"open"!==t&&"close"!==t||e.lr()}),f.observable.subscribe(({type:t})=>{"project"!==t&&"projects"!==t||e.cr()})})).def({lr:function(){var e=this.Oi();e.refresh(),e.deselectAll();var t=e.findOne("pid",this.session.Je());t&&e.select(t)},ur:function(){return $$("projectsSearch")},container:function(){return $$("projectsContainer")},Oi:function(){return $$("projectsList")},dr:function(){this.projectMenu.close()},hr:function(e){var t=this,n=String(Math.random()).slice(2,5),i=GFS.basename(e.dir);t.prompt.H(`Delete project '${i}'?`,"",{text:UI.interpolate('Type <span class="uk-text-danger">{{phrase}}</span> to confirm. This will PERMANENTLY delete the project!',{phrase:n}),showInput:!0,onValidate:function(e,t,n){t(null),n&&n()},onResult:function(o){if(o!==n)return t.prompt.sn(`What you typed did not match '${n}'.`),!0;t.model.G(e.pid).then((function(){t.messages.Tt("deleteProjectMessage",{name:i})}))}})}}),m.module("projects").__new__((function(e){var t={cls:"x-menu-title-bar shadow",id:"projectsBarContainer",flexSize:"none",flexLayout:"column",cells:[{flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:"PROJECTS",collapsable:!1,on:{onToggled:function(e){var t=$$("projectsScroller");e.visible?t.show():t.hide()}}},{id:"projectsActionsContainer",cls:"x-menu-icons",flexSize:"none",defaultBatch:"",cells:[{id:"projectsSearchButton",cls:"x-menu-icon",view:"menuToggle",icon:"search",title:"Search Projects",on:{onToggled:function(){var t=e.ur();this.isSelected()?(t.show(),t.focus()):t.hide()}}},{id:"projectsGitButton",view:"menuIcon",icon:"git-fork",title:"Git Clone",dropdownOptions:{pos:"bottom-right",relativeTo:"projectsBarContainer",dropdownAnimation:""},dropdown:{id:"projectsGitListMenu",view:"list",listStyle:"dropdown",data:[{view:"link",value:"git:clone",icon:"git-fork",label:"Clone Git Repo"},{view:"link",value:"git:auth",icon:"lock",label:"Git Authentication"}],on:{onItemClick:function(t){switch(t.value){case"git:auth":e.addGitAuth.zo();break;case"git:clone":e.cloneRepo.Yo()}}}}},{id:"projectsAddButton",view:"menuIcon",icon:"plus",title:"Add Project",dropdownOptions:{pos:"bottom-right",relativeTo:"projectsBarContainer",dropdownAnimation:""},dropdown:{id:"projectsAddListMenu",view:"list",listStyle:"dropdown",data:[{view:"link",value:"new",icon:"album",label:"New Project"},{id:"projectsImportZipButton",view:"link",value:"import:zip",icon:"upload",label:"Import Zip File",uploader:!0,on:{onClick:function(){this._uploader.value=""},onFileChange:function(t,n){var i=n.files[0];i&&e.project.Eo(i)}}},{$divider:!0},{view:"link",value:"update",icon:"comments",label:"View Updates"},{view:"link",value:"lab",icon:"thumbnails",label:"View Labs"}],on:{onItemClick:function(t){switch(t.value){case"new":e.project.modal.open();break;case"update":e.main.Qi().showLanding(),e.landing.Ti().switchToTab("update");break;case"lab":e.main.Qi().showLanding(),e.landing.Ti().switchToTab("lab")}}}}}]}]},{id:"projectsSearch",cls:"x-menu-search",view:"searchField",hidden:!0,flexSize:"flex",placeholder:"Search Project Name",clearSearch:!0,on:{onFocus:function(){e.observable.run({action:"blockDrawer",block:!0}),UI.addClass(this.el,"uk-focus")},onBlur:function(){e.observable.run({action:"blockDrawer",block:!1}),UI.removeClass(this.el,"uk-focus")},onInput:function(){e.projectQuery.searchPhrase=this.getValue(),e.Oi().refresh()}}}]};e.projectMenu=UI.new({view:"dropdown",dropdown:{view:"list",listStyle:"dropdown",data:[{view:"link",value:"download",icon:"download",label:"Download ZIP"},{view:"link",value:"rename",icon:"pencil",label:"Rename"},{view:"link",value:"delete",icon:"trash",label:"Delete"}],on:{onItemClick:function(t){var n=this.project;if(n)switch(t.value){case"download":e.zipper.st(n.dir);break;case"rename":e.files.ra(n);break;case"delete":e.hr(n)}},onOpened:function(e,t,n){this.project=n}}}},document.body);var n={id:"projectsContainer",fill:"height",batch:"projects",flex:!1,flexLayout:"",flexSize:"",cells:[{id:"projectsList",view:"list",batch:"list",flexSize:"flex",listStyle:"side",filter:function(t){var n=e.projectQuery.searchPhrase.toLowerCase(),i=GFS.basename(t.dir),o=!0;if(n)if(o=i.toLowerCase().includes(n)){var a=RegExp("("+e.string.Et(n)+")","ig");t.label=i.replace(a,'<span class="x-search-highlight">$&</span>'),t.$dirty=!0}else t.$dirty=i!==t.label,t.label=i;else t.$dirty=t.label!==i,t.label=i;t.$dirty&&(this.refreshItem(t),t.$dirty=!1);return o},template:function(t){var{dir:n,modifiedAt:i,git:o,label:a}=t,r=`${o?"GIT ":""}${GFS.isIDB(n)?"IDB":""}`;return{flexLayout:"column",cls:"x-project-list-item",cells:[{cls:"x-list-item-meta",flexAlign:"middle",cells:[{view:"image",htmlTag:"SVG",margin:"right-sm",width:40,height:40,on:{onInitialized:function(){jdenticon.update(this.el,n)}}},{flex:!1,flexSize:"flex",style:{minWidth:0},cells:[{view:"label",flex:!0,htmlTag:"DIV",label:`<span class='x-text-overflow-ellipsis'>${a}</span>`+(r?`<small class='uk-text-muted uk-margin-small-left'>${r}</span>`:"")},{view:"label",text:"small",htmlTag:"DIV",label:"Modified "+e.date.yt(i)}]},{view:"menuIcon",tagClass:"",icon:"more-vertical",on:{onClick:function(n,i,o){o&&UI.preventEvent(o),e.projectMenu.open(t),e.projectMenu.positionNextTo(this.el,"bottom-right"),e.projectMenu.moveWithinBoundary()}}}]}]}},on:{onItemClick:function({pid:t}){return e.session.N(t)}}},{batch:"empty",textAlign:"center",flexLayout:"column",flexAlign:["center","middle"],cells:[{view:"label",cls:"uk-h5",padding:"large",label:"No projects found.",style:{height:"160px",opacity:.5}}]},{batch:"list",view:"spacer",height:128}]};e.view=UI.new({batch:"projects",fill:"height",cls:"x-max-width-100",flexLayout:"column",cells:[t,{id:"projectsScroller",view:"scroller",flexSize:"flex",cells:[n],on:{onScroll:function(){e.dr()}}}]}),e.projectQuery={searchPhrase:""}})),m.module("search").require("prompt","path","session","editor","messages","string","searchSettings").__init__((e,{path:t,prompt:n,session:i,editor:o,messages:a,string:r,searchSettings:s})=>{Object.assign(e,{path:t,prompt:n,session:i,editor:o,messages:a,string:r,searchSettings:s,observable:new ObservableClass}),e.entityMap={"&":"&amp","<":"&lt",">":"&gt",'"':"&quot","'":"&#39","/":"&#x2F","`":"&#x60","=":"&#x3D"},e.session.observable.subscribe(({action:t})=>{"open"===t&&e.Yi()}),e.searchSettings.observable.subscribe(({action:t})=>{switch(t){case"updateSettings":e.Ji()}}),e.Yi()}).def({pr:function(){return 500},Yi:function(){this.searchResults=[],this.searchTerm=null,this.running=!1,this.cn()&&(this.cn().setData([]),this.container().clearResults(),this.replaceInput().setValue(""),this.findInput().setValue(""))},u:function(){return $$("menuContainer")},statusLabel:function(){return $$("searchStatusLabel")},findInput:function(){return $$("searchFindInput")},replaceInput:function(){return $$("searchReplaceInput")},cn:function(){return $$("searchTree")},container:function(){return $$("searchContainer")},progress:function(){return $$("searchProgress")},isMatchCaseOn:function(){return $$("searchCaseSensitiveIcon").isSelected()},isMatchWholeWordOn:function(){return $$("searchWholeWordIcon").isSelected()},isRegExOn:function(){return $$("searchRegExIcon").isSelected()},clearAll:function(){this.cn().clearAll()},mr:function(e,t,n,i){return e=t?e:this.string.Et(e),e=i?"\\b"+e+"\\b":e,new RegExp(e,n?"gm":"igm")},vr:function(){var e=this.searchResults||[];return this.running?(this.messages.Tt("searchBusyError"),!1):0!==e.length},gr:function(e){var t=this,n=t.searchResults;if(t.vr()){for(var i,o,a={},r=0;r<n.length;r++)o=n[r],i=a[o.path]||[],a[o.path]=i,i.push({range:{start:o.start,end:o.end},text:e});return t.running=!0,PromisePool({data:Object.keys(a),promiseGenerator:function(e){return t.editor.hn({changes:a[e],path:e})},useRaf:!0}).then(()=>(t.running=!1,t.Ji()),e=>(t.running=!1,Promise.reject(e))).then(GA_SendEvent_Success("search_replace","search"),GA_SendEvent_Failure("search_replace","search"))}},br:function(){var e=this;e.vr()&&e.prompt.H("Confirmation",null,{text:`Replace all occurrences of <span class='uk-text-danger'>${e.searchTerm}</span> with\n            <span class='uk-text-danger'>${e.replaceInput().getValue()}</span>?`,onResult:function(){e.gr(e.replaceInput().getValue())},type:"confirm"})},wr:function(){var e=this,t=e.cn(),n=e.searchResults,i={};0!==n.length?(n=n.filter((function(n){var o=n.path;if(i[o]=1,t.getItem(o)||t.add({$branch:!0,file:!0,id:o,path:o,cls:"x-search-branch",label:GFS.basename(o)}),n.nodeId){var a=t.getItem(n.nodeId);t.updateItem(a,{label:e.yr(n.line,n.match,n.start.row),row:n.start.row,column:n.start.column})}else n.nodeId=t.add({$branch:!1,$parent:o,search:!0,cls:"x-search-item",label:e.yr(n.line,n.match,n.start.row),path:n.path,row:n.start.row,column:n.start.column,file:n.file});return!0})),e.statusLabel().setValue((n.length>e.pr()?"Maximum reached: ":"")+`${n.length} results in ${Object.keys(i).length} files`)):e.container().displayNoResults()},kr:function(e,t,n,i,o){for(var a,r=[],s=0;s<o&&(a=t.exec(e));s++){var c=this.xr(e,a.index,a[0].length,i);r.push({start:this.Sr(e,a.index),end:this.Sr(e,t.lastIndex),range:c,line:e.slice(c.start,c.end),match:{start:a.index-c.start,end:t.lastIndex-c.start},path:n})}return r},Ji:function(){var e=this,t=e.findInput().getValue(),n=e.isMatchWholeWordOn(),i=e.isMatchCaseOn(),o=e.isRegExOn();if("string"!=typeof t||0===t.length)return Promise.reject("Invalid search pattern.");var a=e.mr(t,o,i,n),r=e.session.Oe(),s=e.pr(),c=e.searchSettings.un();if(!r)return Promise.reject("No current project.");e.searchTerm=t;var l=e.searchResults=[],u=e.progress();return e.cn().clearAll(),e.statusLabel().setValue("Searching..."),u.setValue(0),u.reveal(),GFS.readdirDeep(r).then(t=>{var n=(t=t.filter(t=>!e.path.Ge(t)&&!e.path.St(t)&&(!c||c.includes(t)))).length,i=0,o=0;return PromisePool({data:t,promiseGenerator:t=>l!==e.searchResults?($console.log("Search aborted."),Promise.reject("Search aborted.")):((o=++i/n*100)-u.getValue()>5&&u.setValue(o),GFS.readFile(t,{encoding:"utf8"}).then(n=>{var i=e.kr(n,a,t,32,s);return l.push.apply(l,i),l.length>=s?(l.length=s,$console.log("[search] Max results reached."),Promise.reject("Exceeded max number of results.")):l!==e.searchResults?($console.log("Search aborted."),Promise.reject("Search aborted.")):void(i.length&&e.wr())})),maxConcurrency:1,retryAttempts:0,useRaf:!0})}).then(GA_SendEvent_Success("search_find_display","search"),GA_SendEvent_Failure("search_find_display","search")).then((function(){e.Ar(),e.wr()}),(function(t){return e.Ar(),e.wr(),Promise.reject(t)}))},Ar:function(){var e=this.progress();e.setValue(100),setTimeout((function(){e.conceal(),e.setValue(0)}),500)},xr:function(e,t,n,i){i=(i=i||1e4)>n?i-n:0;var o=t+n,a=e.slice(Math.max(t-i,0),t),r=e.slice(o,o+i);return a=(a=a.split(/[\n\r]/).pop()).replace(/^\s+/,""),r=(r=r.split(/[\n\r]/).shift()).replace(/\s+$/,""),a.length+r.length>i&&(a=a.slice(Math.max(0,a.length-Math.floor(i/2))),r=r.slice(0,i-a.length)),{start:t-a.length,end:o+r.length}},Sr:function(e,t){var n=(e=e.slice(0,t)).split(/\r\n|\r|\n/g);return{row:n.length-1,column:n.pop().length}},yr:function(e,t,n){var i=this,o=t?t.start:-1,a=t?t.end:-1;return`<small class='x-search-item-row uk-text-muted'>${n}</small>`+e.split("").map((e,t)=>{var n=i.entityMap[e]||e;return t===o&&(n='<span class="x-search-highlight">'+n),t===a-1&&(n+="</span>"),n}).join("")}}),m.module("search").require("fileTree").__init__((function(e){var t=UI.new({id:"searchBarContainer",flexSize:"none",flexLayout:"column",cells:[{cls:"x-menu-title-bar",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:"FIND",on:{onToggled:function(e){var t=$$("searchFindInput");e.visible?(t.show(),t.focus()):t.hide()}}},{cls:"x-menu-icons",flexSize:"none",cells:[{id:"searchSettingsIcon",view:"menuIcon",icon:"list",title:"Filter Files",on:{onClick:function(){e.searchSettings.modal.open()}}}]}]},{id:"searchFindInput",cls:"x-menu-search",view:"searchField",placeholder:"Find Text",clearSearch:!0,searchOptions:[{id:"searchRegExIcon",view:"menuToggle",outline:!0,cls:"ace_icon regex",title:"Use RegEx"},{id:"searchCaseSensitiveIcon",view:"menuToggle",outline:!0,cls:"ace_icon case-sensitive",title:"Match Case"},{id:"searchWholeWordIcon",view:"menuToggle",outline:!0,cls:"ace_icon whole-word",title:"Match Whole Word"}],updateSearch:function(){return e.Ji()},on:{onKeyUp:function(e,t,n){"Enter"===n.key&&this.updateSearch()},onFocus:function(){e.observable.run({action:"blockDrawer",block:!0})},onBlur:function(){e.observable.run({action:"blockDrawer",block:!1})}}},{cls:"x-menu-title-bar",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:"REPLACE",visible:!1,on:{onToggled:function(e){var t=$$("searchReplaceInput");e.visible?(t.show(),t.focus()):t.hide()}}},{flexSize:"none",cells:[]}]},{id:"searchReplaceInput",view:"searchField",cls:"x-menu-search",hidden:!0,placeholder:"Replace Text",clearSearch:!0,on:{onKeyUp:function(t,n,i){"Enter"===i.key&&e.br()},onFocus:function(){e.u().$blockDrawerPan=!0},onBlur:function(){e.u().$blockDrawerPan=!1}}},{cls:"x-menu-title-bar shadow",flexSize:"none",flexSpace:"between",flexAlign:"middle",cells:[{view:"menuTitle",label:"RESULT",on:{onToggled:function(e){var t=$$("searchContainer");e.visible?t.show():t.hide()}}},{flexSize:"none",cells:[{id:"searchStatusLabel",view:"label",label:"",htmlTag:"SMALL",margin:"x"}]}]},{id:"searchProgress",view:"progress",size:"mini",color:"primary"}]}),n={id:"searchContainer",batch:"search",fill:"height",flexLayout:"column",cells:[{id:"searchTree",view:"fileTree",batch:"list",flexSize:"flex",allowDrag:!1,indentWidth:8,data:[],draggable:function(){return!1},orderAfter:function(e,t){var n=e.$parent==t.id,i=e.$depth<t.$depth,o=e.$parent==t.$parent;return n||i||o&&(e.$branch<t.$branch||e.row>t.row&&!e.$branch&&!t.$branch||e.label.toLowerCase()>t.label.toLowerCase()&&e.$branch&&t.branch)},on:{onAdded:function(){this.$count>1&&e.container().showBatch(["list"])},onItemClick:function(t){t.search&&e.observable.run({action:"jumpToFile",path:t.path,item:t})}}},{batch:"empty",textAlign:"center",fill:"height",flexLayout:"column",flexAlign:["center","middle"],cells:[{id:"searchEmptyMessage",cls:"uk-h5",view:"label",padding:"large",style:{height:"160px",opacity:.5}}]},{batch:"list",view:"spacer",height:256}],clearResults:function(){$$("searchEmptyMessage").setValue("Find and replace text across files within the project."),e.statusLabel().setValue("&nbsp"),this.showBatch(["empty"])},displayNoResults:function(){e.statusLabel().setValue("0 results")}};e.view=UI.new({batch:"search",fill:"screen",cls:"x-max-width-100",flexLayout:"column",cells:[t,{id:"searchScroller",view:"scroller",flexSize:"flex",cells:[n]}]})})),m.module("settings").__init__((function(e){e.supportAnimation=UIkit2.support.animation,e.supportTransition=UIkit2.support.transition})).def({_r:function(e){e?(UI.removeClass(document.body,"no-animation"),UIkit2.support.animation=this.supportAnimation,UIkit2.support.transition=this.supportTransition):(UI.addClass(document.body,"no-animation"),UIkit2.support.animation=!1,UIkit2.support.transition=!1)}}),m.module("settings").require("editor","session","preview","addGitAuth","vibrate","path").__init__((function(e,{editor:t,session:n,preview:i,addGitAuth:o,vibrate:a,path:r}){Object.assign(e,{editor:t,session:n,preview:i,addGitAuth:o,vibrate:a,path:r}),e.darkThemes=["monokai","ayu-mirage","dracula"]})).def({editorForm:function(){return $$("settingsEditorForm")},appearanceForm:function(){return $$("settingsAppearanceForm")},previewForm:function(){return $$("settingsPreviewForm")},touchForm:function(){return $$("settingsTouchForm")},Cr:function(){var e={};return UI.extend(e,this.editorForm().getValues()),UI.extend(e,this.appearanceForm().getValues()),UI.extend(e,this.previewForm().getValues()),UI.extend(e,this.touchForm().getValues()),e.dark=this.darkThemes.includes(e.appearanceTheme),e},R:function(){return ENV.settingsConfigPathAsync().then(e=>GFS.write(e,JSON.stringify(this.Cr())))},Fr:function(){var e=this.Cr();return ENV.filesDirAsync(".settings").then(t=>GFS.readFile(t,{encoding:"utf8"}).then(e=>JSON.parse(e)).catch(()=>tryParseJSON(localStorage.settings)).then(t=>(UI.extend(e,t),e)))},_:function(e){-1!==this.darkThemes.indexOf(e)?UI.addClass(document.documentElement,"dark"):UI.removeClass(document.documentElement,"dark"),this.editor.In(e)},O:function(e){this.editor.Tn(e)},B:function(e){this.editor.Ln(e)},L:function(e){this.editor.Bn(e)},U:function(){var e=this;return e.Fr().then(t=>{e.Ir(t),e.Er(t),e.$r(t),e.Pr(t)})},Er:function(e){this.appearanceForm().setValues(e),this._r(e.appearanceAnimations),this._(e.appearanceTheme)},Ir:function(e){var t=this.editorForm();t.setValues(e),t.getFieldset().$components.forEach((function(t){m.isDefined(e[t.name])&&t.dispatch("onChange")}))},$r:function(e){this.previewForm().setValues(e),this.preview.Io(e.previewUseLiveMode)},Pr:function(e){this.touchForm().setValues(e),this.touchForm().getFieldset().$components.forEach((function(t){m.isDefined(e[t.name])&&t.dispatch("onChange")}))}}),m.module("settings").__new__((function(e){e.deviceTouchSupport=UI.support.touch})).__init__((function(e,{logger:t,addGitAuth:n,cookieBanner:i,editor:o}){var a={id:"settingsEditorForm",view:"form",margin:"top",formStyle:"horizontal line",fieldset:[{formLabel:"Autocomplete",view:"toggle",name:"editorAutocomplete",checked:!0,on:{onChange:function(t,n,i){var a=this.getValue();o.En(a),i&&(e.R(),GA_SendEvent("change_autocomplete","settings"))}}},{formLabel:"Check Syntax",view:"toggle",name:"editorUseAceWorkers",checked:!0,on:{onChange:function(t,n,i){var a=this.getValue();o.xn(a),i&&(e.R(),GA_SendEvent("change_check_syntax","settings"))}}},{$cls:"uk-form-row uk-hidden-notouch",formLabel:"Haptic Keypress",view:"toggle",name:"editorHapticKeypress",checked:!0,on:{onChange:function(t,n,i){var a=this.getValue();o.Un(a),i&&(e.R(),GA_SendEvent("change_haptic_keypress","settings"))}}},{formLabel:"Font Size",view:"select",name:"editorFontSize",data:[{value:"10px",label:"10px"},{value:"11px",label:"11px"},{value:"12px",label:"12px"},{value:"13px",label:"13px"},{value:"14px",label:"14px"},{value:"15px",label:"15px"},{value:"16px",label:"16px"}],on:{onInitialized:function(){this.setValue(window.innerWidth<=480?"12px":"14px")},onChange:function(t,n,i){e.O(this.getValue()),i&&(e.R(),GA_SendEvent("change_font_size","settings"))}}},{formLabel:"Indent Guides",view:"toggle",name:"editorIndentGuides",checked:!0,on:{onChange:function(t,n,i){o.On(this.getValue()),i&&e.R()}}},{formLabel:"Line Numbers",view:"toggle",name:"editorLineNumbers",checked:!0,on:{onChange:function(t,n,i){e.L(this.getValue()),i&&e.R()}}},{formLabel:"Tab Size",view:"select",name:"editorTabSize",data:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"8",label:"8"}],on:{onInitialized:function(){this.setValue("2")},onChange:function(t,n,i){e.B(this.getValue()),i&&(e.R(),GA_SendEvent("change_tab_size","settings"))}}},{formLabel:"Word Wrap",view:"toggle",name:"editorWordWrap",checked:!0,on:{onChange:function(t,n,i){var a=this.getValue();o.$n(a),i&&(e.R(),GA_SendEvent("change_word_wrap","settings"))}}}]},r={id:"settingsMobileForm",view:"form",margin:"top",formStyle:"horizontal line",fieldset:[{formLabel:"Orientation",view:"select",name:"touchOrientation",data:[{value:"portrait",label:"Portrait"},{value:"landscape",label:"Landscape"}],on:{onInitialized:function(){AndroidRef&&AndroidRef.getOrientation&&this.setValue(AndroidRef.getOrientation())},onChange:function(e,t,n){if(AndroidRef&&AndroidRef.setOrientation){var i=this.getValue();AndroidRef.setOrientation(i),n&&GA_SendEvent("change_orientation","settings")}}}}]},s={id:"settingsTouchForm",view:"form",margin:"top",formStyle:"horizontal line",fieldset:[{formLabel:"Touch Features",view:"toggle",name:"touchFeatures",checked:e.deviceTouchSupport,on:{onChange:function(t,n,i){var o=document.documentElement;this.getValue()?e.deviceTouchSupport&&(UI.support.touch=!0,UI.removeClass(o,"uk-notouch"),UI.addClass(o,"uk-touch")):(UI.support.touch=!1,UI.removeClass(o,"uk-touch"),UI.addClass(o,"uk-notouch")),i&&(e.R(),GA_SendEvent("change_touch_features","settings"))}}},{formLabel:"Keyboard Position",view:"select",name:"touchKeyboardPosition",data:[{value:"top",label:"Top"},{value:"bottom",label:"Bottom"}],on:{onInitialized:function(){this.setValue(o.useragent.isIOS?"top":"bottom")},onChange:function(t,n,i){var a=this.getValue();o.jn(a),i&&(e.R(),GA_SendEvent("change_keyboard_position","settings"))}}},{formLabel:"Extra Touch Keyboard",view:"toggle",name:"touchExtraKeyboard",checked:!0,on:{onChange:function(t,n,i){var a=this.getValue();o.Pn(a),i&&(e.R(),GA_SendEvent("change_extra_keyboard","settings"))}}},{formLabel:"Touch Keyboard",view:"toggle",name:"touchKeyboard",checked:!0,on:{onChange:function(t,n,i){var a=this.getValue();o.Gn(a),i&&(e.R(),GA_SendEvent("change_touch_keyboard","settings"))}}}]},c={id:"settingsGitForm",view:"form",margin:"top",formStyle:"horizontal line",fieldset:[{formLabel:"Authentication",view:"link",label:"Set",on:{onClick:function(){n.zo()}}}]},l={id:"settingsAppearanceForm",view:"form",margin:"top",formStyle:"horizontal line",fieldset:[{formLabel:"Animations",view:"toggle",name:"appearanceAnimations",checked:!0,on:{onChange:function(t,n,i){var o=this.getValue();e._r(o),i&&(e.R(),GA_SendEvent("change_animations","settings"))}}},{formLabel:"Theme",view:"select",name:"appearanceTheme",data:[{value:"ayu-light",label:"Ayu Light",optgroup:"Light"},{value:"chrome",label:"Chrome",optgroup:"Light"},{value:"xcode",label:"XCode",optgroup:"Light"},{value:"ayu-mirage",label:"Ayu Mirage",optgroup:"Dark"},{value:"dracula",label:"Dracula",optgroup:"Dark"},{value:"monokai",label:"Monokai",optgroup:"Dark"}],on:{onInitialized:function(){this.setValue("xcode")},onChange:function(t,n,i){e._(this.getValue()),i&&(e.R(),GA_SendEvent("change_theme","settings"))}}}]},u={id:"settingsPreviewForm",view:"form",margin:"top",formStyle:"horizontal line",fieldset:[{formLabel:"Live Preview",view:"toggle",name:"previewUseLiveMode",checked:!0,on:{onChange:function(t,n,i){var o=this.getValue();e.preview.Io(o),i&&(e.R(),GA_SendEvent("change_live_preview","settings"))}}}]},d={id:"settingsAboutForm",view:"form",margin:"top",formStyle:"horizontal line",fieldset:[{formLabel:"Build",view:"label",label:window.$version||"Dev"},{formLabel:"Terms Agreement",view:"link",label:"Open",on:{onClick:function(){i.banner.show()}}},{formLabel:"View Logs",view:"link",label:"Open",on:{onClick:function(){t.modal.open()}}},{formLabel:"<a class='uk-text-danger uk-text-nowrap' href='https://github.com/spckio/spck-issues/issues'\n            rel='noopener noreferrer' target='_blank'>Report an Issue</a>"}]};function h(e){return e.hidden=!(AndroidRef&&AndroidRef.setOrientation),e}function f(t){return t.hidden=!e.deviceTouchSupport,t}function p(e,t){return{cls:"x-menu-title-bar",view:"menuTitle",label:e,on:{onToggled:function(e){var n=$$(t);e.visible?n.show():n.hide()}}}}e.view=UI.new({batch:"settings",id:e.__name__,fill:"height",flexLayout:"column",cls:"x-max-width-100",cells:[{cls:"x-menu-title-bar shadow",view:"menuTitle",label:"SETTINGS",collapsable:!1},{view:"scroller",flexSize:"flex",cells:[p("GIT","settingsGitForm"),c,p("APPEARANCE","settingsAppearanceForm"),l,p("EDITOR","settingsEditorForm"),a,p("PREVIEW","settingsPreviewForm"),u,h(p("MOBILE","settingsMobileForm")),h(r),f(p("TOUCH","settingsTouchForm")),f(s),p("ABOUT","settingsAboutForm"),d,{view:"spacer",height:64}]}]})}));